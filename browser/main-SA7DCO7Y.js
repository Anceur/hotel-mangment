import{$ as __,$a as xn,$b as B_,A as bi,Aa as w_,Ab as O_,B as f_,Ba as Ga,Bb as Pe,C as Xu,Ca as b_,Cb as Ae,D as $a,Da as An,Db as ad,E as dt,Ea as Qn,Eb as cd,F as Ju,Fa as Bs,Fb as ld,G as cr,Ga as E_,Gb as ud,H as js,Ha as I_,Hb as M_,I as Zu,Ia as zs,Ib as fr,J as ed,Ja as P,Jb as N_,K as Dt,Ka as k,Kb as Ya,L as m_,La as od,Lb as Xa,M as td,Ma as Et,Mb as V_,N as Ha,Na as C_,Nb as Hs,O as Kn,Oa as Wa,Ob as dd,P as nd,Pa as Ka,Pb as F_,Q as p_,Qa as ur,Qb as ln,R as g_,Ra as jt,Rb as Ii,S as qa,Sa as S_,Sb as L_,T as Cn,Ta as dr,Tb as Tt,U as Yt,Ua as le,Ub as qs,V as bt,Va as T_,Vb as un,W as Ye,Wa as Rt,Wb as mr,X as Fe,Xa as A_,Xb as j_,Y as Xt,Ya as x_,Yb as U_,Z as G,Za as ne,Zb as de,_ as Ee,_a as D_,_b as Yn,a as L,aa as Z,ab as Dn,ac as z_,b as fe,ba as id,bb as z,bc as Xn,ca as O,cb as Ut,cc as Bt,d as x,da as W,db as R_,dc as $_,e as yi,ea as on,eb as Ei,ec as H_,f as l_,fa as Us,fb as m,fc as q_,g as Gn,ga as Se,gb as f,gc as kt,h as Wu,ha as Ie,hb as $,hc as G_,i as Vs,ia as Q,ib as Xe,ic as W_,j as he,ja as Sn,jb as Je,jc as hd,k as ut,ka as v_,kb as It,kc as K_,l as u_,la as lr,lb as ht,m as d_,ma as Tn,mb as Qa,n as Wn,na as yt,nb as V,o as Ku,oa as ee,ob as H,p as Qu,pa as te,pb as hr,q as Yu,qa as _e,qb as an,r as it,ra as Te,rb as k_,s as J,sa as Ve,sb as cn,t as Fs,ta as rd,tb as $s,u as wi,ua as je,ub as Ct,v as h_,va as y_,vb as St,w as ge,wa as ze,wb as P_,x as Ls,xa as ce,xb as p,y as Lt,ya as sd,yb as Ze,z as za,za as ye,zb as He}from"./chunk-PLEUGKKC.js";var pd=class extends U_{constructor(){super(...arguments),this.supportsDOMEvents=!0}},gd=class n extends pd{static makeCurrent(){j_(new n)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=oI();return t==null?null:aI(t)}resetBaseElement(){Gs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return B_(document.cookie,e)}},Gs=null;function oI(){return Gs=Gs||document.querySelector("base"),Gs?Gs.getAttribute("href"):null}function aI(n){return new URL(n,document.baseURI).pathname}var cI=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac})}}return n})(),_d=new Z(""),X_=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(s=>s.supports(t)),!i)throw new Fe(5101,!1);return this._eventNameToPlugin.set(t,i),i}static{this.\u0275fac=function(i){return new(i||n)(O(_d),O(ce))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac})}}return n})(),Ja=class{constructor(e){this._doc=e}},fd="ng-app-id",J_=(()=>{class n{constructor(t,i,r,s={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=hd(s),this.resetHostNodes()}addStyles(t){for(let i of t)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(t){for(let i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){let i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${fd}="${this.appId}"]`);if(t?.length){let i=new Map;return t.forEach(r=>{r.textContent!=null&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){let r=this.styleRef;if(r.has(t)){let s=r.get(t);return s.usage+=i,s.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){let r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===t)return r.delete(i),s.removeAttribute(fd),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=i,this.platformIsServer&&o.setAttribute(fd,this.appId),t.appendChild(o),o}}addStyleToHost(t,i){let r=this.getStyleElement(t,i),s=this.styleRef,o=s.get(i)?.elements;o?o.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||n)(O(de),O(Ga),O(Bs,8),O(An))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac})}}return n})(),md={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},yd=/%COMP%/g,Z_="%COMP%",lI=`_nghost-${Z_}`,uI=`_ngcontent-${Z_}`,dI=!0,hI=new Z("",{providedIn:"root",factory:()=>dI});function fI(n){return uI.replace(yd,n)}function mI(n){return lI.replace(yd,n)}function ev(n,e){return e.map(t=>t.replace(yd,n))}var Za=(()=>{class n{constructor(t,i,r,s,o,c,l,d=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=c,this.ngZone=l,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=hd(c),this.defaultRenderer=new Ws(t,o,l,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Us.ShadowDom&&(i=fe(L({},i),{encapsulation:Us.Emulated}));let r=this.getOrCreateRenderer(t,i);return r instanceof ec?r.applyToHost(t):r instanceof Ks&&r.applyStyles(),r}getOrCreateRenderer(t,i){let r=this.rendererByCompId,s=r.get(i.id);if(!s){let o=this.doc,c=this.ngZone,l=this.eventManager,d=this.sharedStylesHost,g=this.removeStylesOnCompDestroy,v=this.platformIsServer;switch(i.encapsulation){case Us.Emulated:s=new ec(l,d,i,this.appId,g,o,c,v);break;case Us.ShadowDom:return new vd(l,d,t,i,o,c,this.nonce,v);default:s=new Ks(l,d,i,g,o,c,v);break}r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||n)(O(X_),O(J_),O(Ga),O(hI),O(de),O(An),O(ce),O(Bs))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac})}}return n})(),Ws=class{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(md[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Q_(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(Q_(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){t.remove()}selectRootElement(e,t){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new Fe(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;let s=md[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){let r=md[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(zs.DashCase|zs.Important)?e.style.setProperty(t,i,r&zs.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&zs.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e!=null&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i){if(typeof e=="string"&&(e=mr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function Q_(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var vd=class extends Ws{constructor(e,t,i,r,s,o,c,l){super(e,s,o,l),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=ev(r.id,r.styles);for(let g of d){let v=document.createElement("style");c&&v.setAttribute("nonce",c),v.textContent=g,this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ks=class extends Ws{constructor(e,t,i,r,s,o,c,l){super(e,s,o,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=l?ev(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},ec=class extends Ks{constructor(e,t,i,r,s,o,c,l){let d=r+"-"+i.id;super(e,t,i,s,o,c,l,d),this.contentAttr=fI(d),this.hostAttr=mI(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}},pI=(()=>{class n extends Ja{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||n)(O(de))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac})}}return n})(),Y_=["alt","control","meta","shift"],gI={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_I={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},vI=(()=>{class n extends Ja{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,i,r){let s=n.parseEventName(i),o=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>mr().onAndCancel(t,s.domEventName,o))}static parseEventName(t){let i=t.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let s=n._normalizeKey(i.pop()),o="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),o="code."),Y_.forEach(d=>{let g=i.indexOf(d);g>-1&&(i.splice(g,1),o+=d+".")}),o+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=r,l.fullKey=o,l}static matchEventFullKeyCode(t,i){let r=gI[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(r=t.code,s="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),Y_.forEach(o=>{if(o!==r){let c=_I[o];c(t)&&(s+=o+".")}}),s+=r,s===i)}static eventCallback(t,i,r){return s=>{n.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(i){return new(i||n)(O(de))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac})}}return n})();function tv(n,e){return L_(L({rootComponent:n},yI(e)))}function yI(n){return{appProviders:[...CI,...n?.providers??[]],platformProviders:II}}function wI(){gd.makeCurrent()}function bI(){return new sd}function EI(){return w_(document),document}var II=[{provide:An,useValue:G_},{provide:b_,useValue:wI,multi:!0},{provide:de,useFactory:EI,deps:[]}];var CI=[{provide:v_,useValue:"root"},{provide:sd,useFactory:bI,deps:[]},{provide:_d,useClass:pI,multi:!0,deps:[de,ce,An]},{provide:_d,useClass:vI,multi:!0,deps:[de]},Za,J_,X_,{provide:Ka,useExisting:Za},{provide:K_,useClass:cI,deps:[]},[]];var nv=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(i){return new(i||n)(O(de))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ue="primary",ho=Symbol("RouteTitle"),Cd=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function wr(n){return new Cd(n)}function TI(n,e,t){let i=t.path.split("/");if(i.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||i.length<n.length))return null;let r={};for(let s=0;s<i.length;s++){let o=i[s],c=n[s];if(o[0]===":")r[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function AI(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!dn(n[t],e[t]))return!1;return!0}function dn(n,e){let t=n?Sd(n):void 0,i=e?Sd(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!uv(n[r],e[r]))return!1;return!0}function Sd(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function uv(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}else return n===e}function dv(n){return n.length>0?n[n.length-1]:null}function Jn(n){return wi(n)?n:Xa(n)?it(Promise.resolve(n)):J(n)}var xI={exact:fv,subset:mv},hv={exact:DI,subset:RI,ignored:()=>!0};function iv(n,e,t){return xI[t.paths](n.root,e.root,t.matrixParams)&&hv[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function DI(n,e){return dn(n,e)}function fv(n,e,t){if(!Si(n.segments,e.segments)||!ic(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!n.children[i]||!fv(n.children[i],e.children[i],t))return!1;return!0}function RI(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>uv(n[t],e[t]))}function mv(n,e,t){return pv(n,e,e.segments,t)}function pv(n,e,t,i){if(n.segments.length>t.length){let r=n.segments.slice(0,t.length);return!(!Si(r,t)||e.hasChildren()||!ic(r,t,i))}else if(n.segments.length===t.length){if(!Si(n.segments,t)||!ic(n.segments,t,i))return!1;for(let r in e.children)if(!n.children[r]||!mv(n.children[r],e.children[r],i))return!1;return!0}else{let r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!Si(n.segments,r)||!ic(n.segments,r,i)||!n.children[ue]?!1:pv(n.children[ue],e,s,i)}}function ic(n,e,t){return e.every((i,r)=>hv[t](n[r].parameters,i.parameters))}var kn=class{constructor(e=new xe([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=wr(this.queryParams),this._queryParamMap}toString(){return OI.serialize(this)}},xe=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return rc(this)}},Ci=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=wr(this.parameters),this._parameterMap}toString(){return _v(this)}};function kI(n,e){return Si(n,e)&&n.every((t,i)=>dn(t.parameters,e[i].parameters))}function Si(n,e){return n.length!==e.length?!1:n.every((t,i)=>t.path===e[i].path)}function PI(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===ue&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==ue&&(t=t.concat(e(r,i)))}),t}var Xd=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=G({token:n,factory:()=>new to,providedIn:"root"})}}return n})(),to=class{parse(e){let t=new Ad(e);return new kn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Qs(e.root,!0)}`,i=VI(e.queryParams),r=typeof e.fragment=="string"?`#${MI(e.fragment)}`:"";return`${t}${i}${r}`}},OI=new to;function rc(n){return n.segments.map(e=>_v(e)).join("/")}function Qs(n,e){if(!n.hasChildren())return rc(n);if(e){let t=n.children[ue]?Qs(n.children[ue],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==ue&&i.push(`${r}:${Qs(s,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=PI(n,(i,r)=>r===ue?[Qs(n.children[ue],!1)]:[`${r}:${Qs(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[ue]!=null?`${rc(n)}/${t[0]}`:`${rc(n)}/(${t.join("//")})`}}function gv(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function tc(n){return gv(n).replace(/%3B/gi,";")}function MI(n){return encodeURI(n)}function Td(n){return gv(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function sc(n){return decodeURIComponent(n)}function rv(n){return sc(n.replace(/\+/g,"%20"))}function _v(n){return`${Td(n.path)}${NI(n.parameters)}`}function NI(n){return Object.entries(n).map(([e,t])=>`;${Td(e)}=${Td(t)}`).join("")}function VI(n){let e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(r=>`${tc(t)}=${tc(r)}`).join("&"):`${tc(t)}=${tc(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var FI=/^[^\/()?;#]+/;function wd(n){let e=n.match(FI);return e?e[0]:""}var LI=/^[^\/()?;=#]+/;function jI(n){let e=n.match(LI);return e?e[0]:""}var UI=/^[^=?&#]+/;function BI(n){let e=n.match(UI);return e?e[0]:""}var zI=/^[^&#]+/;function $I(n){let e=n.match(zI);return e?e[0]:""}var Ad=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new xe([],{}):new xe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[ue]=new xe(e,t)),i}parseSegment(){let e=wd(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Fe(4009,!1);return this.capture(e),new Ci(sc(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=jI(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let r=wd(this.remaining);r&&(i=r,this.capture(i))}e[sc(t)]=sc(i)}parseQueryParam(e){let t=BI(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let o=$I(this.remaining);o&&(i=o,this.capture(i))}let r=rv(t),s=rv(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=wd(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new Fe(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ue);let o=this.parseChildren();t[s]=Object.keys(o).length===1?o[ue]:new xe([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Fe(4011,!1)}};function vv(n){return n.segments.length>0?new xe([],{[ue]:n}):n}function yv(n){let e={};for(let[i,r]of Object.entries(n.children)){let s=yv(r);if(i===ue&&s.segments.length===0&&s.hasChildren())for(let[o,c]of Object.entries(s.children))e[o]=c;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}let t=new xe(n.segments,e);return HI(t)}function HI(n){if(n.numberOfChildren===1&&n.children[ue]){let e=n.children[ue];return new xe(n.segments.concat(e.segments),e.children)}return n}function no(n){return n instanceof kn}function qI(n,e,t=null,i=null){let r=wv(n);return bv(r,e,t,i)}function wv(n){let e;function t(s){let o={};for(let l of s.children){let d=t(l);o[l.outlet]=d}let c=new xe(s.url,o);return s===n&&(e=c),c}let i=t(n.root),r=vv(i);return e??r}function bv(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(e.length===0)return bd(r,r,r,t,i);let s=GI(e);if(s.toRoot())return bd(r,r,new xe([],{}),t,i);let o=WI(s,r,n),c=o.processChildren?Js(o.segmentGroup,o.index,s.commands):Iv(o.segmentGroup,o.index,s.commands);return bd(r,o.segmentGroup,c,t,i)}function oc(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function io(n){return typeof n=="object"&&n!=null&&n.outlets}function bd(n,e,t,i,r){let s={};i&&Object.entries(i).forEach(([l,d])=>{s[l]=Array.isArray(d)?d.map(g=>`${g}`):`${d}`});let o;n===e?o=t:o=Ev(n,e,t);let c=vv(yv(o));return new kn(c,s,r)}function Ev(n,e,t){let i={};return Object.entries(n.children).forEach(([r,s])=>{s===e?i[r]=t:i[r]=Ev(s,e,t)}),new xe(n.segments,i)}var ac=class{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&oc(i[0]))throw new Fe(4003,!1);let r=i.find(io);if(r&&r!==dv(i))throw new Fe(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function GI(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new ac(!0,0,n);let e=0,t=!1,i=n.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([l,d])=>{c[l]=typeof d=="string"?d.split("/"):d}),[...r,{outlets:c}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((c,l)=>{l==0&&c==="."||(l==0&&c===""?t=!0:c===".."?e++:c!=""&&r.push(c))}),r):[...r,s]},[]);return new ac(t,e,i)}var _r=class{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}};function WI(n,e,t){if(n.isAbsolute)return new _r(e,!0,0);if(!t)return new _r(e,!1,NaN);if(t.parent===null)return new _r(t,!0,0);let i=oc(n.commands[0])?0:1,r=t.segments.length-1+i;return KI(t,r,n.numberOfDoubleDots)}function KI(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Fe(4005,!1);r=i.segments.length}return new _r(i,!1,r-s)}function QI(n){return io(n[0])?n[0].outlets:{[ue]:n}}function Iv(n,e,t){if(n??=new xe([],{}),n.segments.length===0&&n.hasChildren())return Js(n,e,t);let i=YI(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let s=new xe(n.segments.slice(0,i.pathIndex),{});return s.children[ue]=new xe(n.segments.slice(i.pathIndex),n.children),Js(s,0,r)}else return i.match&&r.length===0?new xe(n.segments,{}):i.match&&!n.hasChildren()?xd(n,e,t):i.match?Js(n,0,r):xd(n,e,t)}function Js(n,e,t){if(t.length===0)return new xe(n.segments,{});{let i=QI(t),r={};if(Object.keys(i).some(s=>s!==ue)&&n.children[ue]&&n.numberOfChildren===1&&n.children[ue].segments.length===0){let s=Js(n.children[ue],e,t);return new xe(n.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=Iv(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{i[s]===void 0&&(r[s]=o)}),new xe(n.segments,r)}}function YI(n,e,t){let i=0,r=e,s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;let o=n.segments[r],c=t[i];if(io(c))break;let l=`${c}`,d=i<t.length-1?t[i+1]:null;if(r>0&&l===void 0)break;if(l&&d&&typeof d=="object"&&d.outlets===void 0){if(!ov(l,d,o))return s;i+=2}else{if(!ov(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function xd(n,e,t){let i=n.segments.slice(0,e),r=0;for(;r<t.length;){let s=t[r];if(io(s)){let l=XI(s.outlets);return new xe(i,l)}if(r===0&&oc(t[0])){let l=n.segments[e];i.push(new Ci(l.path,sv(t[0]))),r++;continue}let o=io(s)?s.outlets[ue]:`${s}`,c=r<t.length-1?t[r+1]:null;o&&c&&oc(c)?(i.push(new Ci(o,sv(c))),r+=2):(i.push(new Ci(o,{})),r++)}return new xe(i,{})}function XI(n){let e={};return Object.entries(n).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[t]=xd(new xe([],{}),0,i))}),e}function sv(n){let e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function ov(n,e,t){return n==t.path&&dn(e,t.parameters)}var Zs="imperative",rt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(rt||{}),zt=class{constructor(e,t){this.id=e,this.url=t}},ro=class extends zt{constructor(e,t,i="imperative",r=null){super(e,t),this.type=rt.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ti=class extends zt{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=rt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ot=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Ot||{}),Dd=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Dd||{}),Rn=class extends zt{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=rt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ai=class extends zt{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=rt.NavigationSkipped}},so=class extends zt{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=rt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},cc=class extends zt{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=rt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Rd=class extends zt{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=rt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},kd=class extends zt{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=rt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Pd=class extends zt{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=rt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Od=class extends zt{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=rt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Md=class{constructor(e){this.route=e,this.type=rt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Nd=class{constructor(e){this.route=e,this.type=rt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Vd=class{constructor(e){this.snapshot=e,this.type=rt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fd=class{constructor(e){this.snapshot=e,this.type=rt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ld=class{constructor(e){this.snapshot=e,this.type=rt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jd=class{constructor(e){this.snapshot=e,this.type=rt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var oo=class{},br=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function JI(n,e){return n.providers&&!n._injector&&(n._injector=x_(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Jt(n){return n.outlet||ue}function ZI(n,e){let t=n.filter(i=>Jt(i)===e);return t.push(...n.filter(i=>Jt(i)!==e)),t}function fo(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Ud=class{get injector(){return fo(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new pc(this.rootInjector),this.attachRef=null}},pc=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,i){let r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){let i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new Ud(this.rootInjector),this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(i){return new(i||n)(O(lr))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),lc=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Bd(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){let t=Bd(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=zd(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return zd(e,this._root).map(t=>t.value)}};function Bd(n,e){if(n===e.value)return e;for(let t of e.children){let i=Bd(n,t);if(i)return i}return null}function zd(n,e){if(n===e.value)return[e];for(let t of e.children){let i=zd(n,t);if(i.length)return i.unshift(e),i}return[]}var Pt=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function gr(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var uc=class extends lc{constructor(e,t){super(e),this.snapshot=t,Jd(this,e)}toString(){return this.snapshot.toString()}};function Cv(n){let e=eC(n),t=new ut([new Ci("",{})]),i=new ut({}),r=new ut({}),s=new ut({}),o=new ut(""),c=new hn(t,i,s,o,r,ue,n,e.root);return c.snapshot=e.root,new uc(new Pt(c,[]),e)}function eC(n){let e={},t={},i={},r="",s=new vr([],e,i,r,t,ue,n,null,{});return new hc("",new Pt(s,[]))}var hn=class{constructor(e,t,i,r,s,o,c,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=c,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(ge(d=>d[ho]))??J(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ge(e=>wr(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ge(e=>wr(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function dc(n,e,t="emptyOnly"){let i,{routeConfig:r}=n;return e!==null&&(t==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:L(L({},e.params),n.params),data:L(L({},e.data),n.data),resolve:L(L(L(L({},n.data),e.data),r?.data),n._resolvedData)}:i={params:L({},n.params),data:L({},n.data),resolve:L(L({},n.data),n._resolvedData??{})},r&&Tv(r)&&(i.resolve[ho]=r.title),i}var vr=class{get title(){return this.data?.[ho]}constructor(e,t,i,r,s,o,c,l,d){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=c,this.routeConfig=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=wr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=wr(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},hc=class extends lc{constructor(e,t){super(t),this.url=e,Jd(this,t)}toString(){return Sv(this._root)}};function Jd(n,e){e.value._routerState=n,e.children.forEach(t=>Jd(n,t))}function Sv(n){let e=n.children.length>0?` { ${n.children.map(Sv).join(", ")} } `:"";return`${n.value}${e}`}function Ed(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,dn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),dn(e.params,t.params)||n.paramsSubject.next(t.params),AI(e.url,t.url)||n.urlSubject.next(t.url),dn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function $d(n,e){let t=dn(n.params,e.params)&&kI(n.url,e.url),i=!n.parent!=!e.parent;return t&&!i&&(!n.parent||$d(n.parent,e.parent))}function Tv(n){return typeof n.title=="string"||n.title===null}var Zd=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ue,this.activateEvents=new ze,this.deactivateEvents=new ze,this.attachEvents=new ze,this.detachEvents=new ze,this.parentContexts=W(pc),this.location=W(jt),this.changeDetector=W(ln),this.inputBinder=W(eh,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Fe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Fe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Fe(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new Fe(4013,!1);this._activatedRoute=t;let r=this.location,o=t.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new Hd(t,c,r.injector);this.activated=r.createComponent(o,{index:r.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Q({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[yt]})}}return n})(),Hd=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===hn?this.route:e===pc?this.childContexts:this.parent.get(e,t)}},eh=new Z("");function tC(n,e,t){let i=ao(n,e._root,t?t._root:void 0);return new uc(i,e)}function ao(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=e.value;let r=nC(n,e,t);return new Pt(i,r)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(c=>ao(n,c)),o}}let i=iC(e.value),r=e.children.map(s=>ao(n,s));return new Pt(i,r)}}function nC(n,e,t){return e.children.map(i=>{for(let r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return ao(n,i,r);return ao(n,i)})}function iC(n){return new hn(new ut(n.url),new ut(n.params),new ut(n.queryParams),new ut(n.fragment),new ut(n.data),n.outlet,n.component,n)}var co=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},Av="ngNavigationCancelingError";function fc(n,e){let{redirectTo:t,navigationBehaviorOptions:i}=no(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=xv(!1,Ot.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function xv(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[Av]=!0,t.cancellationCode=e,t}function rC(n){return Dv(n)&&no(n.url)}function Dv(n){return!!n&&n[Av]}var sC=(n,e,t,i)=>ge(r=>(new qd(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)),qd=class{constructor(e,t,i,r,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),Ed(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){let r=gr(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){let r=e.value,s=t?t.value:null;if(r===s)if(r.component){let o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=gr(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(i&&i.outlet){let o=i.outlet.detach(),c=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=gr(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){let r=gr(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new jd(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Fd(e.value.snapshot))}activateRoutes(e,t,i){let r=e.value,s=t?t.value:null;if(Ed(r),r===s)if(r.component){let o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,i);else if(r.component){let o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let c=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),Ed(c.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=r,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,i)}},mc=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},yr=class{constructor(e,t){this.component=e,this.route=t}};function oC(n,e,t){let i=n._root,r=e?e._root:null;return Ys(i,r,t,[i.value])}function aC(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Ir(n,e){let t=Symbol(),i=e.get(n,t);return i===t?typeof n=="function"&&!__(n)?n:e.get(n):i}function Ys(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=gr(e);return n.children.forEach(o=>{cC(o,s[o.value.outlet],t,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,c])=>eo(c,t.getContext(o),r)),r}function cC(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,c=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=lC(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new mc(i)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Ys(n,e,c?c.children:null,i,r):Ys(n,e,t,i,r),l&&c&&c.outlet&&c.outlet.isActivated&&r.canDeactivateChecks.push(new yr(c.outlet.component,o))}else o&&eo(e,c,r),r.canActivateChecks.push(new mc(i)),s.component?Ys(n,null,c?c.children:null,i,r):Ys(n,null,t,i,r);return r}function lC(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Si(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Si(n.url,e.url)||!dn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$d(n,e)||!dn(n.queryParams,e.queryParams);case"paramsChange":default:return!$d(n,e)}}function eo(n,e,t){let i=gr(n),r=n.value;Object.entries(i).forEach(([s,o])=>{r.component?e?eo(o,e.children.getContext(s),t):eo(o,null,t):eo(o,e,t)}),r.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new yr(e.outlet.component,r)):t.canDeactivateChecks.push(new yr(null,r)):t.canDeactivateChecks.push(new yr(null,r))}function mo(n){return typeof n=="function"}function uC(n){return typeof n=="boolean"}function dC(n){return n&&mo(n.canLoad)}function hC(n){return n&&mo(n.canActivate)}function fC(n){return n&&mo(n.canActivateChild)}function mC(n){return n&&mo(n.canDeactivate)}function pC(n){return n&&mo(n.canMatch)}function Rv(n){return n instanceof h_||n?.name==="EmptyError"}var nc=Symbol("INITIAL_VALUE");function Er(){return Yt(n=>Ls(n.map(e=>e.pipe(Dt(1),Cn(nc)))).pipe(ge(e=>{for(let t of e)if(t!==!0){if(t===nc)return nc;if(t===!1||gC(t))return t}return!0}),dt(e=>e!==nc),Dt(1)))}function gC(n){return no(n)||n instanceof co}function _C(n,e){return Lt(t=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?J(fe(L({},t),{guardsResult:!0})):vC(o,i,r,n).pipe(Lt(c=>c&&uC(c)?yC(i,s,n,e):J(c)),ge(c=>fe(L({},t),{guardsResult:c})))})}function vC(n,e,t,i){return it(n).pipe(Lt(r=>CC(r.component,r.route,t,e,i)),Kn(r=>r!==!0,!0))}function yC(n,e,t,i){return it(e).pipe(js(r=>za(bC(r.route.parent,i),wC(r.route,i),IC(n,r.path,t),EC(n,r.route,t))),Kn(r=>r!==!0,!0))}function wC(n,e){return n!==null&&e&&e(new Ld(n)),J(!0)}function bC(n,e){return n!==null&&e&&e(new Vd(n)),J(!0)}function EC(n,e,t){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return J(!0);let r=i.map(s=>bi(()=>{let o=fo(e)??t,c=Ir(s,o),l=hC(c)?c.canActivate(e,n):Tn(o,()=>c(e,n));return Jn(l).pipe(Kn())}));return J(r).pipe(Er())}function IC(n,e,t){let i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>aC(o)).filter(o=>o!==null).map(o=>bi(()=>{let c=o.guards.map(l=>{let d=fo(o.node)??t,g=Ir(l,d),v=fC(g)?g.canActivateChild(i,n):Tn(d,()=>g(i,n));return Jn(v).pipe(Kn())});return J(c).pipe(Er())}));return J(s).pipe(Er())}function CC(n,e,t,i,r){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return J(!0);let o=s.map(c=>{let l=fo(e)??r,d=Ir(c,l),g=mC(d)?d.canDeactivate(n,e,t,i):Tn(l,()=>d(n,e,t,i));return Jn(g).pipe(Kn())});return J(o).pipe(Er())}function SC(n,e,t,i){let r=e.canLoad;if(r===void 0||r.length===0)return J(!0);let s=r.map(o=>{let c=Ir(o,n),l=dC(c)?c.canLoad(e,t):Tn(n,()=>c(e,t));return Jn(l)});return J(s).pipe(Er(),kv(i))}function kv(n){return l_(Ye(e=>{if(typeof e!="boolean")throw fc(n,e)}),ge(e=>e===!0))}function TC(n,e,t,i){let r=e.canMatch;if(!r||r.length===0)return J(!0);let s=r.map(o=>{let c=Ir(o,n),l=pC(c)?c.canMatch(e,t):Tn(n,()=>c(e,t));return Jn(l)});return J(s).pipe(Er(),kv(i))}var lo=class{constructor(e){this.segmentGroup=e||null}},uo=class extends Error{constructor(e){super(),this.urlTree=e}};function pr(n){return Fs(new lo(n))}function AC(n){return Fs(new Fe(4e3,!1))}function xC(n){return Fs(xv(!1,Ot.GuardRejected))}var Gd=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return J(i);if(r.numberOfChildren>1||!r.children[ue])return AC(`${e.redirectTo}`);r=r.children[ue]}}applyRedirectCommands(e,t,i,r,s){if(typeof t!="string"){let c=t,{queryParams:l,fragment:d,routeConfig:g,url:v,outlet:E,params:D,data:M,title:j}=r,F=Tn(s,()=>c({params:D,data:M,queryParams:l,fragment:d,routeConfig:g,url:v,outlet:E,title:j}));if(F instanceof kn)throw new uo(F);t=F}let o=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t[0]==="/")throw new uo(o);return o}applyRedirectCreateUrlTree(e,t,i,r){let s=this.createSegmentGroup(e,t.root,i,r);return new kn(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let i={};return Object.entries(e).forEach(([r,s])=>{if(typeof s=="string"&&s[0]===":"){let c=s.substring(1);i[r]=t[c]}else i[r]=s}),i}createSegmentGroup(e,t,i,r){let s=this.createSegments(e,t.segments,i,r),o={};return Object.entries(t.children).forEach(([c,l])=>{o[c]=this.createSegmentGroup(e,l,i,r)}),new xe(s,o)}createSegments(e,t,i,r){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){let r=i[t.path.substring(1)];if(!r)throw new Fe(4001,!1);return r}findOrReturn(e,t){let i=0;for(let r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}},Wd={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function DC(n,e,t,i,r){let s=Pv(n,e,t);return s.matched?(i=JI(e,i),TC(i,e,t,r).pipe(ge(o=>o===!0?s:L({},Wd)))):J(s)}function Pv(n,e,t){if(e.path==="**")return RC(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?L({},Wd):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let r=(e.matcher||TI)(t,n,e);if(!r)return L({},Wd);let s={};Object.entries(r.posParams??{}).forEach(([c,l])=>{s[c]=l.path});let o=r.consumed.length>0?L(L({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function RC(n){return{matched:!0,parameters:n.length>0?dv(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function av(n,e,t,i){return t.length>0&&OC(n,t,i)?{segmentGroup:new xe(e,PC(i,new xe(t,n.children))),slicedSegments:[]}:t.length===0&&MC(n,t,i)?{segmentGroup:new xe(n.segments,kC(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new xe(n.segments,n.children),slicedSegments:t}}function kC(n,e,t,i){let r={};for(let s of t)if(gc(n,e,s)&&!i[Jt(s)]){let o=new xe([],{});r[Jt(s)]=o}return L(L({},i),r)}function PC(n,e){let t={};t[ue]=e;for(let i of n)if(i.path===""&&Jt(i)!==ue){let r=new xe([],{});t[Jt(i)]=r}return t}function OC(n,e,t){return t.some(i=>gc(n,e,i)&&Jt(i)!==ue)}function MC(n,e,t){return t.some(i=>gc(n,e,i))}function gc(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function NC(n,e,t){return e.length===0&&!n.children[t]}var Kd=class{};function VC(n,e,t,i,r,s,o="emptyOnly"){return new Qd(n,e,t,i,r,o,s).recognize()}var FC=31,Qd=class{constructor(e,t,i,r,s,o,c){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.applyRedirects=new Gd(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Fe(4002,`'${e.segmentGroup}'`)}recognize(){let e=av(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ge(({children:t,rootSnapshot:i})=>{let r=new Pt(i,t),s=new hc("",r),o=qI(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let t=new vr([],Object.freeze({}),Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ue,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ue,t).pipe(ge(i=>({children:i,rootSnapshot:t})),cr(i=>{if(i instanceof uo)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof lo?this.noMatchError(i):i}))}processSegmentGroup(e,t,i,r,s){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,t,i,s):this.processSegment(e,t,i,i.segments,r,!0,s).pipe(ge(o=>o instanceof Pt?[o]:[]))}processChildren(e,t,i,r){let s=[];for(let o of Object.keys(i.children))o==="primary"?s.unshift(o):s.push(o);return it(s).pipe(js(o=>{let c=i.children[o],l=ZI(t,o);return this.processSegmentGroup(e,l,c,o,r)}),g_((o,c)=>(o.push(...c),o)),ed(null),p_(),Lt(o=>{if(o===null)return pr(i);let c=Ov(o);return LC(c),J(c)}))}processSegment(e,t,i,r,s,o,c){return it(t).pipe(js(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,i,r,s,o,c).pipe(cr(d=>{if(d instanceof lo)return J(null);throw d}))),Kn(l=>!!l),cr(l=>{if(Rv(l))return NC(i,r,s)?J(new Kd):pr(i);throw l}))}processSegmentAgainstRoute(e,t,i,r,s,o,c,l){return Jt(i)!==o&&(o===ue||!gc(r,s,i))?pr(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,s,o,l):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,s,o,l):pr(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o,c){let{matched:l,parameters:d,consumedSegments:g,positionalParamSegments:v,remainingSegments:E}=Pv(t,r,s);if(!l)return pr(t);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>FC&&(this.allowRedirects=!1));let D=new vr(s,d,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,cv(r),Jt(r),r.component??r._loadedComponent??null,r,lv(r)),M=dc(D,c,this.paramsInheritanceStrategy);D.params=Object.freeze(M.params),D.data=Object.freeze(M.data);let j=this.applyRedirects.applyRedirectCommands(g,r.redirectTo,v,D,e);return this.applyRedirects.lineralizeSegments(r,j).pipe(Lt(F=>this.processSegment(e,i,t,F.concat(E),o,!1,c)))}matchSegmentAgainstRoute(e,t,i,r,s,o){let c=DC(t,i,r,e,this.urlSerializer);return i.path==="**"&&(t.children={}),c.pipe(Yt(l=>l.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(Yt(({routes:d})=>{let g=i._loadedInjector??e,{parameters:v,consumedSegments:E,remainingSegments:D}=l,M=new vr(E,v,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,cv(i),Jt(i),i.component??i._loadedComponent??null,i,lv(i)),j=dc(M,o,this.paramsInheritanceStrategy);M.params=Object.freeze(j.params),M.data=Object.freeze(j.data);let{segmentGroup:F,slicedSegments:Y}=av(t,E,D,d);if(Y.length===0&&F.hasChildren())return this.processChildren(g,d,F,M).pipe(ge(oe=>new Pt(M,oe)));if(d.length===0&&Y.length===0)return J(new Pt(M,[]));let re=Jt(i)===s;return this.processSegment(g,d,F,Y,re?ue:s,!0,M).pipe(ge(oe=>new Pt(M,oe instanceof Pt?[oe]:[])))}))):pr(t)))}getChildConfig(e,t,i){return t.children?J({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?J({routes:t._loadedRoutes,injector:t._loadedInjector}):SC(e,t,i,this.urlSerializer).pipe(Lt(r=>r?this.configLoader.loadChildren(e,t).pipe(Ye(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):xC(t))):J({routes:[],injector:e})}};function LC(n){n.sort((e,t)=>e.value.outlet===ue?-1:t.value.outlet===ue?1:e.value.outlet.localeCompare(t.value.outlet))}function jC(n){let e=n.value.routeConfig;return e&&e.path===""}function Ov(n){let e=[],t=new Set;for(let i of n){if(!jC(i)){e.push(i);continue}let r=e.find(s=>i.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...i.children),t.add(r)):e.push(i)}for(let i of t){let r=Ov(i.children);e.push(new Pt(i.value,r))}return e.filter(i=>!t.has(i))}function cv(n){return n.data||{}}function lv(n){return n.resolve||{}}function UC(n,e,t,i,r,s){return Lt(o=>VC(n,e,t,i,o.extractedUrl,r,s).pipe(ge(({state:c,tree:l})=>fe(L({},o),{targetSnapshot:c,urlAfterRedirects:l}))))}function BC(n,e){return Lt(t=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return J(t);let s=new Set(r.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let d of Mv(l))o.add(d);let c=0;return it(o).pipe(js(l=>s.has(l)?zC(l,i,n,e):(l.data=dc(l,l.parent,n).resolve,J(void 0))),Ye(()=>c++),nd(1),Lt(l=>c===o.size?J(t):Wn))})}function Mv(n){let e=n.children.map(t=>Mv(t)).flat();return[n,...e]}function zC(n,e,t,i){let r=n.routeConfig,s=n._resolve;return r?.title!==void 0&&!Tv(r)&&(s[ho]=r.title),$C(s,n,e,i).pipe(ge(o=>(n._resolvedData=o,n.data=dc(n,n.parent,t).resolve,null)))}function $C(n,e,t,i){let r=Sd(n);if(r.length===0)return J({});let s={};return it(r).pipe(Lt(o=>HC(n[o],e,t,i).pipe(Kn(),Ye(c=>{if(c instanceof co)throw fc(new to,c);s[o]=c}))),nd(1),m_(s),cr(o=>Rv(o)?Wn:Fs(o)))}function HC(n,e,t,i){let r=fo(e)??i,s=Ir(n,r),o=s.resolve?s.resolve(e,t):Tn(r,()=>s(e,t));return Jn(o)}function Id(n){return Yt(e=>{let t=n(e);return t?it(t).pipe(ge(()=>e)):J(e)})}var Nv=(()=>{class n{buildTitle(t){let i,r=t.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===ue);return i}getResolvedTitleForRoute(t){return t.data[ho]}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=G({token:n,factory:()=>W(qC),providedIn:"root"})}}return n})(),qC=(()=>{class n extends Nv{constructor(t){super(),this.title=t}updateTitle(t){let i=this.buildTitle(t);i!==void 0&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||n)(O(nv))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),th=new Z("",{providedIn:"root",factory:()=>({})}),GC=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Se({type:n,selectors:[["ng-component"]],standalone:!0,features:[Ae],decls:1,vars:0,template:function(i,r){i&1&&$(0,"router-outlet")},dependencies:[Zd],encapsulation:2})}}return n})();function nh(n){let e=n.children&&n.children.map(nh),t=e?fe(L({},n),{children:e}):L({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ue&&(t.component=GC),t}var ih=new Z(""),WC=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=W(dd)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return J(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let i=Jn(t.loadComponent()).pipe(ge(Vv),Ye(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Ha(()=>{this.componentLoaders.delete(t)})),r=new Vs(i,()=>new he).pipe(Wu());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return J({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=KC(i,this.compiler,t,this.onLoadEndListener).pipe(Ha(()=>{this.childrenLoaders.delete(i)})),o=new Vs(s,()=>new he).pipe(Wu());return this.childrenLoaders.set(i,o),o}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function KC(n,e,t,i){return Jn(n.loadChildren()).pipe(ge(Vv),Lt(r=>r instanceof A_||Array.isArray(r)?J(r):it(e.compileModuleAsync(r))),ge(r=>{i&&i(n);let s,o,c=!1;return Array.isArray(r)?(o=r,c=!0):(s=r.create(t).injector,o=s.get(ih,[],{optional:!0,self:!0}).flat()),{routes:o.map(nh),injector:s}}))}function QC(n){return n&&typeof n=="object"&&"default"in n}function Vv(n){return QC(n)?n.default:n}var rh=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=G({token:n,factory:()=>W(YC),providedIn:"root"})}}return n})(),YC=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),XC=new Z("");var JC=new Z(""),ZC=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new he,this.transitionAbortSubject=new he,this.configLoader=W(WC),this.environmentInjector=W(lr),this.urlSerializer=W(Xd),this.rootContexts=W(pc),this.location=W(Yn),this.inputBindingEnabled=W(eh,{optional:!0})!==null,this.titleStrategy=W(Nv),this.options=W(th,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=W(rh),this.createViewTransition=W(XC,{optional:!0}),this.navigationErrorHandler=W(JC,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>J(void 0),this.rootComponentType=null;let t=r=>this.events.next(new Md(r)),i=r=>this.events.next(new Nd(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let i=++this.navigationId;this.transitions?.next(fe(L(L({},this.transitions.value),t),{id:i}))}setupNavigations(t,i,r){return this.transitions=new ut({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Zs,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(dt(s=>s.id!==0),ge(s=>fe(L({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Yt(s=>{let o=!1,c=!1;return J(s).pipe(Yt(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Ot.SupersededByNewNavigation),Wn;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?fe(L({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),g=l.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!d&&g!=="reload"){let v="";return this.events.next(new Ai(l.id,this.urlSerializer.serialize(l.rawUrl),v,Dd.IgnoredSameUrlNavigation)),l.resolve(!1),Wn}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return J(l).pipe(Yt(v=>{let E=this.transitions?.getValue();return this.events.next(new ro(v.id,this.urlSerializer.serialize(v.extractedUrl),v.source,v.restoredState)),E!==this.transitions?.getValue()?Wn:Promise.resolve(v)}),UC(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Ye(v=>{s.targetSnapshot=v.targetSnapshot,s.urlAfterRedirects=v.urlAfterRedirects,this.currentNavigation=fe(L({},this.currentNavigation),{finalUrl:v.urlAfterRedirects});let E=new cc(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(E)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:v,extractedUrl:E,source:D,restoredState:M,extras:j}=l,F=new ro(v,this.urlSerializer.serialize(E),D,M);this.events.next(F);let Y=Cv(this.rootComponentType).snapshot;return this.currentTransition=s=fe(L({},l),{targetSnapshot:Y,urlAfterRedirects:E,extras:fe(L({},j),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=E,J(s)}else{let v="";return this.events.next(new Ai(l.id,this.urlSerializer.serialize(l.extractedUrl),v,Dd.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Wn}}),Ye(l=>{let d=new Rd(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),ge(l=>(this.currentTransition=s=fe(L({},l),{guards:oC(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),_C(this.environmentInjector,l=>this.events.next(l)),Ye(l=>{if(s.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw fc(this.urlSerializer,l.guardsResult);let d=new kd(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(d)}),dt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Ot.GuardRejected),!1)),Id(l=>{if(l.guards.canActivateChecks.length)return J(l).pipe(Ye(d=>{let g=new Pd(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(g)}),Yt(d=>{let g=!1;return J(d).pipe(BC(this.paramsInheritanceStrategy,this.environmentInjector),Ye({next:()=>g=!0,complete:()=>{g||this.cancelNavigationTransition(d,"",Ot.NoDataFromResolver)}}))}),Ye(d=>{let g=new Od(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(g)}))}),Id(l=>{let d=g=>{let v=[];g.routeConfig?.loadComponent&&!g.routeConfig._loadedComponent&&v.push(this.configLoader.loadComponent(g.routeConfig).pipe(Ye(E=>{g.component=E}),ge(()=>{})));for(let E of g.children)v.push(...d(E));return v};return Ls(d(l.targetSnapshot.root)).pipe(ed(null),Dt(1))}),Id(()=>this.afterPreactivation()),Yt(()=>{let{currentSnapshot:l,targetSnapshot:d}=s,g=this.createViewTransition?.(this.environmentInjector,l.root,d.root);return g?it(g).pipe(ge(()=>s)):J(s)}),ge(l=>{let d=tC(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=fe(L({},l),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,s}),Ye(()=>{this.events.next(new oo)}),sC(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Dt(1),Ye({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ti(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),bt(this.transitionAbortSubject.pipe(Ye(l=>{throw l}))),Ha(()=>{!o&&!c&&this.cancelNavigationTransition(s,"",Ot.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),cr(l=>{if(c=!0,Dv(l))this.events.next(new Rn(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),rC(l)?this.events.next(new br(l.url,l.navigationBehaviorOptions)):s.resolve(!1);else{let d=new so(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0);try{let g=Tn(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(g instanceof co){let{message:v,cancellationCode:E}=fc(this.urlSerializer,g);this.events.next(new Rn(s.id,this.urlSerializer.serialize(s.extractedUrl),v,E)),this.events.next(new br(g.redirectTo,g.navigationBehaviorOptions))}else{this.events.next(d);let v=t.errorHandler(l);s.resolve(!!v)}}catch(g){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(g)}}return Wn}))}))}cancelNavigationTransition(t,i,r){let s=new Rn(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function e1(n){return n!==Zs}var t1=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=G({token:n,factory:()=>W(n1),providedIn:"root"})}}return n})(),Yd=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},n1=(()=>{class n extends Yd{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Ve(n)))(r||n)}})()}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Fv=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=G({token:n,factory:()=>W(i1),providedIn:"root"})}}return n})(),i1=(()=>{class n extends Fv{constructor(){super(...arguments),this.location=W(Yn),this.urlSerializer=W(Xd),this.options=W(th,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=W(rh),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new kn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Cv(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{i.type==="popstate"&&t(i.url,i.state)})}handleRouterEvent(t,i){if(t instanceof ro)this.stateMemento=this.createStateMemento();else if(t instanceof Ai)this.rawUrlTree=i.initialUrl;else if(t instanceof cc){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??r,i)}}else t instanceof oo?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):t instanceof Rn&&(t.code===Ot.GuardRejected||t.code===Ot.NoDataFromResolver)?this.restoreHistory(i):t instanceof so?this.restoreHistory(i,!0):t instanceof Ti&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,i){let r=t instanceof kn?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){let s=this.browserPageId,o=L(L({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(r,"",o)}else{let s=L(L({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(r,"",s)}}restoreHistory(t,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,s=this.currentPageId-r;s!==0?this.location.historyGo(s):this.currentUrlTree===t.finalUrl&&s===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Ve(n)))(r||n)}})()}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Xs=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Xs||{});function r1(n,e){n.events.pipe(dt(t=>t instanceof Ti||t instanceof Rn||t instanceof so||t instanceof Ai),ge(t=>t instanceof Ti||t instanceof Ai?Xs.COMPLETE:(t instanceof Rn?t.code===Ot.Redirect||t.code===Ot.SupersededByNewNavigation:!1)?Xs.REDIRECTING:Xs.FAILED),dt(t=>t!==Xs.REDIRECTING),Dt(1)).subscribe(()=>{e()})}function s1(n){throw n}var o1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},a1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},$t=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=W(Ya),this.stateManager=W(Fv),this.options=W(th,{optional:!0})||{},this.pendingTasks=W(y_),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=W(ZC),this.urlSerializer=W(Xd),this.location=W(Yn),this.urlHandlingStrategy=W(rh),this._events=new he,this.errorHandler=this.options.errorHandler||s1,this.navigated=!1,this.routeReuseStrategy=W(t1),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=W(ih,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!W(eh,{optional:!0}),this.eventsSubscription=new yi,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(r!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof Rn&&i.code!==Ot.Redirect&&i.code!==Ot.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Ti)this.navigated=!0;else if(i instanceof br){let o=i.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),l=L({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||e1(r.source)},o);this.scheduleNavigation(c,Zs,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}l1(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Zs,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",i)},0)})}navigateToSyncWithBrowser(t,i,r){let s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){let l=L({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let c=this.parseUrl(t);this.scheduleNavigation(c,i,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(nh),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){let{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:c,preserveFragment:l}=i,d=l?this.currentUrlTree.fragment:o,g=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":g=L(L({},this.currentUrlTree.queryParams),s);break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=s||null}g!==null&&(g=this.removeEmptyProps(g));let v;try{let E=r?r.snapshot:this.routerState.snapshot.root;v=wv(E)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),v=this.currentUrlTree.root}return bv(v,t,g,d??null)}navigateByUrl(t,i={skipLocationChange:!1}){let r=no(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,Zs,null,i)}navigate(t,i={skipLocationChange:!1}){return c1(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let r;if(i===!0?r=L({},o1):i===!1?r=L({},a1):r=i,no(t))return iv(this.currentUrlTree,t,r);let s=this.parseUrl(t);return iv(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.entries(t).reduce((i,[r,s])=>(s!=null&&(i[r]=s),i),{})}scheduleNavigation(t,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let c,l,d;o?(c=o.resolve,l=o.reject,d=o.promise):d=new Promise((v,E)=>{c=v,l=E});let g=this.pendingTasks.add();return r1(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(g))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:c,reject:l,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(v=>Promise.reject(v))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function c1(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new Fe(4008,!1)}function l1(n){return!(n instanceof oo)&&!(n instanceof br)}var u1=new Z("");function Lv(n,...e){return Sn([{provide:ih,multi:!0,useValue:n},[],{provide:hn,useFactory:d1,deps:[$t]},{provide:V_,multi:!0,useFactory:h1},e.map(t=>t.\u0275providers)])}function d1(n){return n.routerState.root}function h1(){let n=W(je);return e=>{let t=n.get(Hs);if(e!==t.components[0])return;let i=n.get($t),r=n.get(f1);n.get(m1)===1&&i.initialNavigation(),n.get(p1,null,id.Optional)?.setUpPreloading(),n.get(u1,null,id.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var f1=new Z("",{factory:()=>new he}),m1=new Z("",{providedIn:"root",factory:()=>1});var p1=new Z("");var _c=class n{title="hotel-managment";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Se({type:n,selectors:[["app-root"]],standalone:!0,features:[Ae],decls:1,vars:0,template:function(t,i){t&1&&$(0,"router-outlet")},dependencies:[Zd]})};var Uv=function(n){let e=[],t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},g1=function(n){let e=[],t=0,i=0;for(;t<n.length;){let r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let s=n[t++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){let s=n[t++],o=n[t++],c=n[t++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{let s=n[t++],o=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Bv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){let s=n[r],o=r+1<n.length,c=o?n[r+1]:0,l=r+2<n.length,d=l?n[r+2]:0,g=s>>2,v=(s&3)<<4|c>>4,E=(c&15)<<2|d>>6,D=d&63;l||(D=64,o||(E=64)),i.push(t[g],t[v],t[E],t[D])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Uv(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):g1(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){let s=t[n.charAt(r++)],c=r<n.length?t[n.charAt(r)]:0;++r;let d=r<n.length?t[n.charAt(r)]:64;++r;let v=r<n.length?t[n.charAt(r)]:64;if(++r,s==null||c==null||d==null||v==null)throw new oh;let E=s<<2|c>>4;if(i.push(E),d!==64){let D=c<<4&240|d>>2;if(i.push(D),v!==64){let M=d<<6&192|v;i.push(M)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},oh=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},_1=function(n){let e=Uv(n);return Bv.encodeByteArray(e,!0)},go=function(n){return _1(n).replace(/\./g,"")},ch=function(n){try{return Bv.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function v1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var y1=()=>v1().__FIREBASE_DEFAULTS__,w1=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},b1=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&ch(n[1]);return e&&JSON.parse(e)},yc=()=>{try{return y1()||w1()||b1()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},zv=n=>{var e,t;return(t=(e=yc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},$v=n=>{let e=zv(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},lh=()=>{var n;return(n=yc())===null||n===void 0?void 0:n.config},Hv=n=>{var e;return(e=yc())===null||e===void 0?void 0:e[`_${n}`]};var vc=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}};function qv(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[go(JSON.stringify(t)),go(JSON.stringify(o)),""].join(".")}function Mt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Gv(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mt())}function E1(){var n;let e=(n=yc())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Wv(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Kv(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Qv(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Yv(){return!E1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uh(){try{return typeof indexedDB=="object"}catch{return!1}}function Xv(){return new Promise((n,e)=>{try{let t=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var I1="FirebaseError",Ht=class n extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=I1,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pn.prototype.create)}},Pn=class{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){let i=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?C1(s,i):"Error",c=`${this.serviceName}: ${o} (${r}).`;return new Ht(r,c,i)}};function C1(n,e){return n.replace(S1,(t,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var S1=/\{\$([^}]+)}/g;function xi(n,e){if(n===e)return!0;let t=Object.keys(n),i=Object.keys(e);for(let r of t){if(!i.includes(r))return!1;let s=n[r],o=e[r];if(jv(s)&&jv(o)){if(!xi(s,o))return!1}else if(s!==o)return!1}for(let r of i)if(!t.includes(r))return!1;return!0}function jv(n){return n!==null&&typeof n=="object"}function dh(n){let e=[];for(let[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Jv(n,e){let t=new ah(n,e);return t.subscribe.bind(t)}var ah=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");T1(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=sh),r.error===void 0&&(r.error=sh),r.complete===void 0&&(r.complete=sh);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function T1(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function sh(){}var LP=4*60*60*1e3;function wt(n){return n&&n._delegate?n._delegate:n}var qt=class{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Di="[DEFAULT]";var hh=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let i=new vc;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(x1(e))try{this.getOrInitializeService({instanceIdentifier:Di})}catch{}for(let[t,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=Di){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return x(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Di){return this.instances.has(e)}getOptions(e=Di){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(let[s,o]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);i===c&&o.resolve(r)}return r}onInit(e,t){var i;let r=this.normalizeInstanceIdentifier(t),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);let o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let i=this.onInitCallbacks.get(t);if(i)for(let r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:A1(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Di){return this.component?this.component.multipleInstances?e:Di:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function A1(n){return n===Di?void 0:n}function x1(n){return n.instantiationMode==="EAGER"}var wc=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new hh(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var D1=[],me=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(me||{}),R1={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},k1=me.INFO,P1={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},O1=(n,e,...t)=>{if(e<n.logLevel)return;let i=new Date().toISOString(),r=P1[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Zn=class{constructor(e){this.name=e,this._logLevel=k1,this._logHandler=O1,this._userLogHandler=null,D1.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?R1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}};var M1=(n,e)=>e.some(t=>n instanceof t),Zv,e0;function N1(){return Zv||(Zv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function V1(){return e0||(e0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var t0=new WeakMap,mh=new WeakMap,n0=new WeakMap,fh=new WeakMap,gh=new WeakMap;function F1(n){let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(fn(n.result)),r()},o=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&t0.set(t,n)}).catch(()=>{}),gh.set(e,n),e}function L1(n){if(mh.has(n))return;let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),r()},o=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});mh.set(n,e)}var ph={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return mh.get(n);if(e==="objectStoreNames")return n.objectStoreNames||n0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return fn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function i0(n){ph=n(ph)}function j1(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let i=n.call(bc(this),e,...t);return n0.set(i,e.sort?e.sort():[e]),fn(i)}:V1().includes(n)?function(...e){return n.apply(bc(this),e),fn(t0.get(this))}:function(...e){return fn(n.apply(bc(this),e))}}function U1(n){return typeof n=="function"?j1(n):(n instanceof IDBTransaction&&L1(n),M1(n,N1())?new Proxy(n,ph):n)}function fn(n){if(n instanceof IDBRequest)return F1(n);if(fh.has(n))return fh.get(n);let e=U1(n);return e!==n&&(fh.set(n,e),gh.set(e,n)),e}var bc=n=>gh.get(n);function s0(n,e,{blocked:t,upgrade:i,blocking:r,terminated:s}={}){let o=indexedDB.open(n,e),c=fn(o);return i&&o.addEventListener("upgradeneeded",l=>{i(fn(o.result),l.oldVersion,l.newVersion,fn(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),c.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}var B1=["get","getKey","getAll","getAllKeys","count"],z1=["put","add","delete","clear"],_h=new Map;function r0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(_h.get(e))return _h.get(e);let t=e.replace(/FromIndex$/,""),i=e!==t,r=z1.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||B1.includes(t)))return;let s=function(o,...c){return x(this,null,function*(){let l=this.transaction(o,r?"readwrite":"readonly"),d=l.store;return i&&(d=d.index(c.shift())),(yield Promise.all([d[t](...c),r&&l.done]))[0]})};return _h.set(e,s),s}i0(n=>fe(L({},n),{get:(e,t,i)=>r0(e,t)||n.get(e,t,i),has:(e,t)=>!!r0(e,t)||n.has(e,t)}));var yh=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if($1(t)){let i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}};function $1(n){let e=n.getComponent();return e?.type==="VERSION"}var wh="@firebase/app",o0="0.10.13";var On=new Zn("@firebase/app"),H1="@firebase/app-compat",q1="@firebase/analytics-compat",G1="@firebase/analytics",W1="@firebase/app-check-compat",K1="@firebase/app-check",Q1="@firebase/auth",Y1="@firebase/auth-compat",X1="@firebase/database",J1="@firebase/data-connect",Z1="@firebase/database-compat",eS="@firebase/functions",tS="@firebase/functions-compat",nS="@firebase/installations",iS="@firebase/installations-compat",rS="@firebase/messaging",sS="@firebase/messaging-compat",oS="@firebase/performance",aS="@firebase/performance-compat",cS="@firebase/remote-config",lS="@firebase/remote-config-compat",uS="@firebase/storage",dS="@firebase/storage-compat",hS="@firebase/firestore",fS="@firebase/vertexai-preview",mS="@firebase/firestore-compat",pS="firebase",gS="10.14.1";var bh="[DEFAULT]",_S={[wh]:"fire-core",[H1]:"fire-core-compat",[G1]:"fire-analytics",[q1]:"fire-analytics-compat",[K1]:"fire-app-check",[W1]:"fire-app-check-compat",[Q1]:"fire-auth",[Y1]:"fire-auth-compat",[X1]:"fire-rtdb",[J1]:"fire-data-connect",[Z1]:"fire-rtdb-compat",[eS]:"fire-fn",[tS]:"fire-fn-compat",[nS]:"fire-iid",[iS]:"fire-iid-compat",[rS]:"fire-fcm",[sS]:"fire-fcm-compat",[oS]:"fire-perf",[aS]:"fire-perf-compat",[cS]:"fire-rc",[lS]:"fire-rc-compat",[uS]:"fire-gcs",[dS]:"fire-gcs-compat",[hS]:"fire-fst",[mS]:"fire-fst-compat",[fS]:"fire-vertex","fire-js":"fire-js",[pS]:"fire-js-all"};var _o=new Map,vS=new Map,Eh=new Map;function a0(n,e){try{n.container.addComponent(e)}catch(t){On.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ti(n){let e=n.name;if(Eh.has(e))return On.debug(`There were multiple attempts to register component ${e}.`),!1;Eh.set(e,n);for(let t of _o.values())a0(t,n);for(let t of vS.values())a0(t,n);return!0}function Th(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Sr(n){return n.settings!==void 0}var yS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ei=new Pn("app","Firebase",yS);var Ih=class{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new qt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ei.create("app-deleted",{appName:this._name})}};var Tr=gS;function Ah(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let i=Object.assign({name:bh,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw ei.create("bad-app-name",{appName:String(r)});if(t||(t=lh()),!t)throw ei.create("no-options");let s=_o.get(r);if(s){if(xi(t,s.options)&&xi(i,s.config))return s;throw ei.create("duplicate-app",{appName:r})}let o=new wc(r);for(let l of Eh.values())o.addComponent(l);let c=new Ih(t,i,o);return _o.set(r,c),c}function yo(n=bh){let e=_o.get(n);if(!e&&n===bh&&lh())return Ah();if(!e)throw ei.create("no-app",{appName:n});return e}function Ec(){return Array.from(_o.values())}function et(n,e,t){var i;let r=(i=_S[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);let s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let c=[`Unable to register library "${r}" with version "${e}":`];s&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),On.warn(c.join(" "));return}ti(new qt(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var wS="firebase-heartbeat-database",bS=1,vo="firebase-heartbeat-store",vh=null;function d0(){return vh||(vh=s0(wS,bS,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(vo)}catch(t){console.warn(t)}}}}).catch(n=>{throw ei.create("idb-open",{originalErrorMessage:n.message})})),vh}function ES(n){return x(this,null,function*(){try{let t=(yield d0()).transaction(vo),i=yield t.objectStore(vo).get(h0(n));return yield t.done,i}catch(e){if(e instanceof Ht)On.warn(e.message);else{let t=ei.create("idb-get",{originalErrorMessage:e?.message});On.warn(t.message)}}})}function c0(n,e){return x(this,null,function*(){try{let i=(yield d0()).transaction(vo,"readwrite");yield i.objectStore(vo).put(e,h0(n)),yield i.done}catch(t){if(t instanceof Ht)On.warn(t.message);else{let i=ei.create("idb-set",{originalErrorMessage:t?.message});On.warn(i.message)}}})}function h0(n){return`${n.name}!${n.options.appId}`}var IS=1024,CS=30*24*60*60*1e3,Ch=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Sh(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return x(this,null,function*(){var e,t;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=l0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let c=new Date(o.date).valueOf();return Date.now()-c<=CS}),this._storage.overwrite(this._heartbeatsCache))}catch(i){On.warn(i)}})}getHeartbeatsHeader(){return x(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=l0(),{heartbeatsToSend:i,unsentEntries:r}=SS(this._heartbeatsCache.heartbeats),s=go(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return On.warn(t),""}})}};function l0(){return new Date().toISOString().substring(0,10)}function SS(n,e=IS){let t=[],i=n.slice();for(let r of n){let s=t.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),u0(t)>e){s.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),u0(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}var Sh=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return x(this,null,function*(){return uh()?Xv().then(()=>!0).catch(()=>!1):!1})}read(){return x(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield ES(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return x(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return c0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return x(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return c0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function u0(n){return go(JSON.stringify({version:2,heartbeats:n})).length}function TS(n){ti(new qt("platform-logger",e=>new yh(e),"PRIVATE")),ti(new qt("heartbeat",e=>new Ch(e),"PRIVATE")),et(wh,o0,n),et(wh,o0,"esm2017"),et("fire-js","")}TS("");var AS="firebase",xS="10.14.1";et(AS,xS,"app");var xr=new fr("ANGULARFIRE2_VERSION");function Dh(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var bo=(n,e)=>{let t=e?[e]:Ec(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i},wo=class{constructor(){return bo(DS)}},DS="app-check";function Ar(){}var Ic=class{zone;delegate;constructor(e,t=d_){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){let r=this.zone,s=function(o){r.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,t,i)}},xh=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ar,{},Ar,Ar)),t.pipe(Ye({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Eo=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Ic(Zone.current)),this.insideAngular=t.run(()=>new Ic(Zone.current,u_)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(O(ce))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Cc(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function RS(n){return Cc().ngZone.runOutsideAngular(()=>n())}function Ri(n){return Cc().ngZone.run(()=>n())}function kS(n){return PS(Cc())(n)}function PS(n){return function(t){return t=t.lift(new xh(n.ngZone)),t.pipe(Yu(n.outsideAngular),Qu(n.insideAngular))}}var OS=(n,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Ri(()=>n.apply(void 0,i))},At=(n,e)=>function(){let t,i=arguments;for(let s=0;s<arguments.length;s++)typeof i[s]=="function"&&(e&&(t||=Ri(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ar,{},Ar,Ar))),i[s]=OS(i[s],t));let r=RS(()=>n.apply(this,i));if(!e)if(r instanceof Gn){let s=Cc();return r.pipe(Yu(s.outsideAngular),Qu(s.insideAngular))}else return Ri(()=>r);return r instanceof Gn?r.pipe(kS):r instanceof Promise?Ri(()=>new Promise((s,o)=>r.then(c=>Ri(()=>s(c)),c=>Ri(()=>o(c))))):typeof r=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),r.apply(this,arguments)}:Ri(()=>r)};var ki=class{constructor(e){return e}},Io=class{constructor(){return Ec()}};function MS(n){return n&&n.length===1?n[0]:new ki(yo())}var Rh=new Z("angularfire2._apps"),NS={provide:ki,useFactory:MS,deps:[[new on,Rh]]},VS={provide:Io,deps:[[new on,Rh]]};function FS(n){return(e,t)=>{let i=t.get(An);et("angularfire",xr.full,"core"),et("angularfire",xr.full,"app"),et("angular",N_.full,i.toString());let r=e.runOutsideAngular(()=>n(t));return new ki(r)}}function Sc(n,...e){return Sn([NS,VS,{provide:Rh,useFactory:FS(n),multi:!0,deps:[ce,je,Eo,...e]}])}var Tc=At(Ah,!0);function w0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var b0=w0,E0=new Pn("auth","Firebase",w0());var Rc=new Zn("@firebase/auth");function jS(n,...e){Rc.logLevel<=me.WARN&&Rc.warn(`Auth (${Tr}): ${n}`,...e)}function xc(n,...e){Rc.logLevel<=me.ERROR&&Rc.error(`Auth (${Tr}): ${n}`,...e)}function f0(n,...e){throw zh(n,...e)}function Bh(n,...e){return zh(n,...e)}function I0(n,e,t){let i=Object.assign(Object.assign({},b0()),{[e]:t});return new Pn("auth","Firebase",i).create(e,{appName:n.name})}function Dc(n){return I0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zh(n,...e){if(typeof n!="string"){let t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return E0.create(n,...e)}function Ce(n,e,...t){if(!n)throw zh(e,...t)}function Co(n){let e="INTERNAL ASSERTION FAILED: "+n;throw xc(e),new Error(e)}function kc(n,e){n||Co(e)}function US(){return m0()==="http:"||m0()==="https:"}function m0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function BS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(US()||Kv()||"connection"in navigator)?navigator.onLine:!0}function zS(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Oi=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,kc(t>e,"Short delay should be less than long delay!"),this.isMobile=Gv()||Qv()}get(){return BS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function $S(n,e){kc(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Pc=class{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Co("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Co("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Co("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var HS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var qS=new Oi(3e4,6e4);function C0(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Vc(s,o,c,l){return x(this,arguments,function*(n,e,t,i,r={}){return S0(n,r,()=>x(this,null,function*(){let d={},g={};i&&(e==="GET"?g=i:d={body:JSON.stringify(i)});let v=dh(Object.assign({key:n.config.apiKey},g)).slice(1),E=yield n._getAdditionalHeaders();E["Content-Type"]="application/json",n.languageCode&&(E["X-Firebase-Locale"]=n.languageCode);let D=Object.assign({method:e,headers:E},d);return Wv()||(D.referrerPolicy="no-referrer"),Pc.fetch()(T0(n,n.config.apiHost,t,v),D)}))})}function S0(n,e,t){return x(this,null,function*(){n._canInitEmulator=!1;let i=Object.assign(Object.assign({},HS),e);try{let r=new Oh(n),s=yield Promise.race([t(),r.promise]);r.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Ac(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let c=s.ok?o.errorMessage:o.error.message,[l,d]=c.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ac(n,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ac(n,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ac(n,"user-disabled",o);let g=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw I0(n,g,d);f0(n,g)}}catch(r){if(r instanceof Ht)throw r;f0(n,"network-request-failed",{message:String(r)})}})}function T0(n,e,t,i){let r=`${e}${t}?${i}`;return n.config.emulator?$S(n.config,r):`${n.config.apiScheme}://${r}`}var Oh=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Bh(this.auth,"network-request-failed")),qS.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Ac(n,e,t){let i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);let r=Bh(n,e,i);return r.customData._tokenResponse=t,r}function GS(n,e){return x(this,null,function*(){return Vc(n,"POST","/v1/accounts:delete",e)})}function A0(n,e){return x(this,null,function*(){return Vc(n,"POST","/v1/accounts:lookup",e)})}function So(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function $h(n,e=!1){return x(this,null,function*(){let t=wt(n),i=yield t.getIdToken(e),r=x0(i);Ce(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");let s=typeof r.firebase=="object"?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:i,authTime:So(kh(r.auth_time)),issuedAtTime:So(kh(r.iat)),expirationTime:So(kh(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function kh(n){return Number(n)*1e3}function x0(n){let[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return xc("JWT malformed, contained fewer than 3 sections"),null;try{let r=ch(t);return r?JSON.parse(r):(xc("Failed to decode base64 JWT payload"),null)}catch(r){return xc("Caught error parsing JWT payload as JSON",r?.toString()),null}}function p0(n){let e=x0(n);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Mh(n,e,t=!1){return x(this,null,function*(){if(t)return e;try{return yield e}catch(i){throw i instanceof Ht&&WS(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})}function WS({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Nh=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>x(this,null,function*(){yield this.iteration()}),t)}iteration(){return x(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ao=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=So(this.lastLoginAt),this.creationTime=So(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Oc(n){return x(this,null,function*(){var e;let t=n.auth,i=yield n.getIdToken(),r=yield Mh(n,A0(t,{idToken:i}));Ce(r?.users.length,t,"internal-error");let s=r.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?D0(s.providerUserInfo):[],c=KS(n.providerData,o),l=n.isAnonymous,d=!(n.email&&s.passwordHash)&&!c?.length,g=l?d:!1,v={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new Ao(s.createdAt,s.lastLoginAt),isAnonymous:g};Object.assign(n,v)})}function Hh(n){return x(this,null,function*(){let e=wt(n);yield Oc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function KS(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function D0(n){return n.map(e=>{var{providerId:t}=e,i=Ku(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function QS(n,e){return x(this,null,function*(){let t=yield S0(n,{},()=>x(this,null,function*(){let i=dh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,o=T0(n,r,"/v1/token",`key=${s}`),c=yield n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Pc.fetch()(o,{method:"POST",headers:c,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function YS(n,e){return x(this,null,function*(){return Vc(n,"POST","/v2/accounts:revokeToken",C0(n,e))})}var To=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):p0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");let t=p0(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return x(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return x(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:s}=yield QS(e,t);this.updateTokensAndExpiration(i,r,Number(s))})}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){let{refreshToken:i,accessToken:r,expirationTime:s}=t,o=new n;return i&&(Ce(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(Ce(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(Ce(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Co("not implemented")}};function ni(n,e){Ce(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var xo=class n{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,s=Ku(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Nh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ao(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return x(this,null,function*(){let t=yield Mh(this,this.stsTokenManager.getToken(this.auth,e));return Ce(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return $h(this,e)}reload(){return Hh(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return x(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Oc(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return x(this,null,function*(){if(Sr(this.auth.app))return Promise.reject(Dc(this.auth));let e=yield this.getIdToken();return yield Mh(this,GS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,s,o,c,l,d,g;let v=(i=t.displayName)!==null&&i!==void 0?i:void 0,E=(r=t.email)!==null&&r!==void 0?r:void 0,D=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,M=(o=t.photoURL)!==null&&o!==void 0?o:void 0,j=(c=t.tenantId)!==null&&c!==void 0?c:void 0,F=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,Y=(d=t.createdAt)!==null&&d!==void 0?d:void 0,re=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:oe,emailVerified:Me,isAnonymous:gt,providerData:De,stsTokenManager:C}=t;Ce(oe&&C,e,"internal-error");let y=To.fromJSON(this.name,C);Ce(typeof oe=="string",e,"internal-error"),ni(v,e.name),ni(E,e.name),Ce(typeof Me=="boolean",e,"internal-error"),Ce(typeof gt=="boolean",e,"internal-error"),ni(D,e.name),ni(M,e.name),ni(j,e.name),ni(F,e.name),ni(Y,e.name),ni(re,e.name);let b=new n({uid:oe,auth:e,email:E,emailVerified:Me,displayName:v,isAnonymous:gt,photoURL:M,phoneNumber:D,tenantId:j,stsTokenManager:y,createdAt:Y,lastLoginAt:re});return De&&Array.isArray(De)&&(b.providerData=De.map(I=>Object.assign({},I))),F&&(b._redirectEventId=F),b}static _fromIdTokenResponse(e,t,i=!1){return x(this,null,function*(){let r=new To;r.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield Oc(s),s})}static _fromGetAccountInfoResponse(e,t,i){return x(this,null,function*(){let r=t.users[0];Ce(r.localId!==void 0,"internal-error");let s=r.providerUserInfo!==void 0?D0(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!s?.length,c=new To;c.updateFromIdToken(i);let l=new n({uid:r.localId,auth:e,stsTokenManager:c,isAnonymous:o}),d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Ao(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!s?.length};return Object.assign(l,d),l})}};var g0=new Map;function Pi(n){kc(n instanceof Function,"Expected a class definition");let e=g0.get(n);return e?(kc(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,g0.set(n,e),e)}var XS=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return x(this,null,function*(){return!0})}_set(t,i){return x(this,null,function*(){this.storage[t]=i})}_get(t){return x(this,null,function*(){let i=this.storage[t];return i===void 0?null:i})}_remove(t){return x(this,null,function*(){delete this.storage[t]})}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})(),Vh=XS;function Ph(n,e,t){return`firebase:${n}:${e}:${t}`}var Mc=class n{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;let{config:r,name:s}=this.auth;this.fullUserKey=Ph(this.userKey,r.apiKey,s),this.fullPersistenceKey=Ph("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return x(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?xo._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return x(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return x(this,null,function*(){if(!t.length)return new n(Pi(Vh),e,i);let r=(yield Promise.all(t.map(d=>x(this,null,function*(){if(yield d._isAvailable())return d})))).filter(d=>d),s=r[0]||Pi(Vh),o=Ph(i,e.config.apiKey,e.name),c=null;for(let d of t)try{let g=yield d._get(o);if(g){let v=xo._fromJSON(e,g);d!==s&&(c=v),s=d;break}}catch{}let l=r.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new n(s,e,i):(s=l[0],c&&(yield s._set(o,c.toJSON())),yield Promise.all(t.map(d=>x(this,null,function*(){if(d!==s)try{yield d._remove(o)}catch{}}))),new n(s,e,i))})}};function _0(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(JS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iT(e))return"Blackberry";if(rT(e))return"Webos";if(ZS(e))return"Safari";if((e.includes("chrome/")||eT(e))&&!e.includes("edge/"))return"Chrome";if(nT(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function JS(n=Mt()){return/firefox\//i.test(n)}function ZS(n=Mt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eT(n=Mt()){return/crios\//i.test(n)}function tT(n=Mt()){return/iemobile/i.test(n)}function nT(n=Mt()){return/android/i.test(n)}function iT(n=Mt()){return/blackberry/i.test(n)}function rT(n=Mt()){return/webos/i.test(n)}function R0(n,e=[]){let t;switch(n){case"Browser":t=_0(Mt());break;case"Worker":t=`${_0(Mt())}-${n}`;break;default:t=n}let i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Tr}/${i}`}var Fh=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let i=s=>new Promise((o,c)=>{try{let l=e(s);o(l)}catch(l){c(l)}});i.onAbort=t,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return x(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let i of this.queue)yield i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(let r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function sT(t){return x(this,arguments,function*(n,e={}){return Vc(n,"GET","/v2/passwordPolicy",C0(n,e))})}var oT=6,Lh=class{constructor(e){var t,i,r,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:oT,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,s,o,c;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(c=l.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),l}validatePasswordLengthOptions(e,t){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var jh=class{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nc(this),this.idTokenSubscription=new Nc(this),this.beforeStateQueue=new Fh(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=E0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Pi(t)),this._initializationPromise=this.queue(()=>x(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield Mc.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return x(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return x(this,null,function*(){try{let t=yield A0(this,{idToken:e}),i=yield xo._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return x(this,null,function*(){var t;if(Sr(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=r?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!o||o===c)&&l?.user&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return x(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return x(this,null,function*(){try{yield Oc(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=zS()}_delete(){return x(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return x(this,null,function*(){if(Sr(this.app))return Promise.reject(Dc(this));let t=e?wt(e):null;return t&&Ce(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return x(this,null,function*(){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>x(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return x(this,null,function*(){return Sr(this.app)?Promise.reject(Dc(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Sr(this.app)?Promise.reject(Dc(this)):this.queue(()=>x(this,null,function*(){yield this.assertedPersistence.setPersistence(Pi(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return x(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return x(this,null,function*(){let e=yield sT(this),t=new Lh(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Pn("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},t)}})}revokeAccessToken(e){return x(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),yield YS(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return x(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return x(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Pi(e)||this._popupRedirectResolver;Ce(t,this,"argument-error"),this.redirectPersistenceManager=yield Mc.create(this,[Pi(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return x(this,null,function*(){var t,i;return this._isInitialized&&(yield this.queue(()=>x(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return x(this,null,function*(){if(e===this.currentUser)return this.queue(()=>x(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let l=e.addObserver(t,i,r);return()=>{o=!0,l()}}else{let l=e.addObserver(t);return()=>{o=!0,l()}}}directlySetCurrentUser(e){return x(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=R0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return x(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t})}_getAppCheckToken(){return x(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&jS(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function aT(n){return wt(n)}var Nc=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Jv(t=>this.observer=t)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var cT={loadJS(){return x(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lT(n){cT=n}function uT(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function dT(n,e){let t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Pi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}var NO=uT("rcb"),VO=new Oi(3e4,6e4);var FO=new Oi(2e3,1e4);var LO=10*60*1e3;var jO=new Oi(3e4,6e4);var UO=new Oi(5e3,15e3);var BO=encodeURIComponent("fac");var v0="@firebase/auth",y0="1.7.9";var Uh=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return x(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function hT(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fT(n){ti(new qt("auth",(e,{options:t})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=i.options;Ce(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});let l={apiKey:o,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:R0(n)},d=new jh(i,r,s,l);return dT(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),ti(new qt("auth-internal",e=>{let t=aT(e.getProvider("auth").getImmediate());return(i=>new Uh(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),et(v0,y0,hT(n)),et(v0,y0,"esm2017")}var mT=5*60,zO=Hv("authIdTokenMaxAge")||mT;function pT(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}lT({loadJS(n){return new Promise((e,t)=>{let i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{let s=Bh("internal-error");s.customData=r,t(s)},i.type="text/javascript",i.charset="UTF-8",pT().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fT("Browser");var mA="auth";var Fc=class{constructor(){return bo(mA)}};var k0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},P0={};var ii,qh;(function(){var n;function e(C,y){function b(){}b.prototype=y.prototype,C.D=y.prototype,C.prototype=new b,C.prototype.constructor=C,C.C=function(I,S,A){for(var w=Array(arguments.length-2),bn=2;bn<arguments.length;bn++)w[bn-2]=arguments[bn];return y.prototype[S].apply(I,w)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(C,y,b){b||(b=0);var I=Array(16);if(typeof y=="string")for(var S=0;16>S;++S)I[S]=y.charCodeAt(b++)|y.charCodeAt(b++)<<8|y.charCodeAt(b++)<<16|y.charCodeAt(b++)<<24;else for(S=0;16>S;++S)I[S]=y[b++]|y[b++]<<8|y[b++]<<16|y[b++]<<24;y=C.g[0],b=C.g[1],S=C.g[2];var A=C.g[3],w=y+(A^b&(S^A))+I[0]+3614090360&4294967295;y=b+(w<<7&4294967295|w>>>25),w=A+(S^y&(b^S))+I[1]+3905402710&4294967295,A=y+(w<<12&4294967295|w>>>20),w=S+(b^A&(y^b))+I[2]+606105819&4294967295,S=A+(w<<17&4294967295|w>>>15),w=b+(y^S&(A^y))+I[3]+3250441966&4294967295,b=S+(w<<22&4294967295|w>>>10),w=y+(A^b&(S^A))+I[4]+4118548399&4294967295,y=b+(w<<7&4294967295|w>>>25),w=A+(S^y&(b^S))+I[5]+1200080426&4294967295,A=y+(w<<12&4294967295|w>>>20),w=S+(b^A&(y^b))+I[6]+2821735955&4294967295,S=A+(w<<17&4294967295|w>>>15),w=b+(y^S&(A^y))+I[7]+4249261313&4294967295,b=S+(w<<22&4294967295|w>>>10),w=y+(A^b&(S^A))+I[8]+1770035416&4294967295,y=b+(w<<7&4294967295|w>>>25),w=A+(S^y&(b^S))+I[9]+2336552879&4294967295,A=y+(w<<12&4294967295|w>>>20),w=S+(b^A&(y^b))+I[10]+4294925233&4294967295,S=A+(w<<17&4294967295|w>>>15),w=b+(y^S&(A^y))+I[11]+2304563134&4294967295,b=S+(w<<22&4294967295|w>>>10),w=y+(A^b&(S^A))+I[12]+1804603682&4294967295,y=b+(w<<7&4294967295|w>>>25),w=A+(S^y&(b^S))+I[13]+4254626195&4294967295,A=y+(w<<12&4294967295|w>>>20),w=S+(b^A&(y^b))+I[14]+2792965006&4294967295,S=A+(w<<17&4294967295|w>>>15),w=b+(y^S&(A^y))+I[15]+1236535329&4294967295,b=S+(w<<22&4294967295|w>>>10),w=y+(S^A&(b^S))+I[1]+4129170786&4294967295,y=b+(w<<5&4294967295|w>>>27),w=A+(b^S&(y^b))+I[6]+3225465664&4294967295,A=y+(w<<9&4294967295|w>>>23),w=S+(y^b&(A^y))+I[11]+643717713&4294967295,S=A+(w<<14&4294967295|w>>>18),w=b+(A^y&(S^A))+I[0]+3921069994&4294967295,b=S+(w<<20&4294967295|w>>>12),w=y+(S^A&(b^S))+I[5]+3593408605&4294967295,y=b+(w<<5&4294967295|w>>>27),w=A+(b^S&(y^b))+I[10]+38016083&4294967295,A=y+(w<<9&4294967295|w>>>23),w=S+(y^b&(A^y))+I[15]+3634488961&4294967295,S=A+(w<<14&4294967295|w>>>18),w=b+(A^y&(S^A))+I[4]+3889429448&4294967295,b=S+(w<<20&4294967295|w>>>12),w=y+(S^A&(b^S))+I[9]+568446438&4294967295,y=b+(w<<5&4294967295|w>>>27),w=A+(b^S&(y^b))+I[14]+3275163606&4294967295,A=y+(w<<9&4294967295|w>>>23),w=S+(y^b&(A^y))+I[3]+4107603335&4294967295,S=A+(w<<14&4294967295|w>>>18),w=b+(A^y&(S^A))+I[8]+1163531501&4294967295,b=S+(w<<20&4294967295|w>>>12),w=y+(S^A&(b^S))+I[13]+2850285829&4294967295,y=b+(w<<5&4294967295|w>>>27),w=A+(b^S&(y^b))+I[2]+4243563512&4294967295,A=y+(w<<9&4294967295|w>>>23),w=S+(y^b&(A^y))+I[7]+1735328473&4294967295,S=A+(w<<14&4294967295|w>>>18),w=b+(A^y&(S^A))+I[12]+2368359562&4294967295,b=S+(w<<20&4294967295|w>>>12),w=y+(b^S^A)+I[5]+4294588738&4294967295,y=b+(w<<4&4294967295|w>>>28),w=A+(y^b^S)+I[8]+2272392833&4294967295,A=y+(w<<11&4294967295|w>>>21),w=S+(A^y^b)+I[11]+1839030562&4294967295,S=A+(w<<16&4294967295|w>>>16),w=b+(S^A^y)+I[14]+4259657740&4294967295,b=S+(w<<23&4294967295|w>>>9),w=y+(b^S^A)+I[1]+2763975236&4294967295,y=b+(w<<4&4294967295|w>>>28),w=A+(y^b^S)+I[4]+1272893353&4294967295,A=y+(w<<11&4294967295|w>>>21),w=S+(A^y^b)+I[7]+4139469664&4294967295,S=A+(w<<16&4294967295|w>>>16),w=b+(S^A^y)+I[10]+3200236656&4294967295,b=S+(w<<23&4294967295|w>>>9),w=y+(b^S^A)+I[13]+681279174&4294967295,y=b+(w<<4&4294967295|w>>>28),w=A+(y^b^S)+I[0]+3936430074&4294967295,A=y+(w<<11&4294967295|w>>>21),w=S+(A^y^b)+I[3]+3572445317&4294967295,S=A+(w<<16&4294967295|w>>>16),w=b+(S^A^y)+I[6]+76029189&4294967295,b=S+(w<<23&4294967295|w>>>9),w=y+(b^S^A)+I[9]+3654602809&4294967295,y=b+(w<<4&4294967295|w>>>28),w=A+(y^b^S)+I[12]+3873151461&4294967295,A=y+(w<<11&4294967295|w>>>21),w=S+(A^y^b)+I[15]+530742520&4294967295,S=A+(w<<16&4294967295|w>>>16),w=b+(S^A^y)+I[2]+3299628645&4294967295,b=S+(w<<23&4294967295|w>>>9),w=y+(S^(b|~A))+I[0]+4096336452&4294967295,y=b+(w<<6&4294967295|w>>>26),w=A+(b^(y|~S))+I[7]+1126891415&4294967295,A=y+(w<<10&4294967295|w>>>22),w=S+(y^(A|~b))+I[14]+2878612391&4294967295,S=A+(w<<15&4294967295|w>>>17),w=b+(A^(S|~y))+I[5]+4237533241&4294967295,b=S+(w<<21&4294967295|w>>>11),w=y+(S^(b|~A))+I[12]+1700485571&4294967295,y=b+(w<<6&4294967295|w>>>26),w=A+(b^(y|~S))+I[3]+2399980690&4294967295,A=y+(w<<10&4294967295|w>>>22),w=S+(y^(A|~b))+I[10]+4293915773&4294967295,S=A+(w<<15&4294967295|w>>>17),w=b+(A^(S|~y))+I[1]+2240044497&4294967295,b=S+(w<<21&4294967295|w>>>11),w=y+(S^(b|~A))+I[8]+1873313359&4294967295,y=b+(w<<6&4294967295|w>>>26),w=A+(b^(y|~S))+I[15]+4264355552&4294967295,A=y+(w<<10&4294967295|w>>>22),w=S+(y^(A|~b))+I[6]+2734768916&4294967295,S=A+(w<<15&4294967295|w>>>17),w=b+(A^(S|~y))+I[13]+1309151649&4294967295,b=S+(w<<21&4294967295|w>>>11),w=y+(S^(b|~A))+I[4]+4149444226&4294967295,y=b+(w<<6&4294967295|w>>>26),w=A+(b^(y|~S))+I[11]+3174756917&4294967295,A=y+(w<<10&4294967295|w>>>22),w=S+(y^(A|~b))+I[2]+718787259&4294967295,S=A+(w<<15&4294967295|w>>>17),w=b+(A^(S|~y))+I[9]+3951481745&4294967295,C.g[0]=C.g[0]+y&4294967295,C.g[1]=C.g[1]+(S+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+S&4294967295,C.g[3]=C.g[3]+A&4294967295}i.prototype.u=function(C,y){y===void 0&&(y=C.length);for(var b=y-this.blockSize,I=this.B,S=this.h,A=0;A<y;){if(S==0)for(;A<=b;)r(this,C,A),A+=this.blockSize;if(typeof C=="string"){for(;A<y;)if(I[S++]=C.charCodeAt(A++),S==this.blockSize){r(this,I),S=0;break}}else for(;A<y;)if(I[S++]=C[A++],S==this.blockSize){r(this,I),S=0;break}}this.h=S,this.o+=y},i.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var y=1;y<C.length-8;++y)C[y]=0;var b=8*this.o;for(y=C.length-8;y<C.length;++y)C[y]=b&255,b/=256;for(this.u(C),C=Array(16),y=b=0;4>y;++y)for(var I=0;32>I;I+=8)C[b++]=this.g[y]>>>I&255;return C};function s(C,y){var b=c;return Object.prototype.hasOwnProperty.call(b,C)?b[C]:b[C]=y(C)}function o(C,y){this.h=y;for(var b=[],I=!0,S=C.length-1;0<=S;S--){var A=C[S]|0;I&&A==y||(b[S]=A,I=!1)}this.g=b}var c={};function l(C){return-128<=C&&128>C?s(C,function(y){return new o([y|0],0>y?-1:0)}):new o([C|0],0>C?-1:0)}function d(C){if(isNaN(C)||!isFinite(C))return v;if(0>C)return F(d(-C));for(var y=[],b=1,I=0;C>=b;I++)y[I]=C/b|0,b*=4294967296;return new o(y,0)}function g(C,y){if(C.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(C.charAt(0)=="-")return F(g(C.substring(1),y));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=d(Math.pow(y,8)),I=v,S=0;S<C.length;S+=8){var A=Math.min(8,C.length-S),w=parseInt(C.substring(S,S+A),y);8>A?(A=d(Math.pow(y,A)),I=I.j(A).add(d(w))):(I=I.j(b),I=I.add(d(w)))}return I}var v=l(0),E=l(1),D=l(16777216);n=o.prototype,n.m=function(){if(j(this))return-F(this).m();for(var C=0,y=1,b=0;b<this.g.length;b++){var I=this.i(b);C+=(0<=I?I:4294967296+I)*y,y*=4294967296}return C},n.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(M(this))return"0";if(j(this))return"-"+F(this).toString(C);for(var y=d(Math.pow(C,6)),b=this,I="";;){var S=Me(b,y).g;b=Y(b,S.j(y));var A=((0<b.g.length?b.g[0]:b.h)>>>0).toString(C);if(b=S,M(b))return A+I;for(;6>A.length;)A="0"+A;I=A+I}},n.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function M(C){if(C.h!=0)return!1;for(var y=0;y<C.g.length;y++)if(C.g[y]!=0)return!1;return!0}function j(C){return C.h==-1}n.l=function(C){return C=Y(this,C),j(C)?-1:M(C)?0:1};function F(C){for(var y=C.g.length,b=[],I=0;I<y;I++)b[I]=~C.g[I];return new o(b,~C.h).add(E)}n.abs=function(){return j(this)?F(this):this},n.add=function(C){for(var y=Math.max(this.g.length,C.g.length),b=[],I=0,S=0;S<=y;S++){var A=I+(this.i(S)&65535)+(C.i(S)&65535),w=(A>>>16)+(this.i(S)>>>16)+(C.i(S)>>>16);I=w>>>16,A&=65535,w&=65535,b[S]=w<<16|A}return new o(b,b[b.length-1]&-2147483648?-1:0)};function Y(C,y){return C.add(F(y))}n.j=function(C){if(M(this)||M(C))return v;if(j(this))return j(C)?F(this).j(F(C)):F(F(this).j(C));if(j(C))return F(this.j(F(C)));if(0>this.l(D)&&0>C.l(D))return d(this.m()*C.m());for(var y=this.g.length+C.g.length,b=[],I=0;I<2*y;I++)b[I]=0;for(I=0;I<this.g.length;I++)for(var S=0;S<C.g.length;S++){var A=this.i(I)>>>16,w=this.i(I)&65535,bn=C.i(S)>>>16,_s=C.i(S)&65535;b[2*I+2*S]+=w*_s,re(b,2*I+2*S),b[2*I+2*S+1]+=A*_s,re(b,2*I+2*S+1),b[2*I+2*S+1]+=w*bn,re(b,2*I+2*S+1),b[2*I+2*S+2]+=A*bn,re(b,2*I+2*S+2)}for(I=0;I<y;I++)b[I]=b[2*I+1]<<16|b[2*I];for(I=y;I<2*y;I++)b[I]=0;return new o(b,0)};function re(C,y){for(;(C[y]&65535)!=C[y];)C[y+1]+=C[y]>>>16,C[y]&=65535,y++}function oe(C,y){this.g=C,this.h=y}function Me(C,y){if(M(y))throw Error("division by zero");if(M(C))return new oe(v,v);if(j(C))return y=Me(F(C),y),new oe(F(y.g),F(y.h));if(j(y))return y=Me(C,F(y)),new oe(F(y.g),y.h);if(30<C.g.length){if(j(C)||j(y))throw Error("slowDivide_ only works with positive integers.");for(var b=E,I=y;0>=I.l(C);)b=gt(b),I=gt(I);var S=De(b,1),A=De(I,1);for(I=De(I,2),b=De(b,2);!M(I);){var w=A.add(I);0>=w.l(C)&&(S=S.add(b),A=w),I=De(I,1),b=De(b,1)}return y=Y(C,S.j(y)),new oe(S,y)}for(S=v;0<=C.l(y);){for(b=Math.max(1,Math.floor(C.m()/y.m())),I=Math.ceil(Math.log(b)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),A=d(b),w=A.j(y);j(w)||0<w.l(C);)b-=I,A=d(b),w=A.j(y);M(A)&&(A=E),S=S.add(A),C=Y(C,w)}return new oe(S,C)}n.A=function(C){return Me(this,C).h},n.and=function(C){for(var y=Math.max(this.g.length,C.g.length),b=[],I=0;I<y;I++)b[I]=this.i(I)&C.i(I);return new o(b,this.h&C.h)},n.or=function(C){for(var y=Math.max(this.g.length,C.g.length),b=[],I=0;I<y;I++)b[I]=this.i(I)|C.i(I);return new o(b,this.h|C.h)},n.xor=function(C){for(var y=Math.max(this.g.length,C.g.length),b=[],I=0;I<y;I++)b[I]=this.i(I)^C.i(I);return new o(b,this.h^C.h)};function gt(C){for(var y=C.g.length+1,b=[],I=0;I<y;I++)b[I]=C.i(I)<<1|C.i(I-1)>>>31;return new o(b,C.h)}function De(C,y){var b=y>>5;y%=32;for(var I=C.g.length-b,S=[],A=0;A<I;A++)S[A]=0<y?C.i(A+b)>>>y|C.i(A+b+1)<<32-y:C.i(A+b);return new o(S,C.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,qh=P0.Md5=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=g,ii=P0.Integer=o}).apply(typeof k0<"u"?k0:typeof self<"u"?self:typeof window<"u"?window:{});var Lc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Mn={};var Gh,pA,Dr,Wh,Do,jc,Kh,Qh,Yh;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,u,h){return a==Array.prototype||a==Object.prototype||(a[u]=h.value),a};function t(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lc=="object"&&Lc];for(var u=0;u<a.length;++u){var h=a[u];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var i=t(this);function r(a,u){if(u)e:{var h=i;a=a.split(".");for(var _=0;_<a.length-1;_++){var T=a[_];if(!(T in h))break e;h=h[T]}a=a[a.length-1],_=h[a],u=u(_),u!=_&&u!=null&&e(h,a,{configurable:!0,writable:!0,value:u})}}function s(a,u){a instanceof String&&(a+="");var h=0,_=!1,T={next:function(){if(!_&&h<a.length){var R=h++;return{value:u(R,a[R]),done:!1}}return _=!0,{done:!0,value:void 0}}};return T[Symbol.iterator]=function(){return T},T}r("Array.prototype.values",function(a){return a||function(){return s(this,function(u,h){return h})}});var o=o||{},c=this||self;function l(a){var u=typeof a;return u=u!="object"?u:a?Array.isArray(a)?"array":u:"null",u=="array"||u=="object"&&typeof a.length=="number"}function d(a){var u=typeof a;return u=="object"&&a!=null||u=="function"}function g(a,u,h){return a.call.apply(a.bind,arguments)}function v(a,u,h){if(!a)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,_),a.apply(u,T)}}return function(){return a.apply(u,arguments)}}function E(a,u,h){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:v,E.apply(null,arguments)}function D(a,u){var h=Array.prototype.slice.call(arguments,1);return function(){var _=h.slice();return _.push.apply(_,arguments),a.apply(this,_)}}function M(a,u){function h(){}h.prototype=u.prototype,a.aa=u.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(_,T,R){for(var B=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)B[ke-2]=arguments[ke];return u.prototype[T].apply(_,B)}}function j(a){let u=a.length;if(0<u){let h=Array(u);for(let _=0;_<u;_++)h[_]=a[_];return h}return[]}function F(a,u){for(let h=1;h<arguments.length;h++){let _=arguments[h];if(l(_)){let T=a.length||0,R=_.length||0;a.length=T+R;for(let B=0;B<R;B++)a[T+B]=_[B]}else a.push(_)}}class Y{constructor(u,h){this.i=u,this.j=h,this.h=0,this.g=null}get(){let u;return 0<this.h?(this.h--,u=this.g,this.g=u.next,u.next=null):u=this.i(),u}}function re(a){return/^[\s\xa0]*$/.test(a)}function oe(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function Me(a){return Me[" "](a),a}Me[" "]=function(){};var gt=oe().indexOf("Gecko")!=-1&&!(oe().toLowerCase().indexOf("webkit")!=-1&&oe().indexOf("Edge")==-1)&&!(oe().indexOf("Trident")!=-1||oe().indexOf("MSIE")!=-1)&&oe().indexOf("Edge")==-1;function De(a,u,h){for(let _ in a)u.call(h,a[_],_,a)}function C(a,u){for(let h in a)u.call(void 0,a[h],h,a)}function y(a){let u={};for(let h in a)u[h]=a[h];return u}let b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(a,u){let h,_;for(let T=1;T<arguments.length;T++){_=arguments[T];for(h in _)a[h]=_[h];for(let R=0;R<b.length;R++)h=b[R],Object.prototype.hasOwnProperty.call(_,h)&&(a[h]=_[h])}}function S(a){var u=1;a=a.split(":");let h=[];for(;0<u&&a.length;)h.push(a.shift()),u--;return a.length&&h.push(a.join(":")),h}function A(a){c.setTimeout(()=>{throw a},0)}function w(){var a=Eu;let u=null;return a.g&&(u=a.g,a.g=a.g.next,a.g||(a.h=null),u.next=null),u}class bn{constructor(){this.h=this.g=null}add(u,h){let _=_s.get();_.set(u,h),this.h?this.h.next=_:this.g=_,this.h=_}}var _s=new Y(()=>new SE,a=>a.reset());class SE{constructor(){this.next=this.g=this.h=null}set(u,h){this.h=u,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let vs,ys=!1,Eu=new bn,cg=()=>{let a=c.Promise.resolve(void 0);vs=()=>{a.then(TE)}};var TE=()=>{for(var a;a=w();){try{a.h.call(a.g)}catch(h){A(h)}var u=_s;u.j(a),100>u.h&&(u.h++,a.next=u.g,u.g=a)}ys=!1};function zn(){this.s=this.s,this.C=this.C}zn.prototype.s=!1,zn.prototype.ma=function(){this.s||(this.s=!0,this.N())},zn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ot(a,u){this.type=a,this.g=this.target=u,this.defaultPrevented=!1}ot.prototype.h=function(){this.defaultPrevented=!0};var AE=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,u=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,u),c.removeEventListener("test",h,u)}catch{}return a}();function ws(a,u){if(ot.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,_=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=u,u=a.relatedTarget){if(gt){e:{try{Me(u.nodeName);var T=!0;break e}catch{}T=!1}T||(u=null)}}else h=="mouseover"?u=a.fromElement:h=="mouseout"&&(u=a.toElement);this.relatedTarget=u,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:xE[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&ws.aa.h.call(this)}}M(ws,ot);var xE={2:"touch",3:"pen",4:"mouse"};ws.prototype.h=function(){ws.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var bs="closure_listenable_"+(1e6*Math.random()|0),DE=0;function RE(a,u,h,_,T){this.listener=a,this.proxy=null,this.src=u,this.type=h,this.capture=!!_,this.ha=T,this.key=++DE,this.da=this.fa=!1}function Sa(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Ta(a){this.src=a,this.g={},this.h=0}Ta.prototype.add=function(a,u,h,_,T){var R=a.toString();a=this.g[R],a||(a=this.g[R]=[],this.h++);var B=Cu(a,u,_,T);return-1<B?(u=a[B],h||(u.fa=!1)):(u=new RE(u,this.src,R,!!_,T),u.fa=h,a.push(u)),u};function Iu(a,u){var h=u.type;if(h in a.g){var _=a.g[h],T=Array.prototype.indexOf.call(_,u,void 0),R;(R=0<=T)&&Array.prototype.splice.call(_,T,1),R&&(Sa(u),a.g[h].length==0&&(delete a.g[h],a.h--))}}function Cu(a,u,h,_){for(var T=0;T<a.length;++T){var R=a[T];if(!R.da&&R.listener==u&&R.capture==!!h&&R.ha==_)return T}return-1}var Su="closure_lm_"+(1e6*Math.random()|0),Tu={};function lg(a,u,h,_,T){if(_&&_.once)return dg(a,u,h,_,T);if(Array.isArray(u)){for(var R=0;R<u.length;R++)lg(a,u[R],h,_,T);return null}return h=Ru(h),a&&a[bs]?a.K(u,h,d(_)?!!_.capture:!!_,T):ug(a,u,h,!1,_,T)}function ug(a,u,h,_,T,R){if(!u)throw Error("Invalid event type");var B=d(T)?!!T.capture:!!T,ke=xu(a);if(ke||(a[Su]=ke=new Ta(a)),h=ke.add(u,h,_,B,R),h.proxy)return h;if(_=kE(),h.proxy=_,_.src=a,_.listener=h,a.addEventListener)AE||(T=B),T===void 0&&(T=!1),a.addEventListener(u.toString(),_,T);else if(a.attachEvent)a.attachEvent(fg(u.toString()),_);else if(a.addListener&&a.removeListener)a.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return h}function kE(){function a(h){return u.call(a.src,a.listener,h)}let u=PE;return a}function dg(a,u,h,_,T){if(Array.isArray(u)){for(var R=0;R<u.length;R++)dg(a,u[R],h,_,T);return null}return h=Ru(h),a&&a[bs]?a.L(u,h,d(_)?!!_.capture:!!_,T):ug(a,u,h,!0,_,T)}function hg(a,u,h,_,T){if(Array.isArray(u))for(var R=0;R<u.length;R++)hg(a,u[R],h,_,T);else _=d(_)?!!_.capture:!!_,h=Ru(h),a&&a[bs]?(a=a.i,u=String(u).toString(),u in a.g&&(R=a.g[u],h=Cu(R,h,_,T),-1<h&&(Sa(R[h]),Array.prototype.splice.call(R,h,1),R.length==0&&(delete a.g[u],a.h--)))):a&&(a=xu(a))&&(u=a.g[u.toString()],a=-1,u&&(a=Cu(u,h,_,T)),(h=-1<a?u[a]:null)&&Au(h))}function Au(a){if(typeof a!="number"&&a&&!a.da){var u=a.src;if(u&&u[bs])Iu(u.i,a);else{var h=a.type,_=a.proxy;u.removeEventListener?u.removeEventListener(h,_,a.capture):u.detachEvent?u.detachEvent(fg(h),_):u.addListener&&u.removeListener&&u.removeListener(_),(h=xu(u))?(Iu(h,a),h.h==0&&(h.src=null,u[Su]=null)):Sa(a)}}}function fg(a){return a in Tu?Tu[a]:Tu[a]="on"+a}function PE(a,u){if(a.da)a=!0;else{u=new ws(u,this);var h=a.listener,_=a.ha||a.src;a.fa&&Au(a),a=h.call(_,u)}return a}function xu(a){return a=a[Su],a instanceof Ta?a:null}var Du="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ru(a){return typeof a=="function"?a:(a[Du]||(a[Du]=function(u){return a.handleEvent(u)}),a[Du])}function at(){zn.call(this),this.i=new Ta(this),this.M=this,this.F=null}M(at,zn),at.prototype[bs]=!0,at.prototype.removeEventListener=function(a,u,h,_){hg(this,a,u,h,_)};function _t(a,u){var h,_=a.F;if(_)for(h=[];_;_=_.F)h.push(_);if(a=a.M,_=u.type||u,typeof u=="string")u=new ot(u,a);else if(u instanceof ot)u.target=u.target||a;else{var T=u;u=new ot(_,a),I(u,T)}if(T=!0,h)for(var R=h.length-1;0<=R;R--){var B=u.g=h[R];T=Aa(B,_,!0,u)&&T}if(B=u.g=a,T=Aa(B,_,!0,u)&&T,T=Aa(B,_,!1,u)&&T,h)for(R=0;R<h.length;R++)B=u.g=h[R],T=Aa(B,_,!1,u)&&T}at.prototype.N=function(){if(at.aa.N.call(this),this.i){var a=this.i,u;for(u in a.g){for(var h=a.g[u],_=0;_<h.length;_++)Sa(h[_]);delete a.g[u],a.h--}}this.F=null},at.prototype.K=function(a,u,h,_){return this.i.add(String(a),u,!1,h,_)},at.prototype.L=function(a,u,h,_){return this.i.add(String(a),u,!0,h,_)};function Aa(a,u,h,_){if(u=a.i.g[String(u)],!u)return!0;u=u.concat();for(var T=!0,R=0;R<u.length;++R){var B=u[R];if(B&&!B.da&&B.capture==h){var ke=B.listener,nt=B.ha||B.src;B.fa&&Iu(a.i,B),T=ke.call(nt,_)!==!1&&T}}return T&&!_.defaultPrevented}function mg(a,u,h){if(typeof a=="function")h&&(a=E(a,h));else if(a&&typeof a.handleEvent=="function")a=E(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:c.setTimeout(a,u||0)}function pg(a){a.g=mg(()=>{a.g=null,a.i&&(a.i=!1,pg(a))},a.l);let u=a.h;a.h=null,a.m.apply(null,u)}class OE extends zn{constructor(u,h){super(),this.m=u,this.l=h,this.h=null,this.i=!1,this.g=null}j(u){this.h=arguments,this.g?this.i=!0:pg(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Es(a){zn.call(this),this.h=a,this.g={}}M(Es,zn);var gg=[];function _g(a){De(a.g,function(u,h){this.g.hasOwnProperty(h)&&Au(u)},a),a.g={}}Es.prototype.N=function(){Es.aa.N.call(this),_g(this)},Es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ku=c.JSON.stringify,ME=c.JSON.parse,NE=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function Pu(){}Pu.prototype.h=null;function vg(a){return a.h||(a.h=a.i())}function yg(){}var Is={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ou(){ot.call(this,"d")}M(Ou,ot);function Mu(){ot.call(this,"c")}M(Mu,ot);var pi={},wg=null;function xa(){return wg=wg||new at}pi.La="serverreachability";function bg(a){ot.call(this,pi.La,a)}M(bg,ot);function Cs(a){let u=xa();_t(u,new bg(u))}pi.STAT_EVENT="statevent";function Eg(a,u){ot.call(this,pi.STAT_EVENT,a),this.stat=u}M(Eg,ot);function vt(a){let u=xa();_t(u,new Eg(u,a))}pi.Ma="timingevent";function Ig(a,u){ot.call(this,pi.Ma,a),this.size=u}M(Ig,ot);function Ss(a,u){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},u)}function Ts(){this.g=!0}Ts.prototype.xa=function(){this.g=!1};function VE(a,u,h,_,T,R){a.info(function(){if(a.g)if(R)for(var B="",ke=R.split("&"),nt=0;nt<ke.length;nt++){var we=ke[nt].split("=");if(1<we.length){var ct=we[0];we=we[1];var lt=ct.split("_");B=2<=lt.length&&lt[1]=="type"?B+(ct+"="+we+"&"):B+(ct+"=redacted&")}}else B=null;else B=R;return"XMLHTTP REQ ("+_+") [attempt "+T+"]: "+u+`
`+h+`
`+B})}function FE(a,u,h,_,T,R,B){a.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+T+"]: "+u+`
`+h+`
`+R+" "+B})}function rr(a,u,h,_){a.info(function(){return"XMLHTTP TEXT ("+u+"): "+jE(a,h)+(_?" "+_:"")})}function LE(a,u){a.info(function(){return"TIMEOUT: "+u})}Ts.prototype.info=function(){};function jE(a,u){if(!a.g)return u;if(!u)return null;try{var h=JSON.parse(u);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var _=h[a];if(!(2>_.length)){var T=_[1];if(Array.isArray(T)&&!(1>T.length)){var R=T[0];if(R!="noop"&&R!="stop"&&R!="close")for(var B=1;B<T.length;B++)T[B]=""}}}}return ku(h)}catch{return u}}var Da={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Cg={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Nu;function Ra(){}M(Ra,Pu),Ra.prototype.g=function(){return new XMLHttpRequest},Ra.prototype.i=function(){return{}},Nu=new Ra;function $n(a,u,h,_){this.j=a,this.i=u,this.l=h,this.R=_||1,this.U=new Es(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Sg}function Sg(){this.i=null,this.g="",this.h=!1}var Tg={},Vu={};function Fu(a,u,h){a.L=1,a.v=Ma(En(u)),a.m=h,a.P=!0,Ag(a,null)}function Ag(a,u){a.F=Date.now(),ka(a),a.A=En(a.v);var h=a.A,_=a.R;Array.isArray(_)||(_=[String(_)]),Bg(h.i,"t",_),a.C=0,h=a.j.J,a.h=new Sg,a.g=s_(a.j,h?u:null,!a.m),0<a.O&&(a.M=new OE(E(a.Y,a,a.g),a.O)),u=a.U,h=a.g,_=a.ca;var T="readystatechange";Array.isArray(T)||(T&&(gg[0]=T.toString()),T=gg);for(var R=0;R<T.length;R++){var B=lg(h,T[R],_||u.handleEvent,!1,u.h||u);if(!B)break;u.g[B.key]=B}u=a.H?y(a.H):{},a.m?(a.u||(a.u="POST"),u["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,u)):(a.u="GET",a.g.ea(a.A,a.u,null,u)),Cs(),VE(a.i,a.u,a.A,a.l,a.R,a.m)}$n.prototype.ca=function(a){a=a.target;let u=this.M;u&&In(a)==3?u.j():this.Y(a)},$n.prototype.Y=function(a){try{if(a==this.g)e:{let lt=In(this.g);var u=this.g.Ba();let ar=this.g.Z();if(!(3>lt)&&(lt!=3||this.g&&(this.h.h||this.g.oa()||Kg(this.g)))){this.J||lt!=4||u==7||(u==8||0>=ar?Cs(3):Cs(2)),Lu(this);var h=this.g.Z();this.X=h;t:if(xg(this)){var _=Kg(this.g);a="";var T=_.length,R=In(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){gi(this),As(this);var B="";break t}this.h.i=new c.TextDecoder}for(u=0;u<T;u++)this.h.h=!0,a+=this.h.i.decode(_[u],{stream:!(R&&u==T-1)});_.length=0,this.h.g+=a,this.C=0,B=this.h.g}else B=this.g.oa();if(this.o=h==200,FE(this.i,this.u,this.A,this.l,this.R,lt,h),this.o){if(this.T&&!this.K){t:{if(this.g){var ke,nt=this.g;if((ke=nt.g?nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!re(ke)){var we=ke;break t}}we=null}if(h=we)rr(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ju(this,h);else{this.o=!1,this.s=3,vt(12),gi(this),As(this);break e}}if(this.P){h=!0;let Qt;for(;!this.J&&this.C<B.length;)if(Qt=UE(this,B),Qt==Vu){lt==4&&(this.s=4,vt(14),h=!1),rr(this.i,this.l,null,"[Incomplete Response]");break}else if(Qt==Tg){this.s=4,vt(15),rr(this.i,this.l,B,"[Invalid Chunk]"),h=!1;break}else rr(this.i,this.l,Qt,null),ju(this,Qt);if(xg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),lt!=4||B.length!=0||this.h.h||(this.s=1,vt(16),h=!1),this.o=this.o&&h,!h)rr(this.i,this.l,B,"[Invalid Chunked Response]"),gi(this),As(this);else if(0<B.length&&!this.W){this.W=!0;var ct=this.j;ct.g==this&&ct.ba&&!ct.M&&(ct.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),qu(ct),ct.M=!0,vt(11))}}else rr(this.i,this.l,B,null),ju(this,B);lt==4&&gi(this),this.o&&!this.J&&(lt==4?t_(this.j,this):(this.o=!1,ka(this)))}else iI(this.g),h==400&&0<B.indexOf("Unknown SID")?(this.s=3,vt(12)):(this.s=0,vt(13)),gi(this),As(this)}}}catch{}finally{}};function xg(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function UE(a,u){var h=a.C,_=u.indexOf(`
`,h);return _==-1?Vu:(h=Number(u.substring(h,_)),isNaN(h)?Tg:(_+=1,_+h>u.length?Vu:(u=u.slice(_,_+h),a.C=_+h,u)))}$n.prototype.cancel=function(){this.J=!0,gi(this)};function ka(a){a.S=Date.now()+a.I,Dg(a,a.I)}function Dg(a,u){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Ss(E(a.ba,a),u)}function Lu(a){a.B&&(c.clearTimeout(a.B),a.B=null)}$n.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(LE(this.i,this.A),this.L!=2&&(Cs(),vt(17)),gi(this),this.s=2,As(this)):Dg(this,this.S-a)};function As(a){a.j.G==0||a.J||t_(a.j,a)}function gi(a){Lu(a);var u=a.M;u&&typeof u.ma=="function"&&u.ma(),a.M=null,_g(a.U),a.g&&(u=a.g,a.g=null,u.abort(),u.ma())}function ju(a,u){try{var h=a.j;if(h.G!=0&&(h.g==a||Uu(h.h,a))){if(!a.K&&Uu(h.h,a)&&h.G==3){try{var _=h.Da.g.parse(u)}catch{_=null}if(Array.isArray(_)&&_.length==3){var T=_;if(T[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)ja(h),Fa(h);else break e;Hu(h),vt(18)}}else h.za=T[1],0<h.za-h.T&&37500>T[2]&&h.F&&h.v==0&&!h.C&&(h.C=Ss(E(h.Za,h),6e3));if(1>=Pg(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else vi(h,11)}else if((a.K||h.g==a)&&ja(h),!re(u))for(T=h.Da.g.parse(u),u=0;u<T.length;u++){let we=T[u];if(h.T=we[0],we=we[1],h.G==2)if(we[0]=="c"){h.K=we[1],h.ia=we[2];let ct=we[3];ct!=null&&(h.la=ct,h.j.info("VER="+h.la));let lt=we[4];lt!=null&&(h.Aa=lt,h.j.info("SVER="+h.Aa));let ar=we[5];ar!=null&&typeof ar=="number"&&0<ar&&(_=1.5*ar,h.L=_,h.j.info("backChannelRequestTimeoutMs_="+_)),_=h;let Qt=a.g;if(Qt){let Ba=Qt.g?Qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ba){var R=_.h;R.g||Ba.indexOf("spdy")==-1&&Ba.indexOf("quic")==-1&&Ba.indexOf("h2")==-1||(R.j=R.l,R.g=new Set,R.h&&(Bu(R,R.h),R.h=null))}if(_.D){let Gu=Qt.g?Qt.g.getResponseHeader("X-HTTP-Session-Id"):null;Gu&&(_.ya=Gu,Ne(_.I,_.D,Gu))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),_=h;var B=a;if(_.qa=r_(_,_.J?_.ia:null,_.W),B.K){Og(_.h,B);var ke=B,nt=_.L;nt&&(ke.I=nt),ke.B&&(Lu(ke),ka(ke)),_.g=B}else Zg(_);0<h.i.length&&La(h)}else we[0]!="stop"&&we[0]!="close"||vi(h,7);else h.G==3&&(we[0]=="stop"||we[0]=="close"?we[0]=="stop"?vi(h,7):$u(h):we[0]!="noop"&&h.l&&h.l.ta(we),h.v=0)}}Cs(4)}catch{}}var BE=class{constructor(a,u){this.g=a,this.map=u}};function Rg(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function kg(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Pg(a){return a.h?1:a.g?a.g.size:0}function Uu(a,u){return a.h?a.h==u:a.g?a.g.has(u):!1}function Bu(a,u){a.g?a.g.add(u):a.h=u}function Og(a,u){a.h&&a.h==u?a.h=null:a.g&&a.g.has(u)&&a.g.delete(u)}Rg.prototype.cancel=function(){if(this.i=Mg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function Mg(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let u=a.i;for(let h of a.g.values())u=u.concat(h.D);return u}return j(a.i)}function zE(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(l(a)){for(var u=[],h=a.length,_=0;_<h;_++)u.push(a[_]);return u}u=[],h=0;for(_ in a)u[h++]=a[_];return u}function $E(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(l(a)||typeof a=="string"){var u=[];a=a.length;for(var h=0;h<a;h++)u.push(h);return u}u=[],h=0;for(let _ in a)u[h++]=_;return u}}}function Ng(a,u){if(a.forEach&&typeof a.forEach=="function")a.forEach(u,void 0);else if(l(a)||typeof a=="string")Array.prototype.forEach.call(a,u,void 0);else for(var h=$E(a),_=zE(a),T=_.length,R=0;R<T;R++)u.call(void 0,_[R],h&&h[R],a)}var Vg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function HE(a,u){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var _=a[h].indexOf("="),T=null;if(0<=_){var R=a[h].substring(0,_);T=a[h].substring(_+1)}else R=a[h];u(R,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function _i(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof _i){this.h=a.h,Pa(this,a.j),this.o=a.o,this.g=a.g,Oa(this,a.s),this.l=a.l;var u=a.i,h=new Rs;h.i=u.i,u.g&&(h.g=new Map(u.g),h.h=u.h),Fg(this,h),this.m=a.m}else a&&(u=String(a).match(Vg))?(this.h=!1,Pa(this,u[1]||"",!0),this.o=xs(u[2]||""),this.g=xs(u[3]||"",!0),Oa(this,u[4]),this.l=xs(u[5]||"",!0),Fg(this,u[6]||"",!0),this.m=xs(u[7]||"")):(this.h=!1,this.i=new Rs(null,this.h))}_i.prototype.toString=function(){var a=[],u=this.j;u&&a.push(Ds(u,Lg,!0),":");var h=this.g;return(h||u=="file")&&(a.push("//"),(u=this.o)&&a.push(Ds(u,Lg,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(Ds(h,h.charAt(0)=="/"?WE:GE,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",Ds(h,QE)),a.join("")};function En(a){return new _i(a)}function Pa(a,u,h){a.j=h?xs(u,!0):u,a.j&&(a.j=a.j.replace(/:$/,""))}function Oa(a,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);a.s=u}else a.s=null}function Fg(a,u,h){u instanceof Rs?(a.i=u,YE(a.i,a.h)):(h||(u=Ds(u,KE)),a.i=new Rs(u,a.h))}function Ne(a,u,h){a.i.set(u,h)}function Ma(a){return Ne(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function xs(a,u){return a?u?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Ds(a,u,h){return typeof a=="string"?(a=encodeURI(a).replace(u,qE),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function qE(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Lg=/[#\/\?@]/g,GE=/[#\?:]/g,WE=/[#\?]/g,KE=/[#\?@]/g,QE=/#/g;function Rs(a,u){this.h=this.g=null,this.i=a||null,this.j=!!u}function Hn(a){a.g||(a.g=new Map,a.h=0,a.i&&HE(a.i,function(u,h){a.add(decodeURIComponent(u.replace(/\+/g," ")),h)}))}n=Rs.prototype,n.add=function(a,u){Hn(this),this.i=null,a=sr(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(u),this.h+=1,this};function jg(a,u){Hn(a),u=sr(a,u),a.g.has(u)&&(a.i=null,a.h-=a.g.get(u).length,a.g.delete(u))}function Ug(a,u){return Hn(a),u=sr(a,u),a.g.has(u)}n.forEach=function(a,u){Hn(this),this.g.forEach(function(h,_){h.forEach(function(T){a.call(u,T,_,this)},this)},this)},n.na=function(){Hn(this);let a=Array.from(this.g.values()),u=Array.from(this.g.keys()),h=[];for(let _=0;_<u.length;_++){let T=a[_];for(let R=0;R<T.length;R++)h.push(u[_])}return h},n.V=function(a){Hn(this);let u=[];if(typeof a=="string")Ug(this,a)&&(u=u.concat(this.g.get(sr(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)u=u.concat(a[h])}return u},n.set=function(a,u){return Hn(this),this.i=null,a=sr(this,a),Ug(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[u]),this.h+=1,this},n.get=function(a,u){return a?(a=this.V(a),0<a.length?String(a[0]):u):u};function Bg(a,u,h){jg(a,u),0<h.length&&(a.i=null,a.g.set(sr(a,u),j(h)),a.h+=h.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],u=Array.from(this.g.keys());for(var h=0;h<u.length;h++){var _=u[h];let R=encodeURIComponent(String(_)),B=this.V(_);for(_=0;_<B.length;_++){var T=R;B[_]!==""&&(T+="="+encodeURIComponent(String(B[_]))),a.push(T)}}return this.i=a.join("&")};function sr(a,u){return u=String(u),a.j&&(u=u.toLowerCase()),u}function YE(a,u){u&&!a.j&&(Hn(a),a.i=null,a.g.forEach(function(h,_){var T=_.toLowerCase();_!=T&&(jg(this,_),Bg(this,T,h))},a)),a.j=u}function XE(a,u){let h=new Ts;if(c.Image){let _=new Image;_.onload=D(qn,h,"TestLoadImage: loaded",!0,u,_),_.onerror=D(qn,h,"TestLoadImage: error",!1,u,_),_.onabort=D(qn,h,"TestLoadImage: abort",!1,u,_),_.ontimeout=D(qn,h,"TestLoadImage: timeout",!1,u,_),c.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=a}else u(!1)}function JE(a,u){let h=new Ts,_=new AbortController,T=setTimeout(()=>{_.abort(),qn(h,"TestPingServer: timeout",!1,u)},1e4);fetch(a,{signal:_.signal}).then(R=>{clearTimeout(T),R.ok?qn(h,"TestPingServer: ok",!0,u):qn(h,"TestPingServer: server error",!1,u)}).catch(()=>{clearTimeout(T),qn(h,"TestPingServer: error",!1,u)})}function qn(a,u,h,_,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),_(h)}catch{}}function ZE(){this.g=new NE}function eI(a,u,h){let _=h||"";try{Ng(a,function(T,R){let B=T;d(T)&&(B=ku(T)),u.push(_+R+"="+encodeURIComponent(B))})}catch(T){throw u.push(_+"type="+encodeURIComponent("_badmap")),T}}function ks(a){this.l=a.Ub||null,this.j=a.eb||!1}M(ks,Pu),ks.prototype.g=function(){return new Na(this.l,this.j)},ks.prototype.i=function(a){return function(){return a}}({});function Na(a,u){at.call(this),this.D=a,this.o=u,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(Na,at),n=Na.prototype,n.open=function(a,u){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=u,this.readyState=1,Os(this)},n.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let u={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(u.body=a),(this.D||c).fetch(new Request(this.A,u)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ps(this)),this.readyState=0},n.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Os(this)),this.g&&(this.readyState=3,Os(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zg(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function zg(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}n.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var u=a.value?a.value:new Uint8Array(0);(u=this.v.decode(u,{stream:!a.done}))&&(this.response=this.responseText+=u)}a.done?Ps(this):Os(this),this.readyState==3&&zg(this)}},n.Ra=function(a){this.g&&(this.response=this.responseText=a,Ps(this))},n.Qa=function(a){this.g&&(this.response=a,Ps(this))},n.ga=function(){this.g&&Ps(this)};function Ps(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Os(a)}n.setRequestHeader=function(a,u){this.u.append(a,u)},n.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],u=this.h.entries();for(var h=u.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=u.next();return a.join(`\r
`)};function Os(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Na.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function $g(a){let u="";return De(a,function(h,_){u+=_,u+=":",u+=h,u+=`\r
`}),u}function zu(a,u,h){e:{for(_ in h){var _=!1;break e}_=!0}_||(h=$g(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):Ne(a,u,h))}function Be(a){at.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(Be,at);var tI=/^https?$/i,nI=["POST","PUT"];n=Be.prototype,n.Ha=function(a){this.J=a},n.ea=function(a,u,h,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);u=u?u.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Nu.g(),this.v=this.o?vg(this.o):vg(Nu),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(u,String(a),!0),this.B=!1}catch(R){Hg(this,R);return}if(a=h||"",h=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var T in _)h.set(T,_[T]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(let R of _.keys())h.set(R,_.get(R));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(h.keys()).find(R=>R.toLowerCase()=="content-type"),T=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(nI,u,void 0))||_||T||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[R,B]of h)this.g.setRequestHeader(R,B);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wg(this),this.u=!0,this.g.send(a),this.u=!1}catch(R){Hg(this,R)}};function Hg(a,u){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=u,a.m=5,qg(a),Va(a)}function qg(a){a.A||(a.A=!0,_t(a,"complete"),_t(a,"error"))}n.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,_t(this,"complete"),_t(this,"abort"),Va(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Va(this,!0)),Be.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Gg(this):this.bb())},n.bb=function(){Gg(this)};function Gg(a){if(a.h&&typeof o<"u"&&(!a.v[1]||In(a)!=4||a.Z()!=2)){if(a.u&&In(a)==4)mg(a.Ea,0,a);else if(_t(a,"readystatechange"),In(a)==4){a.h=!1;try{let B=a.Z();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break e;default:u=!1}var h;if(!(h=u)){var _;if(_=B===0){var T=String(a.D).match(Vg)[1]||null;!T&&c.self&&c.self.location&&(T=c.self.location.protocol.slice(0,-1)),_=!tI.test(T?T.toLowerCase():"")}h=_}if(h)_t(a,"complete"),_t(a,"success");else{a.m=6;try{var R=2<In(a)?a.g.statusText:""}catch{R=""}a.l=R+" ["+a.Z()+"]",qg(a)}}finally{Va(a)}}}}function Va(a,u){if(a.g){Wg(a);let h=a.g,_=a.v[0]?()=>{}:null;a.g=null,a.v=null,u||_t(a,"ready");try{h.onreadystatechange=_}catch{}}}function Wg(a){a.I&&(c.clearTimeout(a.I),a.I=null)}n.isActive=function(){return!!this.g};function In(a){return a.g?a.g.readyState:0}n.Z=function(){try{return 2<In(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(a){if(this.g){var u=this.g.responseText;return a&&u.indexOf(a)==0&&(u=u.substring(a.length)),ME(u)}};function Kg(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function iI(a){let u={};a=(a.g&&2<=In(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<a.length;_++){if(re(a[_]))continue;var h=S(a[_]);let T=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let R=u[T]||[];u[T]=R,R.push(h)}C(u,function(_){return _.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ms(a,u,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||u}function Qg(a){this.Aa=0,this.i=[],this.j=new Ts,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ms("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ms("baseRetryDelayMs",5e3,a),this.cb=Ms("retryDelaySeedMs",1e4,a),this.Wa=Ms("forwardChannelMaxRetries",2,a),this.wa=Ms("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Rg(a&&a.concurrentRequestLimit),this.Da=new ZE,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Qg.prototype,n.la=8,n.G=1,n.connect=function(a,u,h,_){vt(0),this.W=a,this.H=u||{},h&&_!==void 0&&(this.H.OSID=h,this.H.OAID=_),this.F=this.X,this.I=r_(this,null,this.W),La(this)};function $u(a){if(Yg(a),a.G==3){var u=a.U++,h=En(a.I);if(Ne(h,"SID",a.K),Ne(h,"RID",u),Ne(h,"TYPE","terminate"),Ns(a,h),u=new $n(a,a.j,u),u.L=2,u.v=Ma(En(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(u.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=u.v,h=!0),h||(u.g=s_(u.j,null),u.g.ea(u.v)),u.F=Date.now(),ka(u)}i_(a)}function Fa(a){a.g&&(qu(a),a.g.cancel(),a.g=null)}function Yg(a){Fa(a),a.u&&(c.clearTimeout(a.u),a.u=null),ja(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function La(a){if(!kg(a.h)&&!a.s){a.s=!0;var u=a.Ga;vs||cg(),ys||(vs(),ys=!0),Eu.add(u,a),a.B=0}}function rI(a,u){return Pg(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=u.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Ss(E(a.Ga,a,u),n_(a,a.B)),a.B++,!0)}n.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let T=new $n(this,this.j,a),R=this.o;if(this.S&&(R?(R=y(R),I(R,this.S)):R=this.S),this.m!==null||this.O||(T.H=R,R=null),this.P)e:{for(var u=0,h=0;h<this.i.length;h++){t:{var _=this.i[h];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(u+=_,4096<u){u=h;break e}if(u===4096||h===this.i.length-1){u=h+1;break e}}u=1e3}else u=1e3;u=Jg(this,T,u),h=En(this.I),Ne(h,"RID",a),Ne(h,"CVER",22),this.D&&Ne(h,"X-HTTP-Session-Id",this.D),Ns(this,h),R&&(this.O?u="headers="+encodeURIComponent(String($g(R)))+"&"+u:this.m&&zu(h,this.m,R)),Bu(this.h,T),this.Ua&&Ne(h,"TYPE","init"),this.P?(Ne(h,"$req",u),Ne(h,"SID","null"),T.T=!0,Fu(T,h,null)):Fu(T,h,u),this.G=2}}else this.G==3&&(a?Xg(this,a):this.i.length==0||kg(this.h)||Xg(this))};function Xg(a,u){var h;u?h=u.l:h=a.U++;let _=En(a.I);Ne(_,"SID",a.K),Ne(_,"RID",h),Ne(_,"AID",a.T),Ns(a,_),a.m&&a.o&&zu(_,a.m,a.o),h=new $n(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),u&&(a.i=u.D.concat(a.i)),u=Jg(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Bu(a.h,h),Fu(h,_,u)}function Ns(a,u){a.H&&De(a.H,function(h,_){Ne(u,_,h)}),a.l&&Ng({},function(h,_){Ne(u,_,h)})}function Jg(a,u,h){h=Math.min(a.i.length,h);var _=a.l?E(a.l.Na,a.l,a):null;e:{var T=a.i;let R=-1;for(;;){let B=["count="+h];R==-1?0<h?(R=T[0].g,B.push("ofs="+R)):R=0:B.push("ofs="+R);let ke=!0;for(let nt=0;nt<h;nt++){let we=T[nt].g,ct=T[nt].map;if(we-=R,0>we)R=Math.max(0,T[nt].g-100),ke=!1;else try{eI(ct,B,"req"+we+"_")}catch{_&&_(ct)}}if(ke){_=B.join("&");break e}}}return a=a.i.splice(0,h),u.D=a,_}function Zg(a){if(!a.g&&!a.u){a.Y=1;var u=a.Fa;vs||cg(),ys||(vs(),ys=!0),Eu.add(u,a),a.v=0}}function Hu(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Ss(E(a.Fa,a),n_(a,a.v)),a.v++,!0)}n.Fa=function(){if(this.u=null,e_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Ss(E(this.ab,this),a)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vt(10),Fa(this),e_(this))};function qu(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function e_(a){a.g=new $n(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var u=En(a.qa);Ne(u,"RID","rpc"),Ne(u,"SID",a.K),Ne(u,"AID",a.T),Ne(u,"CI",a.F?"0":"1"),!a.F&&a.ja&&Ne(u,"TO",a.ja),Ne(u,"TYPE","xmlhttp"),Ns(a,u),a.m&&a.o&&zu(u,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=Ma(En(u)),h.m=null,h.P=!0,Ag(h,a)}n.Za=function(){this.C!=null&&(this.C=null,Fa(this),Hu(this),vt(19))};function ja(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function t_(a,u){var h=null;if(a.g==u){ja(a),qu(a),a.g=null;var _=2}else if(Uu(a.h,u))h=u.D,Og(a.h,u),_=1;else return;if(a.G!=0){if(u.o)if(_==1){h=u.m?u.m.length:0,u=Date.now()-u.F;var T=a.B;_=xa(),_t(_,new Ig(_,h)),La(a)}else Zg(a);else if(T=u.s,T==3||T==0&&0<u.X||!(_==1&&rI(a,u)||_==2&&Hu(a)))switch(h&&0<h.length&&(u=a.h,u.i=u.i.concat(h)),T){case 1:vi(a,5);break;case 4:vi(a,10);break;case 3:vi(a,6);break;default:vi(a,2)}}}function n_(a,u){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*u}function vi(a,u){if(a.j.info("Error code "+u),u==2){var h=E(a.fb,a),_=a.Xa;let T=!_;_=new _i(_||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Pa(_,"https"),Ma(_),T?XE(_.toString(),h):JE(_.toString(),h)}else vt(2);a.G=0,a.l&&a.l.sa(u),i_(a),Yg(a)}n.fb=function(a){a?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function i_(a){if(a.G=0,a.ka=[],a.l){let u=Mg(a.h);(u.length!=0||a.i.length!=0)&&(F(a.ka,u),F(a.ka,a.i),a.h.i.length=0,j(a.i),a.i.length=0),a.l.ra()}}function r_(a,u,h){var _=h instanceof _i?En(h):new _i(h);if(_.g!="")u&&(_.g=u+"."+_.g),Oa(_,_.s);else{var T=c.location;_=T.protocol,u=u?u+"."+T.hostname:T.hostname,T=+T.port;var R=new _i(null);_&&Pa(R,_),u&&(R.g=u),T&&Oa(R,T),h&&(R.l=h),_=R}return h=a.D,u=a.ya,h&&u&&Ne(_,h,u),Ne(_,"VER",a.la),Ns(a,_),_}function s_(a,u,h){if(u&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return u=a.Ca&&!a.pa?new Be(new ks({eb:h})):new Be(a.pa),u.Ha(a.J),u}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function o_(){}n=o_.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ua(){}Ua.prototype.g=function(a,u){return new xt(a,u)};function xt(a,u){at.call(this),this.g=new Qg(u),this.l=a,this.h=u&&u.messageUrlParams||null,a=u&&u.messageHeaders||null,u&&u.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=u&&u.initMessageHeaders||null,u&&u.messageContentType&&(a?a["X-WebChannel-Content-Type"]=u.messageContentType:a={"X-WebChannel-Content-Type":u.messageContentType}),u&&u.va&&(a?a["X-WebChannel-Client-Profile"]=u.va:a={"X-WebChannel-Client-Profile":u.va}),this.g.S=a,(a=u&&u.Sb)&&!re(a)&&(this.g.m=a),this.v=u&&u.supportsCrossDomainXhr||!1,this.u=u&&u.sendRawJson||!1,(u=u&&u.httpSessionIdParam)&&!re(u)&&(this.g.D=u,a=this.h,a!==null&&u in a&&(a=this.h,u in a&&delete a[u])),this.j=new or(this)}M(xt,at),xt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},xt.prototype.close=function(){$u(this.g)},xt.prototype.o=function(a){var u=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=ku(a),a=h);u.i.push(new BE(u.Ya++,a)),u.G==3&&La(u)},xt.prototype.N=function(){this.g.l=null,delete this.j,$u(this.g),delete this.g,xt.aa.N.call(this)};function a_(a){Ou.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var u=a.__sm__;if(u){e:{for(let h in u){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,u=u!==null&&a in u?u[a]:void 0),this.data=u}else this.data=a}M(a_,Ou);function c_(){Mu.call(this),this.status=1}M(c_,Mu);function or(a){this.g=a}M(or,o_),or.prototype.ua=function(){_t(this.g,"a")},or.prototype.ta=function(a){_t(this.g,new a_(a))},or.prototype.sa=function(a){_t(this.g,new c_)},or.prototype.ra=function(){_t(this.g,"b")},Ua.prototype.createWebChannel=Ua.prototype.g,xt.prototype.send=xt.prototype.o,xt.prototype.open=xt.prototype.m,xt.prototype.close=xt.prototype.close,Yh=Mn.createWebChannelTransport=function(){return new Ua},Qh=Mn.getStatEventTarget=function(){return xa()},Kh=Mn.Event=pi,jc=Mn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Da.NO_ERROR=0,Da.TIMEOUT=8,Da.HTTP_ERROR=6,Do=Mn.ErrorCode=Da,Cg.COMPLETE="complete",Wh=Mn.EventType=Cg,yg.EventType=Is,Is.OPEN="a",Is.CLOSE="b",Is.ERROR="c",Is.MESSAGE="d",at.prototype.listen=at.prototype.K,Dr=Mn.WebChannel=yg,pA=Mn.FetchXmlHttpFactory=ks,Be.prototype.listenOnce=Be.prototype.L,Be.prototype.getLastError=Be.prototype.Ka,Be.prototype.getLastErrorCode=Be.prototype.Ba,Be.prototype.getStatus=Be.prototype.Z,Be.prototype.getResponseJson=Be.prototype.Oa,Be.prototype.getResponseText=Be.prototype.oa,Be.prototype.send=Be.prototype.ea,Be.prototype.setWithCredentials=Be.prototype.Ha,Gh=Mn.XhrIo=Be}).apply(typeof Lc<"u"?Lc:typeof self<"u"?self:typeof window<"u"?window:{});var O0="@firebase/firestore";var tt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};tt.UNAUTHENTICATED=new tt(null),tt.GOOGLE_CREDENTIALS=new tt("google-credentials-uid"),tt.FIRST_PARTY=new tt("first-party-uid"),tt.MOCK_USER=new tt("mock-user");var Jr="10.14.0";var Vi=new Zn("@firebase/firestore");function Ro(){return Vi.logLevel}function K(n,...e){if(Vi.logLevel<=me.DEBUG){let t=e.map(jm);Vi.debug(`Firestore (${Jr}): ${n}`,...t)}}function Nn(n,...e){if(Vi.logLevel<=me.ERROR){let t=e.map(jm);Vi.error(`Firestore (${Jr}): ${n}`,...t)}}function Fr(n,...e){if(Vi.logLevel<=me.WARN){let t=e.map(jm);Vi.warn(`Firestore (${Jr}): ${n}`,...t)}}function jm(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function ie(n="Unexpected state"){let e=`FIRESTORE (${Jr}) INTERNAL ASSERTION FAILED: `+n;throw Nn(e),new Error(e)}function Re(n,e){n||ie()}function se(n,e){return n}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},q=class extends Ht{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var pn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Hc=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},tf=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(tt.UNAUTHENTICATED))}shutdown(){}},nf=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},rf=class{constructor(e){this.t=e,this.currentUser=tt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Re(this.o===void 0);let i=this.i,r=l=>this.i!==i?(i=this.i,t(l)):Promise.resolve(),s=new pn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new pn,e.enqueueRetryable(()=>r(this.currentUser))};let o=()=>{let l=s;e.enqueueRetryable(()=>x(this,null,function*(){yield l.promise,yield r(this.currentUser)}))},c=l=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?c(l):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new pn)}},0),o()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Re(typeof i.accessToken=="string"),new Hc(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string"),new tt(e)}},sf=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=tt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},of=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new sf(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(tt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},af=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},cf=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Re(this.o===void 0);let i=s=>{s.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,K("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};let r=s=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?r(s):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Re(typeof t.token=="string"),this.R=t.token,new af(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function gA(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}var qc=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=gA(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%e.length))}return i}};function be(n,e){return n<e?-1:n>e?1:0}function Lr(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}var st=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new q(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new q(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new q(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new n(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ae=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new st(0,0))}static max(){return new n(new st(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Gc=class n{constructor(e,t,i){t===void 0?t=0:t>e.length&&ie(),i===void 0?i=e.length-t:i>e.length-t&&ie(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let i=Math.min(e.length,t.length);for(let r=0;r<i;r++){let s=e.get(r),o=t.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},Ue=class n extends Gc{construct(e,t,i){return new n(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let i of e){if(i.indexOf("//")>=0)throw new q(N.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new n(t)}static emptyPath(){return new n([])}},_A=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Vt=class n extends Gc{construct(e,t,i){return new n(e,t,i)}static isValidIdentifier(e){return _A.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],i="",r=0,s=()=>{if(i.length===0)throw new q(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""},o=!1;for(;r<e.length;){let c=e[r];if(c==="\\"){if(r+1===e.length)throw new q(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new q(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else c==="`"?(o=!o,r++):c!=="."||o?(i+=c,r++):(s(),r++)}if(s(),o)throw new q(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var X=class n{constructor(e){this.path=e}static fromPath(e){return new n(Ue.fromString(e))}static fromName(e){return new n(Ue.fromString(e).popFirst(5))}static empty(){return new n(Ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ue.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ue.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Ue(e.slice()))}};var lf=class{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}};lf.UNKNOWN_ID=-1;function vA(n,e){let t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=ae.fromTimestamp(i===1e9?new st(t+1,0):new st(t,i));return new Fi(r,X.empty(),e)}function yA(n){return new Fi(n.readTime,n.key,-1)}var Fi=class n{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new n(ae.min(),X.empty(),-1)}static max(){return new n(ae.max(),X.empty(),-1)}};function wA(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=X.comparator(n.documentKey,e.documentKey),t!==0?t:be(n.largestBatchId,e.largestBatchId))}var bA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",uf=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Wo(n){return x(this,null,function*(){if(n.code!==N.FAILED_PRECONDITION||n.message!==bA)throw n;K("LocalStore","Unexpectedly lost primary lease")})}var U=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,i)=>{t(e)})}static reject(e){return new n((t,i)=>{i(e)})}static waitFor(e){return new n((t,i)=>{let r=0,s=0,o=!1;e.forEach(c=>{++r,c.next(()=>{++s,o&&s===r&&t()},l=>i(l))}),o=!0,s===r&&t()})}static or(e){let t=n.resolve(!1);for(let i of e)t=t.next(r=>r?n.resolve(r):i());return t}static forEach(e,t){let i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new n((i,r)=>{let s=e.length,o=new Array(s),c=0;for(let l=0;l<s;l++){let d=l;t(e[d]).next(g=>{o[d]=g,++c,c===s&&i(o)},g=>r(g))}})}static doWhile(e,t){return new n((i,r)=>{let s=()=>{e()===!0?t().next(()=>{s()},r):i()};s()})}};function EA(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ko(n){return n.name==="IndexedDbTransactionError"}var fy=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function El(n){return n==null}function Vo(n){return n===0&&1/n==-1/0}function IA(n){return typeof n=="number"&&Number.isInteger(n)&&!Vo(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var CA=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],$M=[...CA,"documentOverlays"],SA=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],TA=SA,AA=[...TA,"indexConfiguration","indexState","indexEntries"];var HM=[...AA,"globals"];function M0(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function $i(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function my(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var $e=class n{constructor(e,t){this.comparator=e,this.root=t||gn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,gn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){let e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Or(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Or(this.root,e,this.comparator,!1)}getReverseIterator(){return new Or(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Or(this.root,e,this.comparator,!0)}},Or=class{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},gn=class n{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??n.RED,this.left=r??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new n(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this,s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):s===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return n.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ie();let e=this.left.check();if(e!==this.right.check())throw ie();return e+(this.isRed()?0:1)}};gn.EMPTY=null,gn.RED=!0,gn.BLACK=!1;gn.EMPTY=new class{constructor(){this.size=0}get key(){throw ie()}get value(){throw ie()}get color(){throw ie()}get left(){throw ie()}get right(){throw ie()}copy(e,t,i,r,s){return this}insert(e,t,i){return new gn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var mt=class n{constructor(e){this.comparator=e,this.data=new $e(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Wc(this.data.getIterator())}getIteratorFrom(e){return new Wc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){let r=t.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Wc=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Gt=class n{constructor(e){this.fields=e,e.sort(Vt.comparator)}static empty(){return new n([])}unionWith(e){let t=new mt(Vt.comparator);for(let i of this.fields)t=t.add(i);for(let i of e)t=t.add(i);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Lr(this.fields,e.fields,(t,i)=>t.isEqual(i))}};var Kc=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var pt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Kc("Invalid base64 string: "+s):s}}(e);return new n(t)}static fromUint8Array(e){let t=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};pt.EMPTY_BYTE_STRING=new pt("");var xA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vn(n){if(Re(!!n),typeof n=="string"){let e=0,t=xA.exec(n);if(Re(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Le(n.seconds),nanos:Le(n.nanos)}}function Le(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function oi(n){return typeof n=="string"?pt.fromBase64String(n):pt.fromUint8Array(n)}function Um(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Bm(n){let e=n.mapValue.fields.__previous_value__;return Um(e)?Bm(e):e}function Fo(n){let e=Vn(n.mapValue.fields.__local_write_time__.timestampValue);return new st(e.seconds,e.nanos)}var df=class{constructor(e,t,i,r,s,o,c,l,d){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=l,this.useFetchStreams=d}},Qc=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Uc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Li(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Um(n)?4:gy(n)?9007199254740991:py(n)?10:11:ie()}function yn(n,e){if(n===e)return!0;let t=Li(n);if(t!==Li(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Fo(n).isEqual(Fo(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;let o=Vn(r.timestampValue),c=Vn(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(r,s){return oi(r.bytesValue).isEqual(oi(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return Le(r.geoPointValue.latitude)===Le(s.geoPointValue.latitude)&&Le(r.geoPointValue.longitude)===Le(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Le(r.integerValue)===Le(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){let o=Le(r.doubleValue),c=Le(s.doubleValue);return o===c?Vo(o)===Vo(c):isNaN(o)&&isNaN(c)}return!1}(n,e);case 9:return Lr(n.arrayValue.values||[],e.arrayValue.values||[],yn);case 10:case 11:return function(r,s){let o=r.mapValue.fields||{},c=s.mapValue.fields||{};if(M0(o)!==M0(c))return!1;for(let l in o)if(o.hasOwnProperty(l)&&(c[l]===void 0||!yn(o[l],c[l])))return!1;return!0}(n,e);default:return ie()}}function Lo(n,e){return(n.values||[]).find(t=>yn(t,e))!==void 0}function jr(n,e){if(n===e)return 0;let t=Li(n),i=Li(e);if(t!==i)return be(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return be(n.booleanValue,e.booleanValue);case 2:return function(s,o){let c=Le(s.integerValue||s.doubleValue),l=Le(o.integerValue||o.doubleValue);return c<l?-1:c>l?1:c===l?0:isNaN(c)?isNaN(l)?0:-1:1}(n,e);case 3:return N0(n.timestampValue,e.timestampValue);case 4:return N0(Fo(n),Fo(e));case 5:return be(n.stringValue,e.stringValue);case 6:return function(s,o){let c=oi(s),l=oi(o);return c.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){let c=s.split("/"),l=o.split("/");for(let d=0;d<c.length&&d<l.length;d++){let g=be(c[d],l[d]);if(g!==0)return g}return be(c.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){let c=be(Le(s.latitude),Le(o.latitude));return c!==0?c:be(Le(s.longitude),Le(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return V0(n.arrayValue,e.arrayValue);case 10:return function(s,o){var c,l,d,g;let v=s.fields||{},E=o.fields||{},D=(c=v.value)===null||c===void 0?void 0:c.arrayValue,M=(l=E.value)===null||l===void 0?void 0:l.arrayValue,j=be(((d=D?.values)===null||d===void 0?void 0:d.length)||0,((g=M?.values)===null||g===void 0?void 0:g.length)||0);return j!==0?j:V0(D,M)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===Uc.mapValue&&o===Uc.mapValue)return 0;if(s===Uc.mapValue)return 1;if(o===Uc.mapValue)return-1;let c=s.fields||{},l=Object.keys(c),d=o.fields||{},g=Object.keys(d);l.sort(),g.sort();for(let v=0;v<l.length&&v<g.length;++v){let E=be(l[v],g[v]);if(E!==0)return E;let D=jr(c[l[v]],d[g[v]]);if(D!==0)return D}return be(l.length,g.length)}(n.mapValue,e.mapValue);default:throw ie()}}function N0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return be(n,e);let t=Vn(n),i=Vn(e),r=be(t.seconds,i.seconds);return r!==0?r:be(t.nanos,i.nanos)}function V0(n,e){let t=n.values||[],i=e.values||[];for(let r=0;r<t.length&&r<i.length;++r){let s=jr(t[r],i[r]);if(s)return s}return be(t.length,i.length)}function Ur(n){return hf(n)}function hf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let i=Vn(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return oi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return X.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(let s of t.values||[])r?r=!1:i+=",",i+=hf(s);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){let i=Object.keys(t.fields||{}).sort(),r="{",s=!0;for(let o of i)s?s=!1:r+=",",r+=`${o}:${hf(t.fields[o])}`;return r+"}"}(n.mapValue):ie()}function F0(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function ff(n){return!!n&&"integerValue"in n}function zm(n){return!!n&&"arrayValue"in n}function L0(n){return!!n&&"nullValue"in n}function j0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function zc(n){return!!n&&"mapValue"in n}function py(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Po(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return $i(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Po(i)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Po(n.arrayValue.values[t]);return e}return Object.assign({},n)}function gy(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Nt=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!zc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Po(t)}setAll(e){let t=Vt.emptyPath(),i={},r=[];e.forEach((o,c)=>{if(!t.isImmediateParentOf(c)){let l=this.getFieldsMap(t);this.applyChanges(l,i,r),i={},r=[],t=c.popLast()}o?i[c.lastSegment()]=Po(o):r.push(c.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){let t=this.field(e.popLast());zc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return yn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];zc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){$i(t,(r,s)=>e[r]=s);for(let r of i)delete e[r]}clone(){return new n(Po(this.value))}};function _y(n){let e=[];return $i(n.fields,(t,i)=>{let r=new Vt([t]);if(zc(i)){let s=_y(i.mapValue).fields;if(s.length===0)e.push(r);else for(let o of s)e.push(r.child(o))}else e.push(r)}),new Gt(e)}var Zt=class n{constructor(e,t,i,r,s,o,c){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new n(e,0,ae.min(),ae.min(),ae.min(),Nt.empty(),0)}static newFoundDocument(e,t,i,r){return new n(e,1,t,ae.min(),i,r,0)}static newNoDocument(e,t){return new n(e,2,t,ae.min(),ae.min(),Nt.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ae.min(),ae.min(),Nt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Br=class{constructor(e,t){this.position=e,this.inclusive=t}};function U0(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){let s=e[r],o=n.position[r];if(s.field.isKeyField()?i=X.comparator(X.fromName(o.referenceValue),t.key):i=jr(o,t.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function B0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!yn(n.position[t],e.position[t]))return!1;return!0}var ji=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function DA(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Yc=class{},Qe=class n extends Yc{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new pf(e,t,i):t==="array-contains"?new vf(e,i):t==="in"?new yf(e,i):t==="not-in"?new wf(e,i):t==="array-contains-any"?new bf(e,i):new n(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new gf(e,i):new _f(e,i)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(jr(t,this.value)):t!==null&&Li(this.value)===Li(t)&&this.matchesComparison(jr(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},en=class n extends Yc{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return vy(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function vy(n){return n.op==="and"}function yy(n){return RA(n)&&vy(n)}function RA(n){for(let e of n.filters)if(e instanceof en)return!1;return!0}function mf(n){if(n instanceof Qe)return n.field.canonicalString()+n.op.toString()+Ur(n.value);if(yy(n))return n.filters.map(e=>mf(e)).join(",");{let e=n.filters.map(t=>mf(t)).join(",");return`${n.op}(${e})`}}function wy(n,e){return n instanceof Qe?function(i,r){return r instanceof Qe&&i.op===r.op&&i.field.isEqual(r.field)&&yn(i.value,r.value)}(n,e):n instanceof en?function(i,r){return r instanceof en&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,c)=>s&&wy(o,r.filters[c]),!0):!1}(n,e):void ie()}function by(n){return n instanceof Qe?function(t){return`${t.field.canonicalString()} ${t.op} ${Ur(t.value)}`}(n):n instanceof en?function(t){return t.op.toString()+" {"+t.getFilters().map(by).join(" ,")+"}"}(n):"Filter"}var pf=class extends Qe{constructor(e,t,i){super(e,t,i),this.key=X.fromName(i.referenceValue)}matches(e){let t=X.comparator(e.key,this.key);return this.matchesComparison(t)}},gf=class extends Qe{constructor(e,t){super(e,"in",t),this.keys=Ey("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},_f=class extends Qe{constructor(e,t){super(e,"not-in",t),this.keys=Ey("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function Ey(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>X.fromName(i.referenceValue))}var vf=class extends Qe{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return zm(t)&&Lo(t.arrayValue,this.value)}},yf=class extends Qe{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Lo(this.value.arrayValue,t)}},wf=class extends Qe{constructor(e,t){super(e,"not-in",t)}matches(e){if(Lo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!Lo(this.value.arrayValue,t)}},bf=class extends Qe{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!zm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Lo(this.value.arrayValue,i))}};var Ef=class{constructor(e,t=null,i=[],r=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=c,this.ue=null}};function z0(n,e=null,t=[],i=[],r=null,s=null,o=null){return new Ef(n,e,t,i,r,s,o)}function $m(n){let e=se(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>mf(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),El(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Ur(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Ur(i)).join(",")),e.ue=t}return e.ue}function Hm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!DA(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!wy(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!B0(n.startAt,e.startAt)&&B0(n.endAt,e.endAt)}function If(n){return X.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var ai=class{constructor(e,t=null,i=[],r=[],s=null,o="F",c=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function kA(n,e,t,i,r,s,o,c){return new ai(n,e,t,i,r,s,o,c)}function Iy(n){return new ai(n)}function $0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Cy(n){return n.collectionGroup!==null}function Oo(n){let e=se(n);if(e.ce===null){e.ce=[];let t=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new mt(Vt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new ji(s,i))}),t.has(Vt.keyField().canonicalString())||e.ce.push(new ji(Vt.keyField(),i))}return e.ce}function _n(n){let e=se(n);return e.le||(e.le=PA(e,Oo(n))),e.le}function PA(n,e){if(n.limitType==="F")return z0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>{let s=r.dir==="desc"?"asc":"desc";return new ji(r.field,s)});let t=n.endAt?new Br(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Br(n.startAt.position,n.startAt.inclusive):null;return z0(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Cf(n,e){let t=n.filters.concat([e]);return new ai(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Sf(n,e,t){return new ai(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Il(n,e){return Hm(_n(n),_n(e))&&n.limitType===e.limitType}function Sy(n){return`${$m(_n(n))}|lt:${n.limitType}`}function Rr(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>by(r)).join(", ")}]`),El(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>Ur(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>Ur(r)).join(",")),`Target(${i})`}(_n(n))}; limitType=${n.limitType})`}function Cl(n,e){return e.isFoundDocument()&&function(i,r){let s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):X.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(n,e)&&function(i,r){for(let s of Oo(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(n,e)&&function(i,r){for(let s of i.filters)if(!s.matches(r))return!1;return!0}(n,e)&&function(i,r){return!(i.startAt&&!function(o,c,l){let d=U0(o,c,l);return o.inclusive?d<=0:d<0}(i.startAt,Oo(i),r)||i.endAt&&!function(o,c,l){let d=U0(o,c,l);return o.inclusive?d>=0:d>0}(i.endAt,Oo(i),r))}(n,e)}function OA(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Ty(n){return(e,t)=>{let i=!1;for(let r of Oo(n)){let s=MA(r,e,t);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function MA(n,e,t){let i=n.field.isKeyField()?X.comparator(e.key,t.key):function(s,o,c){let l=o.data.field(s),d=c.data.field(s);return l!==null&&d!==null?jr(l,d):ie()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ie()}}var ci=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(let[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){$i(this.inner,(t,i)=>{for(let[r,s]of i)e(r,s)})}isEmpty(){return my(this.inner)}size(){return this.innerSize}};var NA=new $e(X.comparator);function Fn(){return NA}var Ay=new $e(X.comparator);function ko(...n){let e=Ay;for(let t of n)e=e.insert(t.key,t);return e}function xy(n){let e=Ay;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Mi(){return Mo()}function Dy(){return Mo()}function Mo(){return new ci(n=>n.toString(),(n,e)=>n.isEqual(e))}var VA=new $e(X.comparator),FA=new mt(X.comparator);function pe(...n){let e=FA;for(let t of n)e=e.add(t);return e}var LA=new mt(be);function jA(){return LA}function qm(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vo(e)?"-0":e}}function Ry(n){return{integerValue:""+n}}function UA(n,e){return IA(e)?Ry(e):qm(n,e)}var zr=class{constructor(){this._=void 0}};function BA(n,e,t){return n instanceof $r?function(r,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Um(s)&&(s=Bm(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof li?Py(n,e):n instanceof Ui?Oy(n,e):function(r,s){let o=ky(r,s),c=H0(o)+H0(r.Pe);return ff(o)&&ff(r.Pe)?Ry(c):qm(r.serializer,c)}(n,e)}function zA(n,e,t){return n instanceof li?Py(n,e):n instanceof Ui?Oy(n,e):t}function ky(n,e){return n instanceof Hr?function(i){return ff(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}var $r=class extends zr{},li=class extends zr{constructor(e){super(),this.elements=e}};function Py(n,e){let t=My(e);for(let i of n.elements)t.some(r=>yn(r,i))||t.push(i);return{arrayValue:{values:t}}}var Ui=class extends zr{constructor(e){super(),this.elements=e}};function Oy(n,e){let t=My(e);for(let i of n.elements)t=t.filter(r=>!yn(r,i));return{arrayValue:{values:t}}}var Hr=class extends zr{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function H0(n){return Le(n.integerValue||n.doubleValue)}function My(n){return zm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}var Tf=class{constructor(e,t){this.field=e,this.transform=t}};function $A(n,e){return n.field.isEqual(e.field)&&function(i,r){return i instanceof li&&r instanceof li||i instanceof Ui&&r instanceof Ui?Lr(i.elements,r.elements,yn):i instanceof Hr&&r instanceof Hr?yn(i.Pe,r.Pe):i instanceof $r&&r instanceof $r}(n.transform,e.transform)}var Af=class{constructor(e,t){this.version=e,this.transformResults=t}},ri=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function $c(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var qr=class{};function Ny(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Xc(n.key,ri.none()):new Bi(n.key,n.data,ri.none());{let t=n.data,i=Nt.empty(),r=new mt(Vt.comparator);for(let s of e.fields)if(!r.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new wn(n.key,i,new Gt(r.toArray()),ri.none())}}function HA(n,e,t){n instanceof Bi?function(r,s,o){let c=r.value.clone(),l=G0(r.fieldTransforms,s,o.transformResults);c.setAll(l),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,e,t):n instanceof wn?function(r,s,o){if(!$c(r.precondition,s))return void s.convertToUnknownDocument(o.version);let c=G0(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(Vy(r)),l.setAll(c),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,e,t):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function No(n,e,t,i){return n instanceof Bi?function(s,o,c,l){if(!$c(s.precondition,o))return c;let d=s.value.clone(),g=W0(s.fieldTransforms,l,o);return d.setAll(g),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(n,e,t,i):n instanceof wn?function(s,o,c,l){if(!$c(s.precondition,o))return c;let d=W0(s.fieldTransforms,l,o),g=o.data;return g.setAll(Vy(s)),g.setAll(d),o.convertToFoundDocument(o.version,g).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(v=>v.field))}(n,e,t,i):function(s,o,c){return $c(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(n,e,t)}function qA(n,e){let t=null;for(let i of n.fieldTransforms){let r=e.data.field(i.field),s=ky(i.transform,r||null);s!=null&&(t===null&&(t=Nt.empty()),t.set(i.field,s))}return t||null}function q0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Lr(i,r,(s,o)=>$A(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Bi=class extends qr{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},wn=class extends qr{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function Vy(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let i=n.data.field(t);e.set(t,i)}}),e}function G0(n,e,t){let i=new Map;Re(n.length===t.length);for(let r=0;r<t.length;r++){let s=n[r],o=s.transform,c=e.data.field(s.field);i.set(s.field,zA(o,c,t[r]))}return i}function W0(n,e,t){let i=new Map;for(let r of n){let s=r.transform,o=t.data.field(r.field);i.set(r.field,BA(s,o,e))}return i}var Xc=class extends qr{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},xf=class extends qr{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Df=class{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){let i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){let s=this.mutations[r];s.key.isEqual(e.key)&&HA(s,e,i[r])}}applyToLocalView(e,t){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(t=No(i,e,t,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(t=No(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let i=Dy();return this.mutations.forEach(r=>{let s=e.get(r.key),o=s.overlayedDocument,c=this.applyToLocalView(o,s.mutatedFields);c=t.has(r.key)?null:c;let l=Ny(o,c);l!==null&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(ae.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),pe())}isEqual(e){return this.batchId===e.batchId&&Lr(this.mutations,e.mutations,(t,i)=>q0(t,i))&&Lr(this.baseMutations,e.baseMutations,(t,i)=>q0(t,i))}},Rf=class n{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Re(e.mutations.length===i.length);let r=function(){return VA}(),s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new n(e,t,i,r)}};var kf=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Pf=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var We,ve;function GA(n){switch(n){default:return ie();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}function Fy(n){if(n===void 0)return Nn("GRPC error has no .code"),N.UNKNOWN;switch(n){case We.OK:return N.OK;case We.CANCELLED:return N.CANCELLED;case We.UNKNOWN:return N.UNKNOWN;case We.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case We.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case We.INTERNAL:return N.INTERNAL;case We.UNAVAILABLE:return N.UNAVAILABLE;case We.UNAUTHENTICATED:return N.UNAUTHENTICATED;case We.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case We.NOT_FOUND:return N.NOT_FOUND;case We.ALREADY_EXISTS:return N.ALREADY_EXISTS;case We.PERMISSION_DENIED:return N.PERMISSION_DENIED;case We.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case We.ABORTED:return N.ABORTED;case We.OUT_OF_RANGE:return N.OUT_OF_RANGE;case We.UNIMPLEMENTED:return N.UNIMPLEMENTED;case We.DATA_LOSS:return N.DATA_LOSS;default:return ie()}}(ve=We||(We={}))[ve.OK=0]="OK",ve[ve.CANCELLED=1]="CANCELLED",ve[ve.UNKNOWN=2]="UNKNOWN",ve[ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ve[ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ve[ve.NOT_FOUND=5]="NOT_FOUND",ve[ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",ve[ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",ve[ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",ve[ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ve[ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ve[ve.ABORTED=10]="ABORTED",ve[ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",ve[ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",ve[ve.INTERNAL=13]="INTERNAL",ve[ve.UNAVAILABLE=14]="UNAVAILABLE",ve[ve.DATA_LOSS=15]="DATA_LOSS";var K0=null;function WA(){return new TextEncoder}var KA=new ii([4294967295,4294967295],0);function Q0(n){let e=WA().encode(n),t=new qh;return t.update(e),new Uint8Array(t.digest())}function Y0(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ii([t,i],0),new ii([r,s],0)]}var Of=class n{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Ni(`Invalid padding: ${t}`);if(i<0)throw new Ni(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ni(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Ni(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=ii.fromNumber(this.Ie)}Ee(e,t,i){let r=e.add(t.multiply(ii.fromNumber(i)));return r.compare(KA)===1&&(r=new ii([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=Q0(e),[i,r]=Y0(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(i,r,s);if(!this.de(o))return!1}return!0}static create(e,t,i){let r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new n(s,r,t);return i.forEach(c=>o.insert(c)),o}insert(e){if(this.Ie===0)return;let t=Q0(e),[i,r]=Y0(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(i,r,s);this.Ae(o)}}Ae(e){let t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}},Ni=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Jc=class n{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){let r=new Map;return r.set(e,jo.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new n(ae.min(),r,new $e(be),Fn(),pe())}},jo=class n{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new n(i,t,pe(),pe(),pe())}};var Nr=class{constructor(e,t,i,r){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=r}},Zc=class{constructor(e,t){this.targetId=e,this.me=t}},el=class{constructor(e,t,i=pt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}},tl=class{constructor(){this.fe=0,this.ge=J0(),this.pe=pt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=pe(),t=pe(),i=pe();return this.ge.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:ie()}}),new jo(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=J0()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Re(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Mf=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Fn(),this.qe=X0(),this.Qe=new $e(be)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let i=this.Ge(t);switch(e.state){case 0:this.ze(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),i.De(e.resumeToken));break;default:ie()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,r)=>{this.ze(r)&&t(r)})}He(e){let t=e.targetId,i=e.me.count,r=this.Je(t);if(r){let s=r.target;if(If(s))if(i===0){let o=new X(s.path);this.Ue(t,o,Zt.newNoDocument(o,ae.min()))}else Re(i===1);else{let o=this.Ye(t);if(o!==i){let c=this.Ze(e),l=c?this.Xe(c,e,o):1;if(l!==0){this.je(t);let d=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,d)}K0?.et(function(g,v,E,D,M){var j,F,Y,re,oe,Me;let gt={localCacheCount:g,existenceFilterCount:v.count,databaseId:E.database,projectId:E.projectId},De=v.unchangedNames;return De&&(gt.bloomFilter={applied:M===0,hashCount:(j=De?.hashCount)!==null&&j!==void 0?j:0,bitmapLength:(re=(Y=(F=De?.bits)===null||F===void 0?void 0:F.bitmap)===null||Y===void 0?void 0:Y.length)!==null&&re!==void 0?re:0,padding:(Me=(oe=De?.bits)===null||oe===void 0?void 0:oe.padding)!==null&&Me!==void 0?Me:0,mightContain:C=>{var y;return(y=D?.mightContain(C))!==null&&y!==void 0&&y}}),gt}(o,e.me,this.Le.tt(),c,l))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=t,o,c;try{o=oi(i).toUint8Array()}catch(l){if(l instanceof Kc)return Fr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{c=new Of(o,r,s)}catch(l){return Fr(l instanceof Ni?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return c.Ie===0?null:c}Xe(e,t,i){return t.me.count===i-this.nt(e,t.targetId)?0:2}nt(e,t){let i=this.Le.getRemoteKeysForTarget(t),r=0;return i.forEach(s=>{let o=this.Le.tt(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.Ue(t,s,null),r++)}),r}rt(e){let t=new Map;this.Be.forEach((s,o)=>{let c=this.Je(o);if(c){if(s.current&&If(c.target)){let l=new X(c.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Zt.newNoDocument(l,e))}s.be&&(t.set(o,s.ve()),s.Ce())}});let i=pe();this.qe.forEach((s,o)=>{let c=!0;o.forEachWhile(l=>{let d=this.Je(l);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let r=new Jc(e,t,this.Qe,this.ke,i);return this.ke=Fn(),this.qe=X0(),this.Qe=new $e(be),r}$e(e,t){if(!this.ze(e))return;let i=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,i){if(!this.ze(e))return;let r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new tl,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new mt(be),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||K("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new tl),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function X0(){return new $e(X.comparator)}function J0(){return new $e(X.comparator)}var QA={asc:"ASCENDING",desc:"DESCENDING"},YA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XA={and:"AND",or:"OR"},Nf=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function Vf(n,e){return n.useProto3Json||El(e)?e:{value:e}}function nl(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ly(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function JA(n,e){return nl(n,e.toTimestamp())}function vn(n){return Re(!!n),ae.fromTimestamp(function(t){let i=Vn(t);return new st(i.seconds,i.nanos)}(n))}function Gm(n,e){return Ff(n,e).canonicalString()}function Ff(n,e){let t=function(r){return new Ue(["projects",r.projectId,"databases",r.database])}(n).child("documents");return e===void 0?t:t.child(e)}function jy(n){let e=Ue.fromString(n);return Re(Hy(e)),e}function Lf(n,e){return Gm(n.databaseId,e.path)}function Xh(n,e){let t=jy(e);if(t.get(1)!==n.databaseId.projectId)throw new q(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new q(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new X(By(t))}function Uy(n,e){return Gm(n.databaseId,e)}function ZA(n){let e=jy(n);return e.length===4?Ue.emptyPath():By(e)}function jf(n){return new Ue(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function By(n){return Re(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Z0(n,e,t){return{name:Lf(n,e),fields:t.value.mapValue.fields}}function ex(n,e){let t;if("targetChange"in e){e.targetChange;let i=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(d,g){return d.useProto3Json?(Re(g===void 0||typeof g=="string"),pt.fromBase64String(g||"")):(Re(g===void 0||g instanceof Buffer||g instanceof Uint8Array),pt.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&function(d){let g=d.code===void 0?N.UNKNOWN:Fy(d.code);return new q(g,d.message||"")}(o);t=new el(i,r,s,c||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=Xh(n,i.document.name),s=vn(i.document.updateTime),o=i.document.createTime?vn(i.document.createTime):ae.min(),c=new Nt({mapValue:{fields:i.document.fields}}),l=Zt.newFoundDocument(r,s,o,c),d=i.targetIds||[],g=i.removedTargetIds||[];t=new Nr(d,g,l.key,l)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=Xh(n,i.document),s=i.readTime?vn(i.readTime):ae.min(),o=Zt.newNoDocument(r,s),c=i.removedTargetIds||[];t=new Nr([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=Xh(n,i.document),s=i.removedTargetIds||[];t=new Nr([],s,r,null)}else{if(!("filter"in e))return ie();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:s}=i,o=new Pf(r,s),c=i.targetId;t=new Zc(c,o)}}return t}function tx(n,e){let t;if(e instanceof Bi)t={update:Z0(n,e.key,e.value)};else if(e instanceof Xc)t={delete:Lf(n,e.key)};else if(e instanceof wn)t={update:Z0(n,e.key,e.data),updateMask:ux(e.fieldMask)};else{if(!(e instanceof xf))return ie();t={verify:Lf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(s,o){let c=o.transform;if(c instanceof $r)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof li)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Ui)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Hr)return{fieldPath:o.field.canonicalString(),increment:c.Pe};throw ie()}(0,i))),e.precondition.isNone||(t.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:JA(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ie()}(n,e.precondition)),t}function nx(n,e){return n&&n.length>0?(Re(e!==void 0),n.map(t=>function(r,s){let o=r.updateTime?vn(r.updateTime):vn(s);return o.isEqual(ae.min())&&(o=vn(s)),new Af(o,r.transformResults||[])}(t,e))):[]}function ix(n,e){return{documents:[Uy(n,e.path)]}}function rx(n,e){let t={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=Uy(n,r);let s=function(d){if(d.length!==0)return $y(en.create(d,"and"))}(e.filters);s&&(t.structuredQuery.where=s);let o=function(d){if(d.length!==0)return d.map(g=>function(E){return{field:kr(E.field),direction:ax(E.dir)}}(g))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);let c=Vf(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:t,parent:r}}function sx(n){let e=ZA(n.parent),t=n.structuredQuery,i=t.from?t.from.length:0,r=null;if(i>0){Re(i===1);let g=t.from[0];g.allDescendants?r=g.collectionId:e=e.child(g.collectionId)}let s=[];t.where&&(s=function(v){let E=zy(v);return E instanceof en&&yy(E)?E.getFilters():[E]}(t.where));let o=[];t.orderBy&&(o=function(v){return v.map(E=>function(M){return new ji(Pr(M.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(E))}(t.orderBy));let c=null;t.limit&&(c=function(v){let E;return E=typeof v=="object"?v.value:v,El(E)?null:E}(t.limit));let l=null;t.startAt&&(l=function(v){let E=!!v.before,D=v.values||[];return new Br(D,E)}(t.startAt));let d=null;return t.endAt&&(d=function(v){let E=!v.before,D=v.values||[];return new Br(D,E)}(t.endAt)),kA(e,r,o,s,c,"F",l,d)}function ox(n,e){let t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ie()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function zy(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let i=Pr(t.unaryFilter.field);return Qe.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=Pr(t.unaryFilter.field);return Qe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Pr(t.unaryFilter.field);return Qe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Pr(t.unaryFilter.field);return Qe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ie()}}(n):n.fieldFilter!==void 0?function(t){return Qe.create(Pr(t.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ie()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return en.create(t.compositeFilter.filters.map(i=>zy(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return ie()}}(t.compositeFilter.op))}(n):ie()}function ax(n){return QA[n]}function cx(n){return YA[n]}function lx(n){return XA[n]}function kr(n){return{fieldPath:n.canonicalString()}}function Pr(n){return Vt.fromServerFormat(n.fieldPath)}function $y(n){return n instanceof Qe?function(t){if(t.op==="=="){if(j0(t.value))return{unaryFilter:{field:kr(t.field),op:"IS_NAN"}};if(L0(t.value))return{unaryFilter:{field:kr(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(j0(t.value))return{unaryFilter:{field:kr(t.field),op:"IS_NOT_NAN"}};if(L0(t.value))return{unaryFilter:{field:kr(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kr(t.field),op:cx(t.op),value:t.value}}}(n):n instanceof en?function(t){let i=t.getFilters().map(r=>$y(r));return i.length===1?i[0]:{compositeFilter:{op:lx(t.op),filters:i}}}(n):ie()}function ux(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Hy(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Uo=class n{constructor(e,t,i,r,s=ae.min(),o=ae.min(),c=pt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=l}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Uf=class{constructor(e){this.ct=e}};function dx(n){let e=sx({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Sf(e,e.limit,"L"):e}var il=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Le(e.integerValue));else if("doubleValue"in e){let i=Le(e.doubleValue);isNaN(i)?this.dt(t,13):(this.dt(t,15),Vo(i)?t.At(0):t.At(i))}else if("timestampValue"in e){let i=e.timestampValue;this.dt(t,20),typeof i=="string"&&(i=Vn(i)),t.Rt(`${i.seconds||""}`),t.At(i.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(oi(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let i=e.geoPointValue;this.dt(t,45),t.At(i.latitude||0),t.At(i.longitude||0)}else"mapValue"in e?gy(e)?this.dt(t,Number.MAX_SAFE_INTEGER):py(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):ie()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let i=e.fields||{};this.dt(t,55);for(let r of Object.keys(i))this.Vt(r,t),this.Tt(i[r],t)}wt(e,t){var i,r;let s=e.fields||{};this.dt(t,53);let o="value",c=((r=(i=s[o].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.length)||0;this.dt(t,15),t.At(Le(c)),this.Vt(o,t),this.Tt(s[o],t)}bt(e,t){let i=e.values||[];this.dt(t,50);for(let r of i)this.Tt(r,t)}yt(e,t){this.dt(t,37),X.fromName(e).path.forEach(i=>{this.dt(t,60),this.Dt(i,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};il.vt=new il;var Bf=class{constructor(){this.un=new zf}addToCollectionParentIndex(e,t){return this.un.add(t),U.resolve()}getCollectionParents(e,t){return U.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return U.resolve()}deleteFieldIndex(e,t){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,t){return U.resolve()}getDocumentsMatchingTarget(e,t){return U.resolve(null)}getIndexType(e,t){return U.resolve(0)}getFieldIndexes(e,t){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,t){return U.resolve(Fi.min())}getMinOffsetFromCollectionGroup(e,t){return U.resolve(Fi.min())}updateCollectionGroup(e,t,i){return U.resolve()}updateIndexEntries(e,t){return U.resolve()}},zf=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new mt(Ue.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new mt(Ue.comparator)).toArray()}};var GM=new Uint8Array(0);var mn=class n{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(41943040,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);var Bo=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var $f=class{constructor(){this.changes=new ci(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let i=this.changes.get(t);return i!==void 0?U.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Hf=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var qf=class{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(i!==null&&No(i.mutation,r,Gt.empty(),st.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,pe()).next(()=>i))}getLocalViewOfDocuments(e,t,i=pe()){let r=Mi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let o=ko();return s.forEach((c,l)=>{o=o.insert(c,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){let i=Mi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,pe()))}populateOverlays(e,t,i){let r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,c)=>{t.set(o,c)})})}computeViews(e,t,i,r){let s=Fn(),o=Mo(),c=function(){return Mo()}();return t.forEach((l,d)=>{let g=i.get(d.key);r.has(d.key)&&(g===void 0||g.mutation instanceof wn)?s=s.insert(d.key,d):g!==void 0?(o.set(d.key,g.mutation.getFieldMask()),No(g.mutation,d,g.mutation.getFieldMask(),st.now())):o.set(d.key,Gt.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((d,g)=>o.set(d,g)),t.forEach((d,g)=>{var v;return c.set(d,new Hf(g,(v=o.get(d))!==null&&v!==void 0?v:null))}),c))}recalculateAndSaveOverlays(e,t){let i=Mo(),r=new $e((o,c)=>o-c),s=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(let c of o)c.keys().forEach(l=>{let d=t.get(l);if(d===null)return;let g=i.get(l)||Gt.empty();g=c.applyToLocalView(d,g),i.set(l,g);let v=(r.get(c.batchId)||pe()).add(l);r=r.insert(c.batchId,v)})}).next(()=>{let o=[],c=r.getReverseIterator();for(;c.hasNext();){let l=c.getNext(),d=l.key,g=l.value,v=Dy();g.forEach(E=>{if(!s.has(E)){let D=Ny(t.get(E),i.get(E));D!==null&&v.set(E,D),s=s.add(E)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,v))}return U.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return function(o){return X.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Cy(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{let o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):U.resolve(Mi()),c=-1,l=s;return o.next(d=>U.forEach(d,(g,v)=>(c<v.largestBatchId&&(c=v.largestBatchId),s.get(g)?U.resolve():this.remoteDocumentCache.getEntry(e,g).next(E=>{l=l.insert(g,E)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,l,d,pe())).next(g=>({batchId:c,changes:xy(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new X(t)).next(i=>{let r=ko();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){let s=t.collectionGroup,o=ko();return this.indexManager.getCollectionParents(e,s).next(c=>U.forEach(c,l=>{let d=function(v,E){return new ai(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,i,r).next(g=>{g.forEach((v,E)=>{o=o.insert(v,E)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,s,r))).next(o=>{s.forEach((l,d)=>{let g=d.getKey();o.get(g)===null&&(o=o.insert(g,Zt.newInvalidDocument(g)))});let c=ko();return o.forEach((l,d)=>{let g=s.get(l);g!==void 0&&No(g.mutation,d,Gt.empty(),st.now()),Cl(t,d)&&(c=c.insert(l,d))}),c})}};var Gf=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return U.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(r){return{id:r.id,version:r.version,createTime:vn(r.createTime)}}(t)),U.resolve()}getNamedQuery(e,t){return U.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(r){return{name:r.name,query:dx(r.bundledQuery),readTime:vn(r.readTime)}}(t)),U.resolve()}};var Wf=class{constructor(){this.overlays=new $e(X.comparator),this.Ir=new Map}getOverlay(e,t){return U.resolve(this.overlays.get(t))}getOverlays(e,t){let i=Mi();return U.forEach(t,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.ht(e,t,s)}),U.resolve()}removeOverlaysForBatchId(e,t,i){let r=this.Ir.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(i)),U.resolve()}getOverlaysForCollection(e,t,i){let r=Mi(),s=t.length+1,o=new X(t.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){let l=c.getNext().value,d=l.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return U.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new $e((d,g)=>d-g),o=this.overlays.getIterator();for(;o.hasNext();){let d=o.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>i){let g=s.get(d.largestBatchId);g===null&&(g=Mi(),s=s.insert(d.largestBatchId,g)),g.set(d.getKey(),d)}}let c=Mi(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((d,g)=>c.set(d,g)),!(c.size()>=r)););return U.resolve(c)}ht(e,t,i){let r=this.overlays.get(i.key);if(r!==null){let o=this.Ir.get(r.largestBatchId).delete(i.key);this.Ir.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new kf(t,i));let s=this.Ir.get(t);s===void 0&&(s=pe(),this.Ir.set(t,s)),this.Ir.set(t,s.add(i.key))}};var Kf=class{constructor(){this.sessionToken=pt.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,U.resolve()}};var zo=class{constructor(){this.Tr=new mt(Ke.Er),this.dr=new mt(Ke.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let i=new Ke(e,t);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Vr(new Ke(e,t))}mr(e,t){e.forEach(i=>this.removeReference(i,t))}gr(e){let t=new X(new Ue([])),i=new Ke(t,e),r=new Ke(t,e+1),s=[];return this.dr.forEachInRange([i,r],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new X(new Ue([])),i=new Ke(t,e),r=new Ke(t,e+1),s=pe();return this.dr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){let t=new Ke(e,0),i=this.Tr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}},Ke=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return X.comparator(e.key,t.key)||be(e.wr,t.wr)}static Ar(e,t){return be(e.wr,t.wr)||X.comparator(e.key,t.key)}};var Qf=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new mt(Ke.Er)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Df(s,t,i,r);this.mutationQueue.push(o);for(let c of r)this.br=this.br.add(new Ke(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,t){return U.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let i=t+1,r=this.vr(i),s=r<0?0:r;return U.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let i=new Ke(t,0),r=new Ke(t,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([i,r],o=>{let c=this.Dr(o.wr);s.push(c)}),U.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new mt(be);return t.forEach(r=>{let s=new Ke(r,0),o=new Ke(r,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],c=>{i=i.add(c.wr)})}),U.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,t){let i=t.path,r=i.length+1,s=i;X.isDocumentKey(s)||(s=s.child(""));let o=new Ke(new X(s),0),c=new mt(be);return this.br.forEachWhile(l=>{let d=l.key.path;return!!i.isPrefixOf(d)&&(d.length===r&&(c=c.add(l.wr)),!0)},o),U.resolve(this.Cr(c))}Cr(e){let t=[];return e.forEach(i=>{let r=this.Dr(i);r!==null&&t.push(r)}),t}removeMutationBatch(e,t){Re(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return U.forEach(t.mutations,r=>{let s=new Ke(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.br=i})}On(e){}containsKey(e,t){let i=new Ke(t,0),r=this.br.firstAfterOrEqual(i);return U.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var Yf=class{constructor(e){this.Mr=e,this.docs=function(){return new $e(X.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let i=t.key,r=this.docs.get(i),s=r?r.size:0,o=this.Mr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let i=this.docs.get(t);return U.resolve(i?i.document.mutableCopy():Zt.newInvalidDocument(t))}getEntries(e,t){let i=Fn();return t.forEach(r=>{let s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Zt.newInvalidDocument(r))}),U.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let s=Fn(),o=t.path,c=new X(o.child("")),l=this.docs.getIteratorFrom(c);for(;l.hasNext();){let{key:d,value:{document:g}}=l.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||wA(yA(g),i)<=0||(r.has(g.key)||Cl(t,g))&&(s=s.insert(g.key,g.mutableCopy()))}return U.resolve(s)}getAllFromCollectionGroup(e,t,i,r){ie()}Or(e,t){return U.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new Xf(this)}getSize(e){return U.resolve(this.size)}},Xf=class extends $f{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(i)}),U.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var Jf=class{constructor(e){this.persistence=e,this.Nr=new ci(t=>$m(t),Hm),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.Lr=0,this.Br=new zo,this.targetCount=0,this.kr=Bo.Bn()}forEachTarget(e,t){return this.Nr.forEach((i,r)=>t(r)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Lr&&(this.Lr=t),U.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new Bo(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,U.resolve()}updateTargetData(e,t){return this.Kn(t),U.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,t,i){let r=0,s=[];return this.Nr.forEach((o,c)=>{c.sequenceNumber<=t&&i.get(c.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),r++)}),U.waitFor(s).next(()=>r)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,t){let i=this.Nr.get(t)||null;return U.resolve(i)}addMatchingKeys(e,t,i){return this.Br.Rr(t,i),U.resolve()}removeMatchingKeys(e,t,i){this.Br.mr(t,i);let r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),U.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),U.resolve()}getMatchingKeysForTargetId(e,t){let i=this.Br.yr(t);return U.resolve(i)}containsKey(e,t){return U.resolve(this.Br.containsKey(t))}};var Zf=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new fy(0),this.Kr=!1,this.Kr=!0,this.$r=new Kf,this.referenceDelegate=e(this),this.Ur=new Jf(this),this.indexManager=new Bf,this.remoteDocumentCache=function(r){return new Yf(r)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new Uf(t),this.Gr=new Gf(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Wf,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.qr[e.toKey()];return i||(i=new Qf(t,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,i){K("MemoryPersistence","Starting transaction:",e);let r=new em(this.Qr.next());return this.referenceDelegate.zr(),i(r).next(s=>this.referenceDelegate.jr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Hr(e,t){return U.or(Object.values(this.qr).map(i=>()=>i.containsKey(e,t)))}},em=class extends uf{constructor(e){super(),this.currentSequenceNumber=e}},tm=class n{constructor(e){this.persistence=e,this.Jr=new zo,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw ie()}addReference(e,t,i){return this.Jr.addReference(i,t),this.Xr.delete(i.toString()),U.resolve()}removeReference(e,t,i){return this.Jr.removeReference(i,t),this.Xr.add(i.toString()),U.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),U.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(r=>this.Xr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Xr.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.Xr,i=>{let r=X.fromPath(i);return this.ei(e,r).next(s=>{s||t.removeEntry(r,ae.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(i=>{i?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return U.or([()=>U.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var nm=class n{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.$i=i,this.Ui=r}static Wi(e,t){let i=pe(),r=pe();for(let s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new n(e,t.fromCache,i,r)}};var im=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var rm=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Yv()?8:EA(Mt())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,i,r){let s={result:null};return this.Yi(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,t,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new im;return this.Xi(e,t,o).next(c=>{if(s.result=c,this.zi)return this.es(e,t,o,c.size)})}).next(()=>s.result)}es(e,t,i,r){return i.documentReadCount<this.ji?(Ro()<=me.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",Rr(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),U.resolve()):(Ro()<=me.DEBUG&&K("QueryEngine","Query:",Rr(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Hi*r?(Ro()<=me.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",Rr(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_n(t))):U.resolve())}Yi(e,t){if($0(t))return U.resolve(null);let i=_n(t);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(t.limit!==null&&r===1&&(t=Sf(t,null,"F"),i=_n(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{let o=pe(...s);return this.Ji.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,i).next(l=>{let d=this.ts(t,c);return this.ns(t,d,o,l.readTime)?this.Yi(e,Sf(t,null,"F")):this.rs(e,d,t,l)}))})))}Zi(e,t,i,r){return $0(t)||r.isEqual(ae.min())?U.resolve(null):this.Ji.getDocuments(e,i).next(s=>{let o=this.ts(t,s);return this.ns(t,o,i,r)?U.resolve(null):(Ro()<=me.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Rr(t)),this.rs(e,o,t,vA(r,-1)).next(c=>c))})}ts(e,t){let i=new mt(Ty(e));return t.forEach((r,s)=>{Cl(e,s)&&(i=i.add(s))}),i}ns(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Xi(e,t,i){return Ro()<=me.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",Rr(t)),this.Ji.getDocumentsMatchingQuery(e,t,Fi.min(),i)}rs(e,t,i,r){return this.Ji.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}};var sm=class{constructor(e,t,i,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new $e(be),this._s=new ci(s=>$m(s),Hm),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qf(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function hx(n,e,t,i){return new sm(n,e,t,i)}function qy(n,e){return x(this,null,function*(){let t=se(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.ls(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{let o=[],c=[],l=pe();for(let d of r){o.push(d.batchId);for(let g of d.mutations)l=l.add(g.key)}for(let d of s){c.push(d.batchId);for(let g of d.mutations)l=l.add(g.key)}return t.localDocuments.getDocuments(i,l).next(d=>({hs:d,removedBatchIds:o,addedBatchIds:c}))})})})}function fx(n,e){let t=se(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),s=t.cs.newChangeBuffer({trackRemovals:!0});return function(c,l,d,g){let v=d.batch,E=v.keys(),D=U.resolve();return E.forEach(M=>{D=D.next(()=>g.getEntry(l,M)).next(j=>{let F=d.docVersions.get(M);Re(F!==null),j.version.compareTo(F)<0&&(v.applyToRemoteDocument(j,d),j.isValidDocument()&&(j.setReadTime(d.commitVersion),g.addEntry(j)))})}),D.next(()=>c.mutationQueue.removeMutationBatch(l,v))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let l=pe();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(l=l.add(c.batch.mutations[d].key));return l}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function Gy(n){let e=se(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function mx(n,e){let t=se(n),i=e.snapshotVersion,r=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=t.cs.newChangeBuffer({trackRemovals:!0});r=t.os;let c=[];e.targetChanges.forEach((g,v)=>{let E=r.get(v);if(!E)return;c.push(t.Ur.removeMatchingKeys(s,g.removedDocuments,v).next(()=>t.Ur.addMatchingKeys(s,g.addedDocuments,v)));let D=E.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(v)!==null?D=D.withResumeToken(pt.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):g.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(g.resumeToken,i)),r=r.insert(v,D),function(j,F,Y){return j.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=3e8?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(E,D,g)&&c.push(t.Ur.updateTargetData(s,D))});let l=Fn(),d=pe();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(s,g))}),c.push(px(s,o,e.documentUpdates).next(g=>{l=g.Ps,d=g.Is})),!i.isEqual(ae.min())){let g=t.Ur.getLastRemoteSnapshotVersion(s).next(v=>t.Ur.setTargetsMetadata(s,s.currentSequenceNumber,i));c.push(g)}return U.waitFor(c).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,d)).next(()=>l)}).then(s=>(t.os=r,s))}function px(n,e,t){let i=pe(),r=pe();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let o=Fn();return t.forEach((c,l)=>{let d=s.get(c);l.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(c)),l.isNoDocument()&&l.version.isEqual(ae.min())?(e.removeEntry(c,l.readTime),o=o.insert(c,l)):!d.isValidDocument()||l.version.compareTo(d.version)>0||l.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(l),o=o.insert(c,l)):K("LocalStore","Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",l.version)}),{Ps:o,Is:r}})}function gx(n,e){let t=se(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function _x(n,e){let t=se(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Ur.getTargetData(i,e).next(s=>s?(r=s,U.resolve(r)):t.Ur.allocateTargetId(i).next(o=>(r=new Uo(e,o,"TargetPurposeListen",i.currentSequenceNumber),t.Ur.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=t.os.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.os=t.os.insert(i.targetId,i),t._s.set(e,i.targetId)),i})}function om(n,e,t){return x(this,null,function*(){let i=se(n),r=i.os.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!Ko(o))throw o;K("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.os=i.os.remove(e),i._s.delete(r.target)})}function ey(n,e,t){let i=se(n),r=ae.min(),s=pe();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,d,g){let v=se(l),E=v._s.get(g);return E!==void 0?U.resolve(v.os.get(E)):v.Ur.getTargetData(d,g)}(i,o,_n(e)).next(c=>{if(c)return r=c.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(o,c.targetId).next(l=>{s=l})}).next(()=>i.ss.getDocumentsMatchingQuery(o,e,t?r:ae.min(),t?s:pe())).next(c=>(vx(i,OA(e),c),{documents:c,Ts:s})))}function vx(n,e,t){let i=n.us.get(e)||ae.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.us.set(e,i)}var rl=class{constructor(){this.activeTargetIds=jA()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var am=class{constructor(){this.so=new rl,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,i){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new rl,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var cm=class{_o(e){}shutdown(){}};var sl=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){K("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){K("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Bc=null;function Jh(){return Bc===null?Bc=function(){return 268435456+Math.round(2147483648*Math.random())}():Bc++,"0x"+Bc.toString(16)}var yx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var lm=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var ft="WebChannelConnection",um=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+t.host,this.vo=`projects/${r}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get Fo(){return!1}Mo(t,i,r,s,o){let c=Jh(),l=this.xo(t,i.toUriEncodedString());K("RestConnection",`Sending RPC '${t}' ${c}:`,l,r);let d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,s,o),this.No(t,l,d,r).then(g=>(K("RestConnection",`Received RPC '${t}' ${c}: `,g),g),g=>{throw Fr("RestConnection",`RPC '${t}' ${c} failed with error: `,g,"url: ",l,"request:",r),g})}Lo(t,i,r,s,o,c){return this.Mo(t,i,r,s,o)}Oo(t,i,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Jr}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>t[o]=s),r&&r.headers.forEach((s,o)=>t[o]=s)}xo(t,i){let r=yx[t];return`${this.Do}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,i,r){let s=Jh();return new Promise((o,c)=>{let l=new Gh;l.setWithCredentials(!0),l.listenOnce(Wh.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Do.NO_ERROR:let g=l.getResponseJson();K(ft,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(g)),o(g);break;case Do.TIMEOUT:K(ft,`RPC '${e}' ${s} timed out`),c(new q(N.DEADLINE_EXCEEDED,"Request time out"));break;case Do.HTTP_ERROR:let v=l.getStatus();if(K(ft,`RPC '${e}' ${s} failed with status:`,v,"response text:",l.getResponseText()),v>0){let E=l.getResponseJson();Array.isArray(E)&&(E=E[0]);let D=E?.error;if(D&&D.status&&D.message){let M=function(F){let Y=F.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(Y)>=0?Y:N.UNKNOWN}(D.status);c(new q(M,D.message))}else c(new q(N.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new q(N.UNAVAILABLE,"Connection failed."));break;default:ie()}}finally{K(ft,`RPC '${e}' ${s} completed.`)}});let d=JSON.stringify(r);K(ft,`RPC '${e}' ${s} sending request:`,r),l.send(t,"POST",d,i,15)})}Bo(e,t,i){let r=Jh(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Yh(),c=Qh(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(l.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,t,i),l.encodeInitMessageHeaders=!0;let g=s.join("");K(ft,`Creating RPC '${e}' stream ${r}: ${g}`,l);let v=o.createWebChannel(g,l),E=!1,D=!1,M=new lm({Io:F=>{D?K(ft,`Not sending because RPC '${e}' stream ${r} is closed:`,F):(E||(K(ft,`Opening RPC '${e}' stream ${r} transport.`),v.open(),E=!0),K(ft,`RPC '${e}' stream ${r} sending:`,F),v.send(F))},To:()=>v.close()}),j=(F,Y,re)=>{F.listen(Y,oe=>{try{re(oe)}catch(Me){setTimeout(()=>{throw Me},0)}})};return j(v,Dr.EventType.OPEN,()=>{D||(K(ft,`RPC '${e}' stream ${r} transport opened.`),M.yo())}),j(v,Dr.EventType.CLOSE,()=>{D||(D=!0,K(ft,`RPC '${e}' stream ${r} transport closed`),M.So())}),j(v,Dr.EventType.ERROR,F=>{D||(D=!0,Fr(ft,`RPC '${e}' stream ${r} transport errored:`,F),M.So(new q(N.UNAVAILABLE,"The operation could not be completed")))}),j(v,Dr.EventType.MESSAGE,F=>{var Y;if(!D){let re=F.data[0];Re(!!re);let oe=re,Me=oe.error||((Y=oe[0])===null||Y===void 0?void 0:Y.error);if(Me){K(ft,`RPC '${e}' stream ${r} received error:`,Me);let gt=Me.status,De=function(b){let I=We[b];if(I!==void 0)return Fy(I)}(gt),C=Me.message;De===void 0&&(De=N.INTERNAL,C="Unknown error status: "+gt+" with message "+Me.message),D=!0,M.So(new q(De,C)),v.close()}else K(ft,`RPC '${e}' stream ${r} received:`,re),M.bo(re)}}),j(c,Kh.STAT_EVENT,F=>{F.stat===jc.PROXY?K(ft,`RPC '${e}' stream ${r} detected buffering proxy`):F.stat===jc.NOPROXY&&K(ft,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{M.wo()},0),M}};function Zh(){return typeof document<"u"?document:null}function Sl(n){return new Nf(n,!0)}var ol=class{constructor(e,t,i=1e3,r=1.5,s=6e4){this.ui=e,this.timerId=t,this.ko=i,this.qo=r,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-i);r>0&&K("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var al=class{constructor(e,t,i,r,s,o,c,l){this.ui=e,this.Ho=i,this.Jo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new ol(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return x(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return x(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return x(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===N.RESOURCE_EXHAUSTED?(Nn(t.toString()),Nn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Yo===t&&this.P_(i,r)},i=>{e(()=>{let r=new q(N.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(r)})})}P_(e,t){let i=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(r=>{i(()=>this.I_(r))}),this.stream.onMessage(r=>{i(()=>++this.e_==1?this.E_(r):this.onNext(r))})}i_(){this.state=5,this.t_.Go(()=>x(this,null,function*(){this.state=0,this.start()}))}I_(e){return K("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(K("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},dm=class extends al{constructor(e,t,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,o),this.serializer=s}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=ex(this.serializer,e),i=function(s){if(!("targetChange"in s))return ae.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ae.min():o.readTime?vn(o.readTime):ae.min()}(e);return this.listener.d_(t,i)}A_(e){let t={};t.database=jf(this.serializer),t.addTarget=function(s,o){let c,l=o.target;if(c=If(l)?{documents:ix(s,l)}:{query:rx(s,l)._t},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=Ly(s,o.resumeToken);let d=Vf(s,o.expectedCount);d!==null&&(c.expectedCount=d)}else if(o.snapshotVersion.compareTo(ae.min())>0){c.readTime=nl(s,o.snapshotVersion.toTimestamp());let d=Vf(s,o.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,e);let i=ox(this.serializer,e);i&&(t.labels=i),this.a_(t)}R_(e){let t={};t.database=jf(this.serializer),t.removeTarget=e,this.a_(t)}},hm=class extends al{constructor(e,t,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Re(!!e.streamToken),this.lastStreamToken=e.streamToken,Re(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Re(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=nx(e.writeResults,e.commitTime),i=vn(e.commitTime);return this.listener.g_(i,t)}p_(){let e={};e.database=jf(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(i=>tx(this.serializer,i))};this.a_(t)}};var fm=class extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new q(N.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,i,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Ff(t,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new q(N.UNKNOWN,s.toString())})}Lo(e,t,i,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Lo(e,Ff(t,i),r,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new q(N.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},mm=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Nn(t),this.D_=!1):K("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var pm=class{constructor(e,t,i,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{i.enqueueAndForget(()=>x(this,null,function*(){Hi(this)&&(K("RemoteStore","Restarting streams for network reachability change."),yield function(l){return x(this,null,function*(){let d=se(l);d.L_.add(4),yield Qo(d),d.q_.set("Unknown"),d.L_.delete(4),yield Tl(d)})}(this))}))}),this.q_=new mm(i,r)}};function Tl(n){return x(this,null,function*(){if(Hi(n))for(let e of n.B_)yield e(!0)})}function Qo(n){return x(this,null,function*(){for(let e of n.B_)yield e(!1)})}function Wy(n,e){let t=se(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),Ym(t)?Qm(t):Zr(t).r_()&&Km(t,e))}function Wm(n,e){let t=se(n),i=Zr(t);t.N_.delete(e),i.r_()&&Ky(t,e),t.N_.size===0&&(i.r_()?i.o_():Hi(t)&&t.q_.set("Unknown"))}function Km(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Zr(n).A_(e)}function Ky(n,e){n.Q_.xe(e),Zr(n).R_(e)}function Qm(n){n.Q_=new Mf({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Zr(n).start(),n.q_.v_()}function Ym(n){return Hi(n)&&!Zr(n).n_()&&n.N_.size>0}function Hi(n){return se(n).L_.size===0}function Qy(n){n.Q_=void 0}function wx(n){return x(this,null,function*(){n.q_.set("Online")})}function bx(n){return x(this,null,function*(){n.N_.forEach((e,t)=>{Km(n,e)})})}function Ex(n,e){return x(this,null,function*(){Qy(n),Ym(n)?(n.q_.M_(e),Qm(n)):n.q_.set("Unknown")})}function Ix(n,e,t){return x(this,null,function*(){if(n.q_.set("Online"),e instanceof el&&e.state===2&&e.cause)try{yield function(r,s){return x(this,null,function*(){let o=s.cause;for(let c of s.targetIds)r.N_.has(c)&&(yield r.remoteSyncer.rejectListen(c,o),r.N_.delete(c),r.Q_.removeTarget(c))})}(n,e)}catch(i){K("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield cl(n,i)}else if(e instanceof Nr?n.Q_.Ke(e):e instanceof Zc?n.Q_.He(e):n.Q_.We(e),!t.isEqual(ae.min()))try{let i=yield Gy(n.localStore);t.compareTo(i)>=0&&(yield function(s,o){let c=s.Q_.rt(o);return c.targetChanges.forEach((l,d)=>{if(l.resumeToken.approximateByteSize()>0){let g=s.N_.get(d);g&&s.N_.set(d,g.withResumeToken(l.resumeToken,o))}}),c.targetMismatches.forEach((l,d)=>{let g=s.N_.get(l);if(!g)return;s.N_.set(l,g.withResumeToken(pt.EMPTY_BYTE_STRING,g.snapshotVersion)),Ky(s,l);let v=new Uo(g.target,l,d,g.sequenceNumber);Km(s,v)}),s.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(i){K("RemoteStore","Failed to raise snapshot:",i),yield cl(n,i)}})}function cl(n,e,t){return x(this,null,function*(){if(!Ko(e))throw e;n.L_.add(1),yield Qo(n),n.q_.set("Offline"),t||(t=()=>Gy(n.localStore)),n.asyncQueue.enqueueRetryable(()=>x(this,null,function*(){K("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield Tl(n)}))})}function Yy(n,e){return e().catch(t=>cl(n,t,e))}function Al(n){return x(this,null,function*(){let e=se(n),t=ui(e),i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Cx(e);)try{let r=yield gx(e.localStore,i);if(r===null){e.O_.length===0&&t.o_();break}i=r.batchId,Sx(e,r)}catch(r){yield cl(e,r)}Xy(e)&&Jy(e)})}function Cx(n){return Hi(n)&&n.O_.length<10}function Sx(n,e){n.O_.push(e);let t=ui(n);t.r_()&&t.V_&&t.m_(e.mutations)}function Xy(n){return Hi(n)&&!ui(n).n_()&&n.O_.length>0}function Jy(n){ui(n).start()}function Tx(n){return x(this,null,function*(){ui(n).p_()})}function Ax(n){return x(this,null,function*(){let e=ui(n);for(let t of n.O_)e.m_(t.mutations)})}function xx(n,e,t){return x(this,null,function*(){let i=n.O_.shift(),r=Rf.from(i,e,t);yield Yy(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Al(n)})}function Dx(n,e){return x(this,null,function*(){e&&ui(n).V_&&(yield function(i,r){return x(this,null,function*(){if(function(o){return GA(o)&&o!==N.ABORTED}(r.code)){let s=i.O_.shift();ui(i).s_(),yield Yy(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),yield Al(i)}})}(n,e)),Xy(n)&&Jy(n)})}function ty(n,e){return x(this,null,function*(){let t=se(n);t.asyncQueue.verifyOperationInProgress(),K("RemoteStore","RemoteStore received new credentials");let i=Hi(t);t.L_.add(3),yield Qo(t),i&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield Tl(t)})}function Rx(n,e){return x(this,null,function*(){let t=se(n);e?(t.L_.delete(2),yield Tl(t)):e||(t.L_.add(2),yield Qo(t),t.q_.set("Unknown"))})}function Zr(n){return n.K_||(n.K_=function(t,i,r){let s=se(t);return s.w_(),new dm(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{Eo:wx.bind(null,n),Ro:bx.bind(null,n),mo:Ex.bind(null,n),d_:Ix.bind(null,n)}),n.B_.push(e=>x(this,null,function*(){e?(n.K_.s_(),Ym(n)?Qm(n):n.q_.set("Unknown")):(yield n.K_.stop(),Qy(n))}))),n.K_}function ui(n){return n.U_||(n.U_=function(t,i,r){let s=se(t);return s.w_(),new hm(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Tx.bind(null,n),mo:Dx.bind(null,n),f_:Ax.bind(null,n),g_:xx.bind(null,n)}),n.B_.push(e=>x(this,null,function*(){e?(n.U_.s_(),yield Al(n)):(yield n.U_.stop(),n.O_.length>0&&(K("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var gm=class n{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new pn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,s){let o=Date.now()+i,c=new n(e,t,o,r,s);return c.start(i),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Xm(n,e){if(Nn("AsyncQueue",`${e}: ${n}`),Ko(n))return new q(N.UNAVAILABLE,`${e}: ${n}`);throw n}var ll=class n{constructor(e){this.comparator=e?(t,i)=>e(t,i)||X.comparator(t.key,i.key):(t,i)=>X.comparator(t.key,i.key),this.keyedMap=ko(),this.sortedSet=new $e(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){let r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let i=new n;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}};var ul=class{constructor(){this.W_=new $e(X.comparator)}track(e){let t=e.doc.key,i=this.W_.get(t);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(t,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(t):e.type===1&&i.type===2?this.W_=this.W_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):ie():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,i)=>{e.push(i)}),e}},Gr=class n{constructor(e,t,i,r,s,o,c,l,d){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=l,this.hasCachedResults=d}static fromInitialDocuments(e,t,i,r,s){let o=[];return t.forEach(c=>{o.push({type:0,doc:c})}),new n(e,t,ll.emptySet(t),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Il(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}};var _m=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},vm=class{constructor(){this.queries=ny(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,i){let r=se(t),s=r.queries;r.queries=ny(),s.forEach((o,c)=>{for(let l of c.j_)l.onError(i)})})(this,new q(N.ABORTED,"Firestore shutting down"))}};function ny(){return new ci(n=>Sy(n),Il)}function kx(n,e){return x(this,null,function*(){let t=se(n),i=3,r=e.query,s=t.queries.get(r);s?!s.H_()&&e.J_()&&(i=2):(s=new _m,i=e.J_()?0:1);try{switch(i){case 0:s.z_=yield t.onListen(r,!0);break;case 1:s.z_=yield t.onListen(r,!1);break;case 2:yield t.onFirstRemoteStoreListen(r)}}catch(o){let c=Xm(o,`Initialization of query '${Rr(e.query)}' failed`);return void e.onError(c)}t.queries.set(r,s),s.j_.push(e),e.Z_(t.onlineState),s.z_&&e.X_(s.z_)&&Jm(t)})}function Px(n,e){return x(this,null,function*(){let t=se(n),i=e.query,r=3,s=t.queries.get(i);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?r=e.J_()?0:1:!s.H_()&&e.J_()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}})}function Ox(n,e){let t=se(n),i=!1;for(let r of e){let s=r.query,o=t.queries.get(s);if(o){for(let c of o.j_)c.X_(r)&&(i=!0);o.z_=r}}i&&Jm(t)}function Mx(n,e,t){let i=se(n),r=i.queries.get(e);if(r)for(let s of r.j_)s.onError(t);i.queries.delete(e)}function Jm(n){n.Y_.forEach(e=>{e.next()})}var ym,iy;(iy=ym||(ym={})).ea="default",iy.Cache="cache";var wm=class{constructor(e,t,i){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new Gr(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let i=t!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Gr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==ym.Cache}};var dl=class{constructor(e){this.key=e}},hl=class{constructor(e){this.key=e}},bm=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=pe(),this.mutatedKeys=pe(),this.Aa=Ty(e),this.Ra=new ll(this.Aa)}get Va(){return this.Ta}ma(e,t){let i=t?t.fa:new ul,r=t?t.Ra:this.Ra,s=t?t.mutatedKeys:this.mutatedKeys,o=r,c=!1,l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,d=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((g,v)=>{let E=r.get(g),D=Cl(this.query,v)?v:null,M=!!E&&this.mutatedKeys.has(E.key),j=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations),F=!1;E&&D?E.data.isEqual(D.data)?M!==j&&(i.track({type:3,doc:D}),F=!0):this.ga(E,D)||(i.track({type:2,doc:D}),F=!0,(l&&this.Aa(D,l)>0||d&&this.Aa(D,d)<0)&&(c=!0)):!E&&D?(i.track({type:0,doc:D}),F=!0):E&&!D&&(i.track({type:1,doc:E}),F=!0,(l||d)&&(c=!0)),F&&(D?(o=o.add(D),s=j?s.add(g):s.delete(g)):(o=o.delete(g),s=s.delete(g)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let g=this.query.limitType==="F"?o.last():o.first();o=o.delete(g.key),s=s.delete(g.key),i.track({type:1,doc:g})}return{Ra:o,fa:i,ns:c,mutatedKeys:s}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((g,v)=>function(D,M){let j=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ie()}};return j(D)-j(M)}(g.type,v.type)||this.Aa(g.doc,v.doc)),this.pa(i),r=r!=null&&r;let c=t&&!r?this.ya():[],l=this.da.size===0&&this.current&&!r?1:0,d=l!==this.Ea;return this.Ea=l,o.length!==0||d?{snapshot:new Gr(this.query,e.Ra,s,o,e.mutatedKeys,l===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new ul,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=pe(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});let t=[];return e.forEach(i=>{this.da.has(i)||t.push(new hl(i))}),this.da.forEach(i=>{e.has(i)||t.push(new dl(i))}),t}ba(e){this.Ta=e.Ts,this.da=pe();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Gr.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},Em=class{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}},Im=class{constructor(e){this.key=e,this.va=!1}},Cm=class{constructor(e,t,i,r,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new ci(c=>Sy(c),Il),this.Ma=new Map,this.xa=new Set,this.Oa=new $e(X.comparator),this.Na=new Map,this.La=new zo,this.Ba={},this.ka=new Map,this.qa=Bo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function Nx(n,e,t=!0){return x(this,null,function*(){let i=rw(n),r,s=i.Fa.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.Da()):r=yield Zy(i,e,t,!0),r})}function Vx(n,e){return x(this,null,function*(){let t=rw(n);yield Zy(t,e,!0,!1)})}function Zy(n,e,t,i){return x(this,null,function*(){let r=yield _x(n.localStore,_n(e)),s=r.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t),c;return i&&(c=yield Fx(n,e,s,o==="current",r.resumeToken)),n.isPrimaryClient&&t&&Wy(n.remoteStore,r),c})}function Fx(n,e,t,i,r){return x(this,null,function*(){n.Ka=(v,E,D)=>function(j,F,Y,re){return x(this,null,function*(){let oe=F.view.ma(Y);oe.ns&&(oe=yield ey(j.localStore,F.query,!1).then(({documents:C})=>F.view.ma(C,oe)));let Me=re&&re.targetChanges.get(F.targetId),gt=re&&re.targetMismatches.get(F.targetId)!=null,De=F.view.applyChanges(oe,j.isPrimaryClient,Me,gt);return sy(j,F.targetId,De.wa),De.snapshot})}(n,v,E,D);let s=yield ey(n.localStore,e,!0),o=new bm(e,s.Ts),c=o.ma(s.documents),l=jo.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),d=o.applyChanges(c,n.isPrimaryClient,l);sy(n,t,d.wa);let g=new Em(e,t,o);return n.Fa.set(e,g),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),d.snapshot})}function Lx(n,e,t){return x(this,null,function*(){let i=se(n),r=i.Fa.get(e),s=i.Ma.get(r.targetId);if(s.length>1)return i.Ma.set(r.targetId,s.filter(o=>!Il(o,e))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield om(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),t&&Wm(i.remoteStore,r.targetId),Sm(i,r.targetId)}).catch(Wo))):(Sm(i,r.targetId),yield om(i.localStore,r.targetId,!0))})}function jx(n,e){return x(this,null,function*(){let t=se(n),i=t.Fa.get(e),r=t.Ma.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Wm(t.remoteStore,i.targetId))})}function Ux(n,e,t){return x(this,null,function*(){let i=Wx(n);try{let r=yield function(o,c){let l=se(o),d=st.now(),g=c.reduce((D,M)=>D.add(M.key),pe()),v,E;return l.persistence.runTransaction("Locally write mutations","readwrite",D=>{let M=Fn(),j=pe();return l.cs.getEntries(D,g).next(F=>{M=F,M.forEach((Y,re)=>{re.isValidDocument()||(j=j.add(Y))})}).next(()=>l.localDocuments.getOverlayedDocuments(D,M)).next(F=>{v=F;let Y=[];for(let re of c){let oe=qA(re,v.get(re.key).overlayedDocument);oe!=null&&Y.push(new wn(re.key,oe,_y(oe.value.mapValue),ri.exists(!0)))}return l.mutationQueue.addMutationBatch(D,d,Y,c)}).next(F=>{E=F;let Y=F.applyToLocalDocumentSet(v,j);return l.documentOverlayCache.saveOverlays(D,F.batchId,Y)})}).then(()=>({batchId:E.batchId,changes:xy(v)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,c,l){let d=o.Ba[o.currentUser.toKey()];d||(d=new $e(be)),d=d.insert(c,l),o.Ba[o.currentUser.toKey()]=d}(i,r.batchId,t),yield Yo(i,r.changes),yield Al(i.remoteStore)}catch(r){let s=Xm(r,"Failed to persist write");t.reject(s)}})}function ew(n,e){return x(this,null,function*(){let t=se(n);try{let i=yield mx(t.localStore,e);e.targetChanges.forEach((r,s)=>{let o=t.Na.get(s);o&&(Re(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.va=!0:r.modifiedDocuments.size>0?Re(o.va):r.removedDocuments.size>0&&(Re(o.va),o.va=!1))}),yield Yo(t,i,e)}catch(i){yield Wo(i)}})}function ry(n,e,t){let i=se(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){let r=[];i.Fa.forEach((s,o)=>{let c=o.view.Z_(e);c.snapshot&&r.push(c.snapshot)}),function(o,c){let l=se(o);l.onlineState=c;let d=!1;l.queries.forEach((g,v)=>{for(let E of v.j_)E.Z_(c)&&(d=!0)}),d&&Jm(l)}(i.eventManager,e),r.length&&i.Ca.d_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function Bx(n,e,t){return x(this,null,function*(){let i=se(n);i.sharedClientState.updateQueryState(e,"rejected",t);let r=i.Na.get(e),s=r&&r.key;if(s){let o=new $e(X.comparator);o=o.insert(s,Zt.newNoDocument(s,ae.min()));let c=pe().add(s),l=new Jc(ae.min(),new Map,new $e(be),o,c);yield ew(i,l),i.Oa=i.Oa.remove(s),i.Na.delete(e),Zm(i)}else yield om(i.localStore,e,!1).then(()=>Sm(i,e,t)).catch(Wo)})}function zx(n,e){return x(this,null,function*(){let t=se(n),i=e.batch.batchId;try{let r=yield fx(t.localStore,e);nw(t,i,null),tw(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Yo(t,r)}catch(r){yield Wo(r)}})}function $x(n,e,t){return x(this,null,function*(){let i=se(n);try{let r=yield function(o,c){let l=se(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let g;return l.mutationQueue.lookupMutationBatch(d,c).next(v=>(Re(v!==null),g=v.keys(),l.mutationQueue.removeMutationBatch(d,v))).next(()=>l.mutationQueue.performConsistencyCheck(d)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(d,g,c)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,g)).next(()=>l.localDocuments.getDocuments(d,g))})}(i.localStore,e);nw(i,e,t),tw(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Yo(i,r)}catch(r){yield Wo(r)}})}function tw(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function nw(n,e,t){let i=se(n),r=i.Ba[i.currentUser.toKey()];if(r){let s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.Ba[i.currentUser.toKey()]=r}}function Sm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let i of n.Ma.get(e))n.Fa.delete(i),t&&n.Ca.$a(i,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(i=>{n.La.containsKey(i)||iw(n,i)})}function iw(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(Wm(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),Zm(n))}function sy(n,e,t){for(let i of t)i instanceof dl?(n.La.addReference(i.key,e),Hx(n,i)):i instanceof hl?(K("SyncEngine","Document no longer in limbo: "+i.key),n.La.removeReference(i.key,e),n.La.containsKey(i.key)||iw(n,i.key)):ie()}function Hx(n,e){let t=e.key,i=t.path.canonicalString();n.Oa.get(t)||n.xa.has(i)||(K("SyncEngine","New document in limbo: "+t),n.xa.add(i),Zm(n))}function Zm(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new X(Ue.fromString(e)),i=n.qa.next();n.Na.set(i,new Im(t)),n.Oa=n.Oa.insert(t,i),Wy(n.remoteStore,new Uo(_n(Iy(t.path)),i,"TargetPurposeLimboResolution",fy.oe))}}function Yo(n,e,t){return x(this,null,function*(){let i=se(n),r=[],s=[],o=[];i.Fa.isEmpty()||(i.Fa.forEach((c,l)=>{o.push(i.Ka(l,e,t).then(d=>{var g;if((d||t)&&i.isPrimaryClient){let v=d?!d.fromCache:(g=t?.targetChanges.get(l.targetId))===null||g===void 0?void 0:g.current;i.sharedClientState.updateQueryState(l.targetId,v?"current":"not-current")}if(d){r.push(d);let v=nm.Wi(l.targetId,d);s.push(v)}}))}),yield Promise.all(o),i.Ca.d_(r),yield function(l,d){return x(this,null,function*(){let g=se(l);try{yield g.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>U.forEach(d,E=>U.forEach(E.$i,D=>g.persistence.referenceDelegate.addReference(v,E.targetId,D)).next(()=>U.forEach(E.Ui,D=>g.persistence.referenceDelegate.removeReference(v,E.targetId,D)))))}catch(v){if(!Ko(v))throw v;K("LocalStore","Failed to update sequence numbers: "+v)}for(let v of d){let E=v.targetId;if(!v.fromCache){let D=g.os.get(E),M=D.snapshotVersion,j=D.withLastLimboFreeSnapshotVersion(M);g.os=g.os.insert(E,j)}}})}(i.localStore,s))})}function qx(n,e){return x(this,null,function*(){let t=se(n);if(!t.currentUser.isEqual(e)){K("SyncEngine","User change. New user:",e.toKey());let i=yield qy(t.localStore,e);t.currentUser=e,function(s,o){s.ka.forEach(c=>{c.forEach(l=>{l.reject(new q(N.CANCELLED,o))})}),s.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Yo(t,i.hs)}})}function Gx(n,e){let t=se(n),i=t.Na.get(e);if(i&&i.va)return pe().add(i.key);{let r=pe(),s=t.Ma.get(e);if(!s)return r;for(let o of s){let c=t.Fa.get(o);r=r.unionWith(c.view.Va)}return r}}function rw(n){let e=se(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=ew.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Gx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Bx.bind(null,e),e.Ca.d_=Ox.bind(null,e.eventManager),e.Ca.$a=Mx.bind(null,e.eventManager),e}function Wx(n){let e=se(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$x.bind(null,e),e}var oy=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return x(this,null,function*(){this.serializer=Sl(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,i){return null}Ha(t,i){return null}za(t){return hx(this.persistence,new rm,t.initialUser,this.serializer)}Ga(t){return new Zf(tm.Zr,this.serializer)}Wa(t){return new am}terminate(){return x(this,null,function*(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var Kx=(()=>{class n{initialize(t,i){return x(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ry(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=qx.bind(null,this.syncEngine),yield Rx(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new vm}()}createDatastore(t){let i=Sl(t.databaseInfo.databaseId),r=function(o){return new um(o)}(t.databaseInfo);return function(o,c,l,d){return new fm(o,c,l,d)}(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return function(r,s,o,c,l){return new pm(r,s,o,c,l)}(this.localStore,this.datastore,t.asyncQueue,i=>ry(this.syncEngine,i,0),function(){return sl.D()?new sl:new cm}())}createSyncEngine(t,i){return function(s,o,c,l,d,g,v){let E=new Cm(s,o,c,l,d,g);return v&&(E.Qa=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}terminate(){return x(this,null,function*(){var t,i;yield function(s){return x(this,null,function*(){let o=se(s);K("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield Qo(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()})}}return n.provider={build:()=>new n},n})();var Tm=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Nn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Am=class{constructor(e,t,i,r,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=tt.UNAUTHENTICATED,this.clientId=qc.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,o=>x(this,null,function*(){K("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(i,o=>(K("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new pn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>x(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let i=Xm(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function ef(n,e){return x(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),K("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(r=>x(this,null,function*(){i.isEqual(r)||(yield qy(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function ay(n,e){return x(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield Qx(n);K("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>ty(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>ty(e.remoteStore,r)),n._onlineComponents=e})}function Qx(n){return x(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){K("FirestoreClient","Using user provided OfflineComponentProvider");try{yield ef(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(r){return r.name==="FirebaseError"?r.code===N.FAILED_PRECONDITION||r.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(t))throw t;Fr("Error using user provided cache. Falling back to memory cache: "+t),yield ef(n,new oy)}}else K("FirestoreClient","Using default OfflineComponentProvider"),yield ef(n,new oy);return n._offlineComponents})}function sw(n){return x(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(K("FirestoreClient","Using user provided OnlineComponentProvider"),yield ay(n,n._uninitializedComponentsProvider._online)):(K("FirestoreClient","Using default OnlineComponentProvider"),yield ay(n,new Kx))),n._onlineComponents})}function Yx(n){return sw(n).then(e=>e.syncEngine)}function Xx(n){return x(this,null,function*(){let e=yield sw(n),t=e.eventManager;return t.onListen=Nx.bind(null,e.syncEngine),t.onUnlisten=Lx.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Vx.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=jx.bind(null,e.syncEngine),t})}function Jx(n,e,t={}){let i=new pn;return n.asyncQueue.enqueueAndForget(()=>x(this,null,function*(){return function(s,o,c,l,d){let g=new Tm({next:E=>{g.Za(),o.enqueueAndForget(()=>Px(s,v)),E.fromCache&&l.source==="server"?d.reject(new q(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(E)},error:E=>d.reject(E)}),v=new wm(c,g,{includeMetadataChanges:!0,_a:!0});return kx(s,v)}(yield Xx(n),n.asyncQueue,e,t,i)})),i.promise}function ow(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var cy=new Map;function aw(n,e,t){if(!t)throw new q(N.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Zx(n,e,t,i){if(e===!0&&i===!0)throw new q(N.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function ly(n){if(!X.isDocumentKey(n))throw new q(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function uy(n){if(X.isDocumentKey(n))throw new q(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function xl(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ie()}function Wr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new q(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=xl(n);throw new q(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var fl=class{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new q(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new q(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Zx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ow((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new q(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new q(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new q(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Kr=class{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fl({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new q(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fl(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new tf;switch(i.type){case"firstParty":return new of(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new q(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return x(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let i=cy.get(t);i&&(K("ComponentProvider","Removing Datastore"),cy.delete(t),i.terminate())}(this),Promise.resolve()}};function cw(n,e,t,i={}){var r;let s=(n=Wr(n,Kr))._getSettings(),o=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Fr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let c,l;if(typeof i.mockUserToken=="string")c=i.mockUserToken,l=tt.MOCK_USER;else{c=qv(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);let d=i.mockUserToken.sub||i.mockUserToken.user_id;if(!d)throw new q(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new tt(d)}n._authCredentials=new nf(new Hc(c,l))}}var zi=class n{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Ft=class n{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new si(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},si=class n extends zi{constructor(e,t,i){super(e,t,Iy(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new X(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function lw(n,e,...t){if(n=wt(n),aw("collection","path",e),n instanceof Kr){let i=Ue.fromString(e,...t);return uy(i),new si(n,null,i)}{if(!(n instanceof Ft||n instanceof si))throw new q(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(Ue.fromString(e,...t));return uy(i),new si(n.firestore,null,i)}}function ep(n,e,...t){if(n=wt(n),arguments.length===1&&(e=qc.newId()),aw("doc","path",e),n instanceof Kr){let i=Ue.fromString(e,...t);return ly(i),new Ft(n,null,new X(i))}{if(!(n instanceof Ft||n instanceof si))throw new q(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(Ue.fromString(e,...t));return ly(i),new Ft(n.firestore,n instanceof si?n.converter:null,new X(i))}}var ml=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new ol(this,"async_queue_retry"),this.Vu=()=>{let i=Zh();i&&K("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;let t=Zh();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=Zh();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new pn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return x(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Ko(e))throw e;K("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(i=>{this.Eu=i,this.du=!1;let r=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(i);throw Nn("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.du=!1,i))));return this.mu=t,t}enqueueAfterDelay(e,t,i){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let r=gm.createAndSchedule(this,e,t,i,s=>this.yu(s));return this.Tu.push(r),r}fu(){this.Eu&&ie()}verifyOperationInProgress(){}wu(){return x(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};var Qr=class extends Kr{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new ml,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return x(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new ml(e),this._firestoreClient=void 0,yield e}})}};function uw(n,e){let t=typeof n=="object"?n:yo(),i=typeof n=="string"?n:e||"(default)",r=Th(t,"firestore").getImmediate({identifier:i});if(!r._initialized){let s=$v("firestore");s&&cw(r,...s)}return r}function dw(n){if(n._terminated)throw new q(N.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||eD(n),n._firestoreClient}function eD(n){var e,t,i;let r=n._freezeSettings(),s=function(c,l,d,g){return new df(c,l,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,ow(g.experimentalLongPollingOptions),g.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((t=r.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new Am(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(c){let l=c?._online.build();return{_offline:c?._offline.build(l),_online:l}}(n._componentsProvider))}var $o=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(pt.fromBase64String(e))}catch(t){throw new q(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Yr=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new q(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Xr=class{constructor(e){this._methodName=e}};var Ho=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new q(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new q(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}};var qo=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,e._values)}};var tD=/^__.*__$/,xm=class{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new wn(e,this.data,this.fieldMask,t,this.fieldTransforms):new Bi(e,this.data,t,this.fieldTransforms)}},pl=class{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new wn(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function hw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ie()}}var gl=class n{constructor(e,t,i,r,s,o){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Fu({path:i,xu:!1});return r.Ou(e),r}Nu(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Fu({path:i,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return vl(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(hw(this.Cu)&&tD.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},Dm=class{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Sl(e)}Qu(e,t,i,r=!1){return new gl({Cu:e,methodName:t,qu:i,path:Vt.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function tp(n){let e=n._freezeSettings(),t=Sl(n._databaseId);return new Dm(n._databaseId,!!e.ignoreUndefinedProperties,t)}function nD(n,e,t,i,r,s={}){let o=n.Qu(s.merge||s.mergeFields?2:0,e,t,r);np("Data must be an object, but it was:",o,i);let c=fw(i,o),l,d;if(s.merge)l=new Gt(o.fieldMask),d=o.fieldTransforms;else if(s.mergeFields){let g=[];for(let v of s.mergeFields){let E=km(e,v,t);if(!o.contains(E))throw new q(N.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);pw(g,E)||g.push(E)}l=new Gt(g),d=o.fieldTransforms.filter(v=>l.covers(v.field))}else l=null,d=o.fieldTransforms;return new xm(new Nt(c),l,d)}var _l=class n extends Xr{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function iD(n,e,t){return new gl({Cu:3,qu:e.settings.qu,methodName:n._methodName,xu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var Rm=class n extends Xr{constructor(e,t){super(e),this.Ku=t}_toFieldTransform(e){let t=iD(this,e,!0),i=this.Ku.map(s=>es(s,t)),r=new li(i);return new Tf(e.path,r)}isEqual(e){return e instanceof n&&xi(this.Ku,e.Ku)}};function rD(n,e,t,i){let r=n.Qu(1,e,t);np("Data must be an object, but it was:",r,i);let s=[],o=Nt.empty();$i(i,(l,d)=>{let g=ip(e,l,t);d=wt(d);let v=r.Nu(g);if(d instanceof _l)s.push(g);else{let E=es(d,v);E!=null&&(s.push(g),o.set(g,E))}});let c=new Gt(s);return new pl(o,c,r.fieldTransforms)}function sD(n,e,t,i,r,s){let o=n.Qu(1,e,t),c=[km(e,i,t)],l=[r];if(s.length%2!=0)throw new q(N.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<s.length;E+=2)c.push(km(e,s[E])),l.push(s[E+1]);let d=[],g=Nt.empty();for(let E=c.length-1;E>=0;--E)if(!pw(d,c[E])){let D=c[E],M=l[E];M=wt(M);let j=o.Nu(D);if(M instanceof _l)d.push(D);else{let F=es(M,j);F!=null&&(d.push(D),g.set(D,F))}}let v=new Gt(d);return new pl(g,v,o.fieldTransforms)}function oD(n,e,t,i=!1){return es(t,n.Qu(i?4:3,e))}function es(n,e){if(mw(n=wt(n)))return np("Unsupported field value:",e,n),fw(n,e);if(n instanceof Xr)return function(i,r){if(!hw(r.Cu))throw r.Bu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Bu(`${i._methodName}() is not currently supported inside arrays`);let s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(i,r){let s=[],o=0;for(let c of i){let l=es(c,r.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(n,e)}return function(i,r){if((i=wt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return UA(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let s=st.fromDate(i);return{timestampValue:nl(r.serializer,s)}}if(i instanceof st){let s=new st(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:nl(r.serializer,s)}}if(i instanceof Ho)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof $o)return{bytesValue:Ly(r.serializer,i._byteString)};if(i instanceof Ft){let s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Gm(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof qo)return function(o,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw c.Bu("VectorValues must only contain numeric values.");return qm(c.serializer,l)})}}}}}}(i,r);throw r.Bu(`Unsupported field value: ${xl(i)}`)}(n,e)}function fw(n,e){let t={};return my(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$i(n,(i,r)=>{let s=es(r,e.Mu(i));s!=null&&(t[i]=s)}),{mapValue:{fields:t}}}function mw(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof st||n instanceof Ho||n instanceof $o||n instanceof Ft||n instanceof Xr||n instanceof qo)}function np(n,e,t){if(!mw(t)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(t)){let i=xl(t);throw i==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+i)}}function km(n,e,t){if((e=wt(e))instanceof Yr)return e._internalPath;if(typeof e=="string")return ip(n,e);throw vl("Field path arguments must be of type string or ",n,!1,void 0,t)}var aD=new RegExp("[~\\*/\\[\\]]");function ip(n,e,t){if(e.search(aD)>=0)throw vl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Yr(...e.split("."))._internalPath}catch{throw vl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function vl(n,e,t,i,r){let s=i&&!i.isEmpty(),o=r!==void 0,c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new q(N.INVALID_ARGUMENT,c+n+l)}function pw(n,e){return n.some(t=>t.isEqual(e))}var yl=class{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Pm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(Dl("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},Pm=class extends yl{data(){return super.data()}};function Dl(n,e){return typeof e=="string"?ip(n,e):e instanceof Yr?e._internalPath:e._delegate._internalPath}function cD(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new q(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Go=class{},wl=class extends Go{};function gw(n,e,...t){let i=[];e instanceof Go&&i.push(e),i=i.concat(t),function(s){let o=s.filter(l=>l instanceof Om).length,c=s.filter(l=>l instanceof bl).length;if(o>1||o>0&&c>0)throw new q(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(let r of i)n=r._apply(n);return n}var bl=class n extends wl{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new n(e,t,i)}_apply(e){let t=this._parse(e);return yw(e._query,t),new zi(e.firestore,e.converter,Cf(e._query,t))}_parse(e){let t=tp(e.firestore);return function(s,o,c,l,d,g,v){let E;if(d.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new q(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){hy(v,g);let D=[];for(let M of v)D.push(dy(l,s,M));E={arrayValue:{values:D}}}else E=dy(l,s,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||hy(v,g),E=oD(c,o,v,g==="in"||g==="not-in");return Qe.create(d,g,E)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function _w(n,e,t){let i=e,r=Dl("where",n);return bl._create(r,i,t)}var Om=class n extends Go{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:en.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(r,s){let o=r,c=s.getFlattenedFilters();for(let l of c)yw(o,l),o=Cf(o,l)}(e._query,t),new zi(e.firestore,e.converter,Cf(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var Mm=class n extends wl{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=function(r,s,o){if(r.startAt!==null)throw new q(N.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new q(N.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ji(s,o)}(e._query,this._field,this._direction);return new zi(e.firestore,e.converter,function(r,s){let o=r.explicitOrderBy.concat([s]);return new ai(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}};function vw(n,e="asc"){let t=e,i=Dl("orderBy",n);return Mm._create(i,t)}function dy(n,e,t){if(typeof(t=wt(t))=="string"){if(t==="")throw new q(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Cy(e)&&t.indexOf("/")!==-1)throw new q(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let i=e.path.child(Ue.fromString(t));if(!X.isDocumentKey(i))throw new q(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return F0(n,new X(i))}if(t instanceof Ft)return F0(n,t._key);throw new q(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xl(t)}.`)}function hy(n,e){if(!Array.isArray(n)||n.length===0)throw new q(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function yw(n,e){let t=function(r,s){for(let o of r)for(let c of o.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new q(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new q(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var Nm=class{convertValue(e,t="none"){switch(Li(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Le(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(oi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ie()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let i={};return $i(e,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertVectorValue(e){var t,i,r;let s=(r=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(o=>Le(o.doubleValue));return new qo(s)}convertGeoPoint(e){return new Ho(Le(e.latitude),Le(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":let i=Bm(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Fo(e));default:return null}}convertTimestamp(e){let t=Vn(e);return new st(t.seconds,t.nanos)}convertDocumentKey(e,t){let i=Ue.fromString(e);Re(Hy(i));let r=new Qc(i.get(1),i.get(3)),s=new X(i.popFirst(5));return r.isEqual(t)||Nn(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};function lD(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}var Mr=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Vm=class extends yl{constructor(e,t,i,r,s,o){super(e,t,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Vr(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let i=this._document.data.field(Dl("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}},Vr=class extends Vm{data(e={}){return super.data(e)}},Fm=class{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Mr(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Vr(this._firestore,this._userDataWriter,i.key,i,new Mr(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new q(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(c=>{let l=new Vr(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Mr(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);return c.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{let l=new Vr(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Mr(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),d=-1,g=-1;return c.type!==0&&(d=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),g=o.indexOf(c.doc.key)),{type:uD(c.type),doc:l,oldIndex:d,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function uD(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ie()}}var Lm=class extends Nm{constructor(e){super(),this.firestore=e}convertBytes(e){return new $o(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,t)}};function ww(n){n=Wr(n,zi);let e=Wr(n.firestore,Qr),t=dw(e),i=new Lm(e);return cD(n._query),Jx(t,n._query).then(r=>new Fm(e,i,n,r))}function bw(n,e,t,...i){n=Wr(n,Ft);let r=Wr(n.firestore,Qr),s=tp(r),o;return o=typeof(e=wt(e))=="string"||e instanceof Yr?sD(s,"updateDoc",n._key,e,t,i):rD(s,"updateDoc",n._key,e),Iw(r,[o.toMutation(n._key,ri.exists(!0))])}function Ew(n,e){let t=Wr(n.firestore,Qr),i=ep(n),r=lD(n.converter,e);return Iw(t,[nD(tp(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,ri.exists(!1))]).then(()=>i)}function Iw(n,e){return function(i,r){let s=new pn;return i.asyncQueue.enqueueAndForget(()=>x(this,null,function*(){return Ux(yield Yx(i),r,s)})),s.promise}(dw(n),e)}function Cw(...n){return new Rm("arrayUnion",n)}(function(e,t=!0){(function(r){Jr=r})(Tr),ti(new qt("firestore",(i,{instanceIdentifier:r,options:s})=>{let o=i.getProvider("app").getImmediate(),c=new Qr(new rf(i.getProvider("auth-internal")),new cf(i.getProvider("app-check-internal")),function(d,g){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new q(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qc(d.options.projectId,g)}(o,r),o);return s=Object.assign({useFetchStreams:t},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),et(O0,"4.7.3",e),et(O0,"4.7.3","esm2017")})();var Ln=class{constructor(e){return e}},Sw="firestore",rp=class{constructor(){return bo(Sw)}};var sp=new Z("angularfire2.firestore-instances");function dD(n,e){let t=Dh(Sw,n,e);return t&&new Ln(t)}function hD(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new Ln(i)}}var fD={provide:rp,deps:[[new on,sp]]},mD={provide:Ln,useFactory:dD,deps:[[new on,sp],ki]};function Rl(n,...e){return et("angularfire",xr.full,"fst"),Sn([mD,fD,{provide:sp,useFactory:hD(n),multi:!0,deps:[ce,je,Eo,Io,[new on,Fc],[new on,wo],...e]}])}var Tw=At(Ew,!0);var Aw=At(Cw,!0);var qi=At(lw,!0);var xw=At(ep,!0);var ts=At(ww,!0);var kl=At(uw,!0);var Dw=At(vw,!0);var Xo=At(gw,!0);var Rw=At(bw,!0);var kw=At(_w,!0);var Uw=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(i){return new(i||n)(k(ur),k(ye))}}static{this.\u0275dir=Q({type:n})}}return n})(),na=(()=>{class n extends Uw{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Ve(n)))(r||n)}})()}static{this.\u0275dir=Q({type:n,features:[le]})}}return n})(),Qi=new Z(""),pD={provide:Qi,useExisting:Xt(()=>hp),multi:!0},hp=(()=>{class n extends na{writeValue(t){this.setProperty("checked",t)}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Ve(n)))(r||n)}})()}static{this.\u0275dir=Q({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){i&1&&V("change",function(o){return r.onChange(o.target.checked)})("blur",function(){return r.onTouched()})},features:[Pe([pD]),le]})}}return n})(),gD={provide:Qi,useExisting:Xt(()=>Bl),multi:!0};function _D(){let n=mr()?mr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var vD=new Z(""),Bl=(()=>{class n extends Uw{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!_D())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(i){return new(i||n)(k(ur),k(ye),k(vD,8))}}static{this.\u0275dir=Q({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&V("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[Pe([gD]),le]})}}return n})();function di(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function Bw(n){return n!=null&&typeof n.length=="number"}var ia=new Z(""),ra=new Z(""),yD=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Wi=class{static min(e){return wD(e)}static max(e){return bD(e)}static required(e){return ED(e)}static requiredTrue(e){return ID(e)}static email(e){return CD(e)}static minLength(e){return SD(e)}static maxLength(e){return TD(e)}static pattern(e){return AD(e)}static nullValidator(e){return zw(e)}static compose(e){return Kw(e)}static composeAsync(e){return Yw(e)}};function wD(n){return e=>{if(di(e.value)||di(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function bD(n){return e=>{if(di(e.value)||di(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function ED(n){return di(n.value)?{required:!0}:null}function ID(n){return n.value===!0?null:{required:!0}}function CD(n){return di(n.value)||yD.test(n.value)?null:{email:!0}}function SD(n){return e=>di(e.value)||!Bw(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function TD(n){return e=>Bw(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function AD(n){if(!n)return zw;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(di(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}function zw(n){return null}function $w(n){return n!=null}function Hw(n){return Xa(n)?it(n):n}function qw(n){let e={};return n.forEach(t=>{e=t!=null?L(L({},e),t):e}),Object.keys(e).length===0?null:e}function Gw(n,e){return e.map(t=>t(n))}function xD(n){return!n.validate}function Ww(n){return n.map(e=>xD(e)?e:t=>e.validate(t))}function Kw(n){if(!n)return null;let e=n.filter($w);return e.length==0?null:function(t){return qw(Gw(t,e))}}function Qw(n){return n!=null?Kw(Ww(n)):null}function Yw(n){if(!n)return null;let e=n.filter($w);return e.length==0?null:function(t){let i=Gw(t,e).map(Hw);return f_(i).pipe(ge(qw))}}function Xw(n){return n!=null?Yw(Ww(n)):null}function Ow(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Jw(n){return n._rawValidators}function Zw(n){return n._rawAsyncValidators}function op(n){return n?Array.isArray(n)?n:[n]:[]}function Ol(n,e){return Array.isArray(n)?n.includes(e):n===e}function Mw(n,e){let t=op(e);return op(n).forEach(r=>{Ol(t,r)||t.push(r)}),t}function Nw(n,e){return op(e).filter(t=>!Ol(n,t))}var Ml=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Qw(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Xw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Wt=class extends Ml{get formDirective(){return null}get path(){return null}},Ki=class extends Ml{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Nl=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},DD={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},SV=fe(L({},DD),{"[class.ng-submitted]":"isSubmitted"}),eb=(()=>{class n extends Nl{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||n)(k(Ki,2))}}static{this.\u0275dir=Q({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&Ut("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[le]})}}return n})(),tb=(()=>{class n extends Nl{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||n)(k(Wt,10))}}static{this.\u0275dir=Q({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&Ut("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[le]})}}return n})();var Jo="VALID",Pl="INVALID",ns="PENDING",Zo="DISABLED",hi=class{},Vl=class extends hi{constructor(e,t){super(),this.value=e,this.source=t}},ea=class extends hi{constructor(e,t){super(),this.pristine=e,this.source=t}},ta=class extends hi{constructor(e,t){super(),this.touched=e,this.source=t}},is=class extends hi{constructor(e,t){super(),this.status=e,this.source=t}},ap=class extends hi{constructor(e){super(),this.source=e}},cp=class extends hi{constructor(e){super(),this.source=e}};function fp(n){return(zl(n)?n.validators:n)||null}function RD(n){return Array.isArray(n)?Qw(n):n||null}function mp(n,e){return(zl(e)?e.asyncValidators:n)||null}function kD(n){return Array.isArray(n)?Xw(n):n||null}function zl(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function nb(n,e,t){let i=n.controls;if(!(e?Object.keys(i):i).length)throw new Fe(1e3,"");if(!i[t])throw new Fe(1001,"")}function ib(n,e,t){n._forEachChild((i,r)=>{if(t[r]===void 0)throw new Fe(1002,"")})}var rs=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=qs(()=>this.statusReactive()),this.statusReactive=dr(void 0),this._pristine=qs(()=>this.pristineReactive()),this.pristineReactive=dr(!0),this._touched=qs(()=>this.touchedReactive()),this.touchedReactive=dr(!1),this._events=new he,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return un(this.statusReactive)}set status(e){un(()=>this.statusReactive.set(e))}get valid(){return this.status===Jo}get invalid(){return this.status===Pl}get pending(){return this.status==ns}get disabled(){return this.status===Zo}get enabled(){return this.status!==Zo}get pristine(){return un(this.pristineReactive)}set pristine(e){un(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return un(this.touchedReactive)}set touched(e){un(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Mw(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Mw(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Nw(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Nw(e,this._rawAsyncValidators))}hasValidator(e){return Ol(this._rawValidators,e)}hasAsyncValidator(e){return Ol(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(fe(L({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new ta(!0,i))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),t&&e.emitEvent!==!1&&this._events.next(new ta(!1,i))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(fe(L({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new ea(!1,i))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),t&&e.emitEvent!==!1&&this._events.next(new ea(!0,i))}markAsPending(e={}){this.status=ns;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new is(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(fe(L({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Zo,this.errors=null,this._forEachChild(r=>{r.disable(fe(L({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Vl(this.value,i)),this._events.next(new is(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(fe(L({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Jo,this._forEachChild(i=>{i.enable(fe(L({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(fe(L({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Jo||this.status===ns)&&this._runAsyncValidator(i,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Vl(this.value,t)),this._events.next(new is(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(fe(L({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Zo:Jo}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=ns,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let i=Hw(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new is(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,i)}_initObservables(){this.valueChanges=new ze,this.statusChanges=new ze}_calculateStatus(){return this._allControlsDisabled()?Zo:this.errors?Pl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ns)?ns:this._anyControlsHaveStatus(Pl)?Pl:Jo}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),r&&this._events.next(new ea(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new ta(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){zl(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=RD(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=kD(this._rawAsyncValidators)}},Fl=class extends rs{constructor(e,t,i){super(fp(t),mp(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){ib(this,!0,e),Object.keys(e).forEach(i=>{nb(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var lp=class extends Fl{};var $l=new Z("CallSetDisabledState",{providedIn:"root",factory:()=>Hl}),Hl="always";function pp(n,e){return[...e.path,n]}function up(n,e,t=Hl){gp(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),OD(n,e),ND(n,e),MD(n,e),PD(n,e)}function Ll(n,e,t=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),Ul(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function jl(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function PD(n,e){if(e.valueAccessor.setDisabledState){let t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function gp(n,e){let t=Jw(n);e.validator!==null?n.setValidators(Ow(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let i=Zw(n);e.asyncValidator!==null?n.setAsyncValidators(Ow(i,e.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();jl(e._rawValidators,r),jl(e._rawAsyncValidators,r)}function Ul(n,e){let t=!1;if(n!==null){if(e.validator!==null){let r=Jw(n);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(e.asyncValidator!==null){let r=Zw(n);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}let i=()=>{};return jl(e._rawValidators,i),jl(e._rawAsyncValidators,i),t}function OD(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&rb(n,e)})}function MD(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&rb(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function rb(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function ND(n,e){let t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function VD(n,e){n==null,gp(n,e)}function FD(n,e){return Ul(n,e)}function sb(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function LD(n){return Object.getPrototypeOf(n.constructor)===na}function jD(n,e){n._syncPendingControls(),e.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function ob(n,e){if(!e)return null;Array.isArray(e);let t,i,r;return e.forEach(s=>{s.constructor===Bl?t=s:LD(s)?i=s:r=s}),r||i||t||null}function UD(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Vw(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Fw(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Gi=class extends rs{constructor(e=null,t,i){super(fp(t),mp(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),zl(t)&&(t.nonNullable||t.initialValueIsDefault)&&(Fw(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Vw(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Vw(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Fw(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var BD=n=>n instanceof Gi,zD=(()=>{class n extends Wt{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return pp(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Ve(n)))(r||n)}})()}static{this.\u0275dir=Q({type:n,features:[le]})}}return n})();var ab=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Q({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),$D={provide:Qi,useExisting:Xt(()=>_p),multi:!0},_p=(()=>{class n extends na{writeValue(t){let i=t??"";this.setProperty("value",i)}registerOnChange(t){this.onChange=i=>{t(i==""?null:parseFloat(i))}}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Ve(n)))(r||n)}})()}static{this.\u0275dir=Q({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){i&1&&V("input",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},features:[Pe([$D]),le]})}}return n})();var vp=new Z(""),HD={provide:Ki,useExisting:Xt(()=>yp)},yp=(()=>{class n extends Ki{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,i,r,s,o){super(),this._ngModelWarningConfig=s,this.callSetDisabledState=o,this.update=new ze,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(i),this.valueAccessor=ob(this,r)}ngOnChanges(t){if(this._isControlChanged(t)){let i=t.form.previousValue;i&&Ll(i,this,!1),up(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}sb(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Ll(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}static{this.\u0275fac=function(i){return new(i||n)(k(ia,10),k(ra,10),k(Qi,10),k(vp,8),k($l,8))}}static{this.\u0275dir=Q({type:n,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[Pe([HD]),le,yt]})}}return n})(),qD={provide:Wt,useExisting:Xt(()=>ql)},ql=(()=>{class n extends Wt{get submitted(){return un(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,i,r){super(),this.callSetDisabledState=r,this._submitted=qs(()=>this._submittedReactive()),this._submittedReactive=dr(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ze,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ul(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let i=this.form.get(t.path);return up(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){Ll(t.control||null,t,!1),UD(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this._submittedReactive.set(!0),jD(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new ap(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new cp(this.form))}_updateDomValue(){this.directives.forEach(t=>{let i=t.control,r=this.form.get(t.path);i!==r&&(Ll(i||null,t),BD(r)&&(up(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let i=this.form.get(t.path);VD(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let i=this.form.get(t.path);i&&FD(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){gp(this.form,this),this._oldForm&&Ul(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(i){return new(i||n)(k(ia,10),k(ra,10),k($l,8))}}static{this.\u0275dir=Q({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&V("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Pe([qD]),le,yt]})}}return n})(),GD={provide:Wt,useExisting:Xt(()=>Gl)},Gl=(()=>{class n extends zD{constructor(t,i,r){super(),this.name=null,this._parent=t,this._setValidators(i),this._setAsyncValidators(r)}_checkParentType(){cb(this._parent)}static{this.\u0275fac=function(i){return new(i||n)(k(Wt,13),k(ia,10),k(ra,10))}}static{this.\u0275dir=Q({type:n,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[Pe([GD]),le]})}}return n})(),WD={provide:Wt,useExisting:Xt(()=>Wl)},Wl=(()=>{class n extends Wt{constructor(t,i,r){super(),this.name=null,this._parent=t,this._setValidators(i),this._setAsyncValidators(r)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return pp(this.name==null?this.name:this.name.toString(),this._parent)}_checkParentType(){cb(this._parent)}static{this.\u0275fac=function(i){return new(i||n)(k(Wt,13),k(ia,10),k(ra,10))}}static{this.\u0275dir=Q({type:n,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[Pe([WD]),le]})}}return n})();function cb(n){return!(n instanceof Gl)&&!(n instanceof ql)&&!(n instanceof Wl)}var KD={provide:Ki,useExisting:Xt(()=>wp)},wp=(()=>{class n extends Ki{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,i,r,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new ze,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=ob(this,s)}ngOnChanges(t){this._added||this._setUpControl(),sb(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return pp(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(i){return new(i||n)(k(Wt,13),k(ia,10),k(ra,10),k(Qi,10),k(vp,8))}}static{this.\u0275dir=Q({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Pe([KD]),le,yt]})}}return n})(),QD={provide:Qi,useExisting:Xt(()=>Kl),multi:!0};function lb(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function YD(n){return n.split(":")[0]}var Kl=(()=>{class n extends na{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let i=this._getOptionId(t),r=lb(i,t);this.setProperty("value",r)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){let i=YD(t);return this._optionMap.has(i)?this._optionMap.get(i):t}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Ve(n)))(r||n)}})()}static{this.\u0275dir=Q({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&V("change",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Pe([QD]),le]})}}return n})(),ub=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(lb(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(k(ye),k(ur),k(Kl,9))}}static{this.\u0275dir=Q({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),XD={provide:Qi,useExisting:Xt(()=>db),multi:!0};function Lw(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function JD(n){return n.split(":")[0]}var db=(()=>{class n extends na{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let i;if(Array.isArray(t)){let r=t.map(s=>this._getOptionId(s));i=(s,o)=>{s._setSelected(r.indexOf(o.toString())>-1)}}else i=(r,s)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{let r=[],s=i.selectedOptions;if(s!==void 0){let o=s;for(let c=0;c<o.length;c++){let l=o[c],d=this._getOptionValue(l.value);r.push(d)}}else{let o=i.options;for(let c=0;c<o.length;c++){let l=o[c];if(l.selected){let d=this._getOptionValue(l.value);r.push(d)}}}this.value=r,t(r)}}_registerOption(t){let i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){let i=JD(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Ve(n)))(r||n)}})()}static{this.\u0275dir=Q({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&V("change",function(o){return r.onChange(o.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Pe([XD]),le]})}}return n})(),hb=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(Lw(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Lw(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(k(ye),k(ur),k(db,9))}}static{this.\u0275dir=Q({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();var fb=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ie({type:n})}static{this.\u0275inj=Ee({})}}return n})(),dp=class extends rs{constructor(e,t,i){super(fp(t),mp(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){ib(this,!1,e),e.forEach((i,r)=>{nb(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>i._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function jw(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var mb=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,i=null){let r=this._reduceControls(t),s={};return jw(i)?s=i:i!==null&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new Fl(r,s)}record(t,i=null){let r=this._reduceControls(t);return new lp(r,i)}control(t,i,r){let s={};return this.useNonNullable?(jw(i)?s=i:(s.validators=i,s.asyncValidators=r),new Gi(t,fe(L({},s),{nonNullable:!0}))):new Gi(t,i,r)}array(t,i,r){let s=t.map(o=>this._createControl(o));return new dp(s,i,r)}_reduceControls(t){let i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){if(t instanceof Gi)return t;if(t instanceof rs)return t;if(Array.isArray(t)){let i=t[0],r=t.length>1?t[1]:null,s=t.length>2?t[2]:null;return this.control(i,r,s)}else return this.control(t)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Ql=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:$l,useValue:t.callSetDisabledState??Hl}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ie({type:n})}static{this.\u0275inj=Ee({imports:[fb]})}}return n})(),pb=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:vp,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:$l,useValue:t.callSetDisabledState??Hl}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ie({type:n})}static{this.\u0275inj=Ee({imports:[fb]})}}return n})();var fi=class n{constructor(e){this.firestore=e}collectionName="clients";getClients(){return x(this,null,function*(){let e=Xo(qi(this.firestore,this.collectionName),Dw("nom"));return(yield ts(e)).docs.map(i=>L({id:i.id},i.data()))})}getClientById(e){return x(this,null,function*(){let t=Xo(qi(this.firestore,this.collectionName),kw("__name__","==",e)),i=yield ts(t);if(!i.empty){let r=i.docs[0];return L({id:r.id},r.data())}})}addClient(e){let t=qi(this.firestore,this.collectionName);return it(Tw(t,e)).pipe(ge(i=>fe(L({},e),{id:i.id})))}addRecommendationToClient(e,t){let i=xw(this.firestore,`clients/${e}`);return it(Rw(i,{recommendations:Aw(t)}))}searchClients(e){let t=qi(this.firestore,this.collectionName);return it(ts(t)).pipe(ge(i=>{let r=[];return i.forEach(s=>{let o=s.data(),c=`${o.prenom} ${o.nom}`.toLowerCase();c.includes(e.toLowerCase())&&r.push({nom:c,id:s.id})}),r}))}static \u0275fac=function(t){return new(t||n)(O(Ln))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})};function eR(n,e){if(n&1){let t=ht();m(0,"div",58)(1,"div",59)(2,"a",8),V("click",function(){ee(t);let r=H();return te(r.handleMobileClick("home"))}),p(3,"Home"),f(),m(4,"a",8),V("click",function(r){ee(t);let s=H();return te(s.handleMobileClick("about",r))}),p(5,"About"),f(),m(6,"a",8),V("click",function(){ee(t);let r=H();return te(r.handleMobileClick("services"))}),p(7,"Rooms"),f(),m(8,"a",8),V("click",function(){ee(t);let r=H();return te(r.handleMobileClick("clients"))}),p(9,"Clients"),f(),m(10,"a",8),V("click",function(){ee(t);let r=H();return te(r.handleMobileClick("services"))}),p(11,"Services"),f(),m(12,"a",8),V("click",function(r){ee(t);let s=H();return te(s.handleMobileClick("contact",r))}),p(13,"Contact"),f()()()}}function tR(n,e){if(n&1&&(m(0,"div",60)(1,"label",61),p(2),f(),$(3,"input",62),m(4,"select",63)(5,"option",64),p(6,"Faible"),f(),m(7,"option",65),p(8,"Moyenne"),f(),m(9,"option",66),p(10,"\xC9lev\xE9e"),f()()()),n&2){let t=e.$implicit,i=H();P(2),Ze(t.label),P(),z("formControl",i.getFormControl(i.preferencesGroup,t.key)),P(),z("formControl",i.getFormControl(i.preferencesNiveauGroup,t.key))}}function nR(n,e){n&1&&(Xe(0),m(1,"div",86)(2,"div")(3,"label",87),p(4,"\xC9tage"),f(),$(5,"input",88),f(),m(6,"div")(7,"label",87),p(8,"Vue"),f(),m(9,"select",89)(10,"option",18),p(11,"S\xE9lectionnez une vue"),f(),m(12,"option",90),p(13,"Mer"),f(),m(14,"option",91),p(15,"Ville"),f(),m(16,"option",92),p(17,"Jardin"),f()()(),m(18,"div")(19,"label",87),p(20,"Type de lit"),f(),m(21,"select",93)(22,"option",18),p(23,"S\xE9lectionnez un lit"),f(),m(24,"option",94),p(25,"Simple"),f(),m(26,"option",95),p(27,"Double"),f(),m(28,"option",96),p(29,"Queen"),f(),m(30,"option",97),p(31,"King"),f()()(),m(32,"div")(33,"label",87),p(34,"Petit d\xE9jeuner"),f(),m(35,"select",98)(36,"option",18),p(37,"Option petit d\xE9jeuner"),f(),m(38,"option",99),p(39,"Inclus"),f(),m(40,"option",100),p(41,"Suppl\xE9ment"),f(),m(42,"option",101),p(43,"Non"),f()()(),m(44,"div")(45,"label",87),p(46,"Service chambre"),f(),m(47,"select",102)(48,"option",18),p(49,"Fr\xE9quence service"),f(),m(50,"option",103),p(51,"Matin"),f(),m(52,"option",104),p(53,"Soir"),f(),m(54,"option",105),p(55,"24h/24"),f()()()(),Je())}function iR(n,e){n&1&&(Xe(0),m(1,"div",86)(2,"div")(3,"label",87),p(4,"Type de restauration"),f(),m(5,"select",106)(6,"option",18),p(7,"S\xE9lectionnez un type"),f(),m(8,"option",107),p(9,"Buffet"),f(),m(10,"option",108),p(11,"\xC0 la carte"),f()()(),m(12,"div")(13,"label",87),p(14,"Horaires"),f(),$(15,"input",109),f()(),Je())}function rR(n,e){n&1&&(Xe(0),m(1,"div",110)(2,"h4",111),p(3,"Options Spa"),f(),m(4,"div",86)(5,"label",112),$(6,"input",113),m(7,"span",114),p(8,"Massage"),f()(),m(9,"label",112),$(10,"input",115),m(11,"span",114),p(12,"Jacuzzi"),f()(),m(13,"label",112),$(14,"input",116),m(15,"span",114),p(16,"Sauna"),f()(),m(17,"label",112),$(18,"input",117),m(19,"span",114),p(20,"Hammam"),f()()()(),Je())}function sR(n,e){n&1&&(Xe(0),m(1,"div",86)(2,"div")(3,"label",87),p(4,"Coach disponible"),f(),m(5,"select",118)(6,"option",18),p(7,"S\xE9lectionnez une option"),f(),m(8,"option",119),p(9,"Oui"),f(),m(10,"option",119),p(11,"Non"),f()()(),m(12,"div")(13,"label",87),p(14,"\xC9quipements"),f(),$(15,"input",120),f()(),Je()),n&2&&(P(8),z("ngValue",!0),P(2),z("ngValue",!1))}function oR(n,e){n&1&&(Xe(0),m(1,"div",86)(2,"div")(3,"label",87),p(4,"D\xE9bit"),f(),m(5,"select",121)(6,"option",18),p(7,"S\xE9lectionnez un d\xE9bit"),f(),m(8,"option",122),p(9,"Haut d\xE9bit"),f(),m(10,"option",123),p(11,"D\xE9bit normal"),f()()()(),Je())}function aR(n,e){n&1&&(Xe(0),m(1,"div",22)(2,"div")(3,"label",87),p(4,"Demandes sp\xE9ciales"),f(),$(5,"textarea",124),f()(),Je())}function cR(n,e){n&1&&(Xe(0),m(1,"div",86)(2,"div")(3,"label",87),p(4,"V\xE9hicule"),f(),m(5,"select",125)(6,"option",18),p(7,"S\xE9lectionnez un v\xE9hicule"),f(),m(8,"option",126),p(9,"Voiture"),f(),m(10,"option",127),p(11,"Minibus"),f(),m(12,"option",128),p(13,"Limousine"),f()()(),m(14,"div")(15,"label",87),p(16,"Destination"),f(),$(17,"input",129),f()(),Je())}function lR(n,e){n&1&&(Xe(0),m(1,"div",86)(2,"div")(3,"label",87),p(4,"Type de service"),f(),m(5,"select",130)(6,"option",18),p(7,"S\xE9lectionnez un service"),f(),m(8,"option",131),p(9,"Nettoyage simple"),f(),m(10,"option",132),p(11,"Repassage"),f(),m(12,"option",133),p(13,"Service express"),f()()(),m(14,"div")(15,"label",87),p(16,"Date de retour"),f(),$(17,"input",134),f()(),Je())}function uR(n,e){n&1&&(Xe(0),m(1,"div",86)(2,"div")(3,"label",87),p(4,"Type de piscine"),f(),m(5,"select",135)(6,"option",18),p(7,"S\xE9lectionnez un type"),f(),m(8,"option",136),p(9,"Ouverte"),f(),m(10,"option",137),p(11,"Couverte"),f()()(),m(12,"div")(13,"label",87),p(14,"Temp\xE9rature"),f(),m(15,"select",138)(16,"option",18),p(17,"S\xE9lectionnez une option"),f(),m(18,"option",139),p(19,"Chauff\xE9e"),f(),m(20,"option",140),p(21,"Ambiante"),f()()()(),Je())}function dR(n,e){if(n&1&&(m(0,"div",83),Xe(1,84),ne(2,nR,56,0,"ng-container",85)(3,iR,16,0,"ng-container",85)(4,rR,21,0,"ng-container",85)(5,sR,16,2,"ng-container",85)(6,oR,12,0,"ng-container",85)(7,aR,6,0,"ng-container",85)(8,cR,18,0,"ng-container",85)(9,lR,18,0,"ng-container",85)(10,uR,22,0,"ng-container",85),Je(),f()),n&2){let t,i=H().$implicit;P(),z("ngSwitch",(t=i.get("type"))==null?null:t.value),P(),z("ngSwitchCase","chambre"),P(),z("ngSwitchCase","restauration"),P(),z("ngSwitchCase","spa"),P(),z("ngSwitchCase","sport"),P(),z("ngSwitchCase","wifi"),P(),z("ngSwitchCase","conciergerie"),P(),z("ngSwitchCase","transport"),P(),z("ngSwitchCase","blanchisserie"),P(),z("ngSwitchCase","piscine")}}function hR(n,e){if(n&1){let t=ht();m(0,"div",67)(1,"div",68)(2,"div",69)(3,"select",70)(4,"option",18),p(5,"S\xE9lectionnez un service"),f(),m(6,"option",71),p(7,"Chambre"),f(),m(8,"option",72),p(9,"Restauration"),f(),m(10,"option",73),p(11,"Spa"),f(),m(12,"option",74),p(13,"Salle de sport"),f(),m(14,"option",75),p(15,"Wi-Fi"),f(),m(16,"option",76),p(17,"Conciergerie"),f(),m(18,"option",77),p(19,"Transport"),f(),m(20,"option",78),p(21,"Blanchisserie"),f(),m(22,"option",79),p(23,"Piscine"),f()(),m(24,"button",80),V("click",function(){let r=ee(t).index,s=H();return te(s.removeService(r))}),m(25,"span",81),p(26,"delete"),f()()(),ne(27,dR,11,10,"div",82),f()()}if(n&2){let t,i=e.$implicit,r=e.index;P(),z("formGroupName",r),P(26),z("ngIf",(t=i.get("type"))==null?null:t.value)}}var Yl=class n{constructor(e,t,i,r){this.fb=e;this.clientService=t;this.route=i;this.router=r;window.scrollTo({top:0,behavior:"smooth"}),this.clientForm=this.fb.group({nom:["",Wi.required],prenom:["",Wi.required],statut:["",Wi.required],preferencesGroup:this.fb.group({}),preferencesNiveauGroup:this.fb.group({}),contraintes:[""],services:this.fb.array([])})}clientForm;isMenuOpen=!1;clientId=null;preferences=[{key:"newsletter",label:"Recevoir la newsletter"},{key:"offres",label:"Offres sp\xE9ciales"},{key:"notifications",label:"Notifications SMS"}];ngOnInit(){let e=this.preferencesGroup,t=this.preferencesNiveauGroup;this.preferences.forEach(i=>{e.addControl(i.key,new Gi(!1)),t.addControl(i.key,new Gi("moyenne"))}),this.clientId=this.route.snapshot.paramMap.get("id"),this.clientId&&this.loadClient()}get services(){return this.clientForm.get("services")}addService(){let e=this.fb.group({type:["",Wi.required],details:this.fb.group({})});e.get("type")?.valueChanges.subscribe(t=>{let i=this.createDetailsGroup(t);e.setControl("details",i)}),this.services.push(e)}removeService(e){this.services.removeAt(e)}createDetailsGroup(e){switch(e){case"chambre":return this.fb.group({etage:[""],vue:[""],lit:[""],petitDejeuner:[""],serviceChambre:[""]});case"restauration":return this.fb.group({typeRestauration:[""],horaires:[""]});case"spa":return this.fb.group({optionsSpa:this.fb.group({massage:[!1],jacuzzi:[!1],sauna:[!1],hammam:[!1]})});case"sport":return this.fb.group({coachDisponible:[!1],equipements:this.fb.control([])});case"wifi":return this.fb.group({debit:[""]});case"piscine":return this.fb.group({piscineType:[""],temperature:[""]});case"transport":return this.fb.group({vehicule:[""],destination:[""]});default:return this.fb.group({})}}get preferencesGroup(){return this.clientForm.get("preferencesGroup")}get preferencesNiveauGroup(){return this.clientForm.get("preferencesNiveauGroup")}getFormControl(e,t){return e.get(t)}toggleMenu(){this.isMenuOpen=!this.isMenuOpen}scrollTo(e,t){if(t&&t.preventDefault(),this.isMenuOpen=!1,e==="home"){window.scrollTo({top:0,behavior:"smooth"});return}if(e==="about"||e==="contact"){let i=document.getElementById("footer-section");i&&i.scrollIntoView({behavior:"smooth",block:"start"})}}handleMobileClick(e,t){t&&t.preventDefault(),e==="about"||e==="contact"?this.scrollTo(e,t):this.navigateTo(e)}navigateTo(e){this.router.navigate([`/${e}`]),this.isMenuOpen=!1}onSubmit(){if(this.clientForm.invalid)return;let e=this.clientForm.value,t={nom:e.nom,prenom:e.prenom,statut:e.statut,preferences:this.preferences.reduce((i,r)=>(i[r.key]=e.preferencesGroup[r.key],i),{}),niveauPreferences:this.preferences.reduce((i,r)=>(i[r.key]=e.preferencesNiveauGroup[r.key],i),{}),contraintes:e.contraintes,services:e.services};this.clientService.addClient(t).subscribe(i=>{console.log("Client cr\xE9\xE9 avec ID :",i.id),this.router.navigate(["/recommendations",i.id])})}loadClient(){return x(this,null,function*(){let e=yield this.clientService.getClientById(this.clientId);e&&(this.clientForm.patchValue({nom:e.nom,prenom:e.prenom,statut:e.statut,contraintes:e.contraintes}),this.preferences.forEach(t=>{this.preferencesGroup.get(t.key)?.setValue(e.preferences[t.key]||!1),this.preferencesNiveauGroup.get(t.key)?.setValue(e.niveauPreferences[t.key]||"moyenne")}))})}static \u0275fac=function(t){return new(t||n)(k(mb),k(fi),k(hn),k($t))};static \u0275cmp=Se({type:n,selectors:[["app-add-client"]],standalone:!0,features:[Ae],decls:112,vars:5,consts:[[1,"fixed","top-0","left-0","right-0","flex","items-center","justify-between","px-8","py-6","text-white","z-50","transition-all","duration-300","bg-black","shadow-md"],[1,"flex","items-center","space-x-2"],[1,"text-sm","font-light","uppercase"],[3,"click"],[1,"md:hidden","flex","items-center","space-x-4","pr-0"],[1,"text-white",3,"click"],[1,"material-icons","text-3xl"],[1,"space-x-6","hidden","md:flex"],[1,"hover:underline",3,"click"],["class","md:hidden absolute top-20 left-0 right-0 bg-black text-white px-6 py-4 z-50",4,"ngIf"],[1,"pt-28","min-h-screen","bg-[#f9f7f4]","px-4","pb-20"],[1,"max-w-3xl","mx-auto","p-6","md:p-8","bg-white","rounded-lg","shadow-md"],[1,"text-2xl","md:text-3xl","font-bold","mb-6","text-gray-800","text-center"],[1,"space-y-6",3,"ngSubmit","formGroup"],[1,"block","mb-1","text-gray-700","font-medium"],["type","text","formControlName","nom",1,"w-full","border","border-gray-300","rounded-md","p-3","focus:outline-none","focus:ring-2","focus:ring-blue-400"],["type","text","formControlName","prenom",1,"w-full","border","border-gray-300","rounded-md","p-3","focus:outline-none","focus:ring-2","focus:ring-blue-400"],["formControlName","statut",1,"w-full","border","border-gray-300","rounded-md","p-3","bg-white"],["value","","disabled","","selected",""],["value","standard"],["value","gold"],["value","platinum"],[1,"space-y-4"],["class","flex flex-col md:flex-row items-start md:items-center md:justify-between gap-2 md:gap-4",4,"ngFor","ngForOf"],["formControlName","contraintes","rows","4",1,"w-full","border","border-gray-300","rounded-md","p-3","resize-none","focus:outline-none","focus:ring-2","focus:ring-blue-400"],["formArrayName","services","class","mb-6",4,"ngFor","ngForOf"],["type","button",1,"px-6","py-3","bg-[#d6bfa9]","text-white","transition-all","duration-300","text-sm","uppercase","font-medium","tracking-wider","hover:bg-[#b7a080]","hover:scale-105",3,"click"],[1,"text-white","text-xl"],[1,"text-right"],["type","submit",1,"px-6","py-3","border-2","border-[#d6bfa9]","text-[#d6bfa9]","hover:bg-[#d6bfa9]","hover:text-white","transition-all","duration-300","text-sm","uppercase","font-medium","tracking-wider",3,"disabled"],["id","footer-section"],[1,"relative","h-96","w-full"],[1,"absolute","inset-0","bg-black","bg-opacity-80","flex","flex-col","items-center","justify-center"],[1,"text-center","px-4","mb-8"],[1,"text-lg","text-white","max-w-4xl","mx-auto","font-light"],[1,"text-center","px-4"],[1,"text-4xl","font-serif","text-white","font-bold"],["src","assets/images/footer-picture.jpg","alt","Royella Luxury Hotel",1,"w-full","h-full","object-cover"],[1,"bg-black","text-white","py-12","px-4"],[1,"max-w-6xl","mx-auto"],[1,"text-xl","md:text-2xl","font-serif","text-center","mb-12"],[1,"flex","flex-col","md:flex-row","justify-center","items-center","gap-8","md:gap-16"],[1,"flex","items-center","gap-3"],[1,"w-10","h-10","rounded-full","bg-gray-800","flex","items-center","justify-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"],[1,"text-gray-300","text-lg"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 11a3 3 0 11-6 0 3 3 0 016 0z"],[1,"border-t","border-gray-800","mt-12","pt-6","flex","flex-col","md:flex-row","justify-between","items-center"],[1,"text-gray-400","text-lg","mb-4","md:mb-0"],[1,"flex","gap-4"],["href","#",1,"w-10","h-10","rounded-full","bg-gray-800","flex","items-center","justify-center","hover:bg-gray-700","transition"],["xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 24 24",1,"h-5","w-5"],["d","M22.675 0h-21.35c-.732 0-1.325.593-1.325 1.325v21.351c0 .731.593 1.324 1.325 1.324h11.495v-9.294h-3.128v-3.622h3.128v-2.671c0-3.1 1.893-4.788 4.659-4.788 1.325 0 2.463.099 2.795.143v3.24l-1.918.001c-1.504 0-1.795.715-1.795 1.763v2.313h3.587l-.467 3.622h-3.12v9.293h6.116c.73 0 1.323-.593 1.323-1.325v-21.35c0-.732-.593-1.325-1.325-1.325z"],["d","M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"],["d","M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"],[1,"md:hidden","absolute","top-20","left-0","right-0","bg-black","text-white","px-6","py-4","z-50"],[1,"flex","flex-col","items-center","space-y-4"],[1,"flex","flex-col","md:flex-row","items-start","md:items-center","md:justify-between","gap-2","md:gap-4"],[1,"md:w-1/3","text-gray-700","font-medium"],["type","checkbox",1,"md:ml-auto",3,"formControl"],[1,"w-full","md:w-1/2","border","border-gray-300","rounded-md","p-2","bg-white",3,"formControl"],["value","faible"],["value","moyenne"],["value","\xE9lev\xE9e"],["formArrayName","services",1,"mb-6"],[1,"border","border-gray-200","rounded-lg","overflow-hidden","bg-white","shadow-sm",3,"formGroupName"],[1,"flex","items-center","justify-between","bg-gray-50","px-4","py-3","border-b","border-gray-200"],["formControlName","type",1,"flex-1","border-gray-300","rounded-md","shadow-sm","focus:ring-[#d6bfa9]","focus:border-[#d6bfa9]","text-gray-700"],["value","chambre"],["value","restauration"],["value","spa"],["value","sport"],["value","wifi"],["value","conciergerie"],["value","transport"],["value","blanchisserie"],["value","piscine"],["type","button",1,"ml-4","p-2","text-red-500","hover:text-red-700","hover:bg-red-50","rounded-full","transition-colors",3,"click"],[1,"material-icons"],["formGroupName","details","class","p-4 space-y-4",4,"ngIf"],["formGroupName","details",1,"p-4","space-y-4"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-1"],["formControlName","etage","type","number",1,"w-full","border-gray-300","rounded-md","shadow-sm","focus:ring-[#d6bfa9]","focus:border-[#d6bfa9]"],["formControlName","vue",1,"w-full","border-gray-300","rounded-md","shadow-sm","focus:ring-[#d6bfa9]","focus:border-[#d6bfa9]"],["value","mer"],["value","ville"],["value","jardin"],["formControlName","lit",1,"w-full","border-gray-300","rounded-md","shadow-sm","focus:ring-[#d6bfa9]","focus:border-[#d6bfa9]"],["value","simple"],["value","double"],["value","queen"],["value","king"],["formControlName","petitDejeuner",1,"w-full","border-gray-300","rounded-md","shadow-sm","focus:ring-[#d6bfa9]","focus:border-[#d6bfa9]"],["value","inclus"],["value","supplement"],["value","non"],["formControlName","serviceChambre",1,"w-full","border-gray-300","rounded-md","shadow-sm","focus:ring-[#d6bfa9]","focus:border-[#d6bfa9]"],["value","matin"],["value","soir"],["value","24h"],["formControlName","typeRestauration",1,"w-full","border-gray-300","rounded-md","shadow-sm","focus:ring-[#d6bfa9]","focus:border-[#d6bfa9]"],["value","buffet"],["value","carte"],["formControlName","horaires","type","text","placeholder","Ex: 7h-10h, 12h-14h, 19h-22h",1,"w-full","border-gray-300","rounded-md","shadow-sm","focus:ring-[#d6bfa9]","focus:border-[#d6bfa9]"],[1,"space-y-3"],[1,"text-sm","font-medium","text-gray-700"],[1,"inline-flex","items-center"],["type","checkbox","formControlName","massage",1,"h-4","w-4","text-[#d6bfa9]","focus:ring-[#d6bfa9]","border-gray-300","rounded"],[1,"ml-2","text-gray-700"],["type","checkbox","formControlName","jacuzzi",1,"h-4","w-4","text-[#d6bfa9]","focus:ring-[#d6bfa9]","border-gray-300","rounded"],["type","checkbox","formControlName","sauna",1,"h-4","w-4","text-[#d6bfa9]","focus:ring-[#d6bfa9]","border-gray-300","rounded"],["type","checkbox","formControlName","hammam",1,"h-4","w-4","text-[#d6bfa9]","focus:ring-[#d6bfa9]","border-gray-300","rounded"],["formControlName","coachDisponible",1,"w-full","border-gray-300","rounded-md","shadow-sm","focus:ring-[#d6bfa9]","focus:border-[#d6bfa9]"],[3,"ngValue"],["formControlName","equipements","type","text","placeholder","Ex: Poids libres, tapis, machines...",1,"w-full","border-gray-300","rounded-md","shadow-sm","focus:ring-[#d6bfa9]","focus:border-[#d6bfa9]"],["formControlName","debit",1,"w-full","border-gray-300","rounded-md","shadow-sm","focus:ring-[#d6bfa9]","focus:border-[#d6bfa9]"],["value","haut"],["value","normal"],["formControlName","demandes","rows","3","placeholder","D\xE9crivez vos demandes...",1,"w-full","border-gray-300","rounded-md","shadow-sm","focus:ring-[#d6bfa9]","focus:border-[#d6bfa9]"],["formControlName","vehicule",1,"w-full","border-gray-300","rounded-md","shadow-sm","focus:ring-[#d6bfa9]","focus:border-[#d6bfa9]"],["value","voiture"],["value","minibus"],["value","limousine"],["formControlName","destination","type","text","placeholder","Ex: A\xE9roport, Centre-ville...",1,"w-full","border-gray-300","rounded-md","shadow-sm","focus:ring-[#d6bfa9]","focus:border-[#d6bfa9]"],["formControlName","typeBlanchisserie",1,"w-full","border-gray-300","rounded-md","shadow-sm","focus:ring-[#d6bfa9]","focus:border-[#d6bfa9]"],["value","nettoyage"],["value","repassage"],["value","express"],["formControlName","dateRetour","type","date",1,"w-full","border-gray-300","rounded-md","shadow-sm","focus:ring-[#d6bfa9]","focus:border-[#d6bfa9]"],["formControlName","piscineType",1,"w-full","border-gray-300","rounded-md","shadow-sm","focus:ring-[#d6bfa9]","focus:border-[#d6bfa9]"],["value","ouverte"],["value","couverte"],["formControlName","temperature",1,"w-full","border-gray-300","rounded-md","shadow-sm","focus:ring-[#d6bfa9]","focus:border-[#d6bfa9]"],["value","chauff\xE9e"],["value","ambiante"]],template:function(t,i){t&1&&(m(0,"header",0)(1,"div",1)(2,"div",2)(3,"a",3),V("click",function(){return i.navigateTo("home")}),p(4,"Luxury Hotel"),f()()(),m(5,"div",4)(6,"button",5),V("click",function(){return i.toggleMenu()}),m(7,"span",6),p(8,"menu"),f()()(),m(9,"nav",7)(10,"a",8),V("click",function(){return i.navigateTo("home")}),p(11,"Home"),f(),m(12,"a",8),V("click",function(s){return i.scrollTo("about",s)}),p(13,"About"),f(),m(14,"a",8),V("click",function(){return i.navigateTo("services")}),p(15,"Rooms"),f(),m(16,"a",8),V("click",function(){return i.navigateTo("clients")}),p(17,"Clients"),f(),m(18,"a",8),V("click",function(){return i.navigateTo("services")}),p(19,"Services"),f(),m(20,"a",8),V("click",function(s){return i.scrollTo("contact",s)}),p(21,"Contact"),f()()(),ne(22,eR,14,0,"div",9),m(23,"div",10)(24,"div",11)(25,"h2",12),p(26," Ajouter un nouveau client "),f(),m(27,"form",13),V("ngSubmit",function(){return i.onSubmit()}),m(28,"div")(29,"label",14),p(30,"Nom"),f(),$(31,"input",15),f(),m(32,"div")(33,"label",14),p(34,"Pr\xE9nom"),f(),$(35,"input",16),f(),m(36,"div")(37,"label",14),p(38,"Statut du client"),f(),m(39,"select",17)(40,"option",18),p(41,"Choisir un statut"),f(),m(42,"option",19),p(43,"Standard"),f(),m(44,"option",20),p(45,"Gold"),f(),m(46,"option",21),p(47,"Platinum"),f()()(),m(48,"div",22),ne(49,tR,11,3,"div",23),f(),m(50,"div")(51,"label",14),p(52,"Contraintes"),f(),$(53,"textarea",24),f(),m(54,"div",22)(55,"label",14),p(56,"Services"),f(),ne(57,hR,28,2,"div",25),m(58,"button",26),V("click",function(){return i.addService()}),m(59,"span",27),p(60,"+"),f(),p(61,` Ajouter un service
`),f()(),m(62,"div",28)(63,"button",29),p(64," G\xE9n\xE9rer offre personnalis\xE9e "),f()()()()(),m(65,"footer",30)(66,"div",31)(67,"div",32)(68,"div",33)(69,"p",34),p(70," D\xE9couvrez un havre de paix o\xF9 luxe et \xE9l\xE9gance se rencontrent pour cr\xE9er des souvenirs inoubliables "),f()(),m(71,"div",35)(72,"h2",36),p(73,"Votre \xC9chapp\xE9e Belle Commence Ici"),f()()(),$(74,"img",37),f(),m(75,"div",38)(76,"div",39)(77,"h3",40),p(78,"LUXURY HOTEL"),f(),m(79,"div",41)(80,"div",42)(81,"div",43),_e(),m(82,"svg",44),$(83,"path",45),f()(),Te(),m(84,"p",46),p(85,"(+088) 210 - 123 - 4567"),f()(),m(86,"div",42)(87,"div",43),_e(),m(88,"svg",44),$(89,"path",47),f()(),Te(),m(90,"p",46),p(91,"info@luxury-hotel.com"),f()(),m(92,"div",42)(93,"div",43),_e(),m(94,"svg",44),$(95,"path",48)(96,"path",49),f()(),Te(),m(97,"p",46),p(98,"79 alger, Algeria"),f()()(),m(99,"div",50)(100,"p",51),p(101,"Copyright \xA9 2025 lexury hotel. Tous droits r\xE9serv\xE9s."),f(),m(102,"div",52)(103,"a",53),_e(),m(104,"svg",54),$(105,"path",55),f()(),Te(),m(106,"a",53),_e(),m(107,"svg",54),$(108,"path",56),f()(),Te(),m(109,"a",53),_e(),m(110,"svg",54),$(111,"path",57),f()()()()()()()),t&2&&(P(22),z("ngIf",i.isMenuOpen),P(5),z("formGroup",i.clientForm),P(22),z("ngForOf",i.preferences),P(8),z("ngForOf",i.services.controls),P(6),z("disabled",i.clientForm.invalid))},dependencies:[kt,Xn,Bt,$_,H_,pb,ab,ub,hb,Bl,_p,hp,Kl,eb,tb,yp,ql,wp,Gl,Wl,Ql],encapsulation:2})};function sa(n,e=0){return fR(n)?Number(n):arguments.length===2?e:0}function fR(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function ss(n){return Array.isArray(n)?n:[n]}function qe(n){return n==null?"":typeof n=="string"?n:`${n}px`}function jn(n){return n instanceof ye?n.nativeElement:n}var Ip;try{Ip=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Ip=!1}var Ge=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?W_(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||Ip)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(i){return new(i||n)(O(An))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var oa;function mR(){if(oa==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>oa=!0}))}finally{oa=oa||!1}return oa}function os(n){return mR()?n:!!n.capture}var tn=function(n){return n[n.NORMAL=0]="NORMAL",n[n.NEGATED=1]="NEGATED",n[n.INVERTED=2]="INVERTED",n}(tn||{}),Xl,Xi;function Jl(){if(Xi==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Xi=!1,Xi;if("scrollBehavior"in document.documentElement.style)Xi=!0;else{let n=Element.prototype.scrollTo;n?Xi=!/\{\s*\[native code\]\s*\}/.test(n.toString()):Xi=!1}}return Xi}function as(){if(typeof document!="object"||!document)return tn.NORMAL;if(Xl==null){let n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";let t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),Xl=tn.NORMAL,n.scrollLeft===0&&(n.scrollLeft=1,Xl=n.scrollLeft===0?tn.NEGATED:tn.INVERTED),n.remove()}return Xl}var Ep;function pR(){if(Ep==null){let n=typeof document<"u"?document.head:null;Ep=!!(n&&(n.createShadowRoot||n.attachShadow))}return Ep}function gb(n){if(pR()){let e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function aa(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){let e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function nn(n){return n.composedPath?n.composedPath()[0]:n.target}function ca(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var gR=new Z("cdk-dir-doc",{providedIn:"root",factory:_R});function _R(){return W(de)}var vR=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function yR(n){let e=n?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?vR.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var Un=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new ze,t){let i=t.body?t.body.dir:null,r=t.documentElement?t.documentElement.dir:null;this.value=yR(i||r||"ltr")}}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(i){return new(i||n)(O(gR,8))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var mi=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ie({type:n})}static{this.\u0275inj=Ee({})}}return n})();function Zl(n){return n&&typeof n.connect=="function"&&!(n instanceof Vs)}var cs=function(n){return n[n.REPLACED=0]="REPLACED",n[n.INSERTED=1]="INSERTED",n[n.MOVED=2]="MOVED",n[n.REMOVED=3]="REMOVED",n}(cs||{}),ua=new Z("_ViewRepeater"),ls=class{applyChanges(e,t,i,r,s){e.forEachOperation((o,c,l)=>{let d,g;if(o.previousIndex==null){let v=i(o,c,l);d=t.createEmbeddedView(v.templateRef,v.context,v.index),g=cs.INSERTED}else l==null?(t.remove(c),g=cs.REMOVED):(d=t.get(c),t.move(d,l),g=cs.MOVED);s&&s({context:d?.context,operation:g,record:o})})}detach(){}};var wR=20,Sp=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new he,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){let i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=wR){return this._platform.isBrowser?new Gn(i=>{this._globalSubscription||this._addGlobalListener();let r=t>0?this._scrolled.pipe(Ju(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):J()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){let r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(dt(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(t){let i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,t)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=jn(i),s=t.getElementRef().nativeElement;do if(r==s)return!0;while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let t=this._getWindow();return Xu(t.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(i){return new(i||n)(O(ce),O(Ge),O(de,8))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),yb=(()=>{class n{constructor(t,i,r,s){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=r,this.dir=s,this._destroyed=new he,this._elementScrolled=new Gn(o=>this.ngZone.runOutsideAngular(()=>Xu(this.elementRef.nativeElement,"scroll").pipe(bt(this._destroyed)).subscribe(o)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){let i=this.elementRef.nativeElement,r=this.dir&&this.dir.value=="rtl";t.left==null&&(t.left=r?t.end:t.start),t.right==null&&(t.right=r?t.start:t.end),t.bottom!=null&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),r&&as()!=tn.NORMAL?(t.left!=null&&(t.right=i.scrollWidth-i.clientWidth-t.left),as()==tn.INVERTED?t.left=t.right:as()==tn.NEGATED&&(t.left=t.right?-t.right:t.right)):t.right!=null&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){let i=this.elementRef.nativeElement;Jl()?i.scrollTo(t):(t.top!=null&&(i.scrollTop=t.top),t.left!=null&&(i.scrollLeft=t.left))}measureScrollOffset(t){let i="left",r="right",s=this.elementRef.nativeElement;if(t=="top")return s.scrollTop;if(t=="bottom")return s.scrollHeight-s.clientHeight-s.scrollTop;let o=this.dir&&this.dir.value=="rtl";return t=="start"?t=o?r:i:t=="end"&&(t=o?i:r),o&&as()==tn.INVERTED?t==i?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:o&&as()==tn.NEGATED?t==i?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:t==i?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}static{this.\u0275fac=function(i){return new(i||n)(k(ye),k(Sp),k(ce),k(Un,8))}}static{this.\u0275dir=Q({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}}return n})(),bR=20,da=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new he,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){let s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){let t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let t=this._document,i=this._getWindow(),r=t.documentElement,s=r.getBoundingClientRect(),o=-s.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,c=-s.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0;return{top:o,left:c}}change(t=bR){return t>0?this._change.pipe(Ju(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(i){return new(i||n)(O(Ge),O(ce),O(de,8))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var _b=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ie({type:n})}static{this.\u0275inj=Ee({})}}return n})(),ha=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ie({type:n})}static{this.\u0275inj=Ee({imports:[mi,_b,mi,_b]})}}return n})();var fa=class{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},us=class extends fa{constructor(e,t,i,r,s){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}},ds=class extends fa{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}},Ap=class extends fa{constructor(e){super(),this.element=e instanceof ye?e.nativeElement:e}},hs=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof us)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof ds)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof Ap)return this._attachedPortal=e,this.attachDomPortal(e)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var eu=class extends hs{constructor(e,t,i,r,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=o=>{this._document;let c=o.element;c.parentNode;let l=this._document.createComment("dom-portal");c.parentNode.insertBefore(l,c),this.outletElement.appendChild(c),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(c,l)})},this._document=s}attachComponentPortal(e){let i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||je.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);r!==-1&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var ma=(()=>{class n extends hs{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new ze,this.attachDomPortal=s=>{this._document;let o=s.element;o.parentNode;let c=this._document.createComment("dom-portal");s.setAttachedHost(this),o.parentNode.insertBefore(c,o),this._getRootNode().appendChild(o),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(o,c)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);let i=t.viewContainerRef!=null?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),o=i.createComponent(s,i.length,t.injector||i.injector,t.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=t,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(t){t.setAttachedHost(this);let i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){let t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static{this.\u0275fac=function(i){return new(i||n)(k(Wa),k(jt),k(de))}}static{this.\u0275dir=Q({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[le]})}}return n})();var Ji=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ie({type:n})}static{this.\u0275inj=Ee({})}}return n})();function tu(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var wb=Jl(),xp=class{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=qe(-this._previousScrollPosition.left),e.style.top=qe(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,t=this._document.body,i=e.style,r=t.style,s=i.scrollBehavior||"",o=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),wb&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),wb&&(i.scrollBehavior=s,r.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}};var Dp=class{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(dt(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},nu=class{enable(){}disable(){}attach(){}};function Rp(n,e){return e.some(t=>{let i=n.bottom<t.top,r=n.top>t.bottom,s=n.right<t.left,o=n.left>t.right;return i||r||s||o})}function bb(n,e){return e.some(t=>{let i=n.top<t.top,r=n.bottom>t.bottom,s=n.left<t.left,o=n.right>t.right;return i||r||s||o})}var kp=class{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();Rp(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},ER=(()=>{class n{constructor(t,i,r,s){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new nu,this.close=o=>new Dp(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new xp(this._viewportRuler,this._document),this.reposition=o=>new kp(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}static{this.\u0275fac=function(i){return new(i||n)(O(Sp),O(da),O(ce),O(de))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),pa=class{constructor(e){if(this.scrollStrategy=new nu,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){let t=Object.keys(e);for(let i of t)e[i]!==void 0&&(this[i]=e[i])}}};var Pp=class{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}};var Ab=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){let i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),this._attachedOverlays.length===0&&this.detach()}static{this.\u0275fac=function(i){return new(i||n)(O(de))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),IR=(()=>{class n extends Ab{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{let s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){let c=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>c.next(r)):c.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(i){return new(i||n)(O(de),O(ce,8))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),CR=(()=>{class n extends Ab{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=nn(s)},this._clickListener=s=>{let o=nn(s),c=s.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;let l=this._attachedOverlays.slice();for(let d=l.length-1;d>-1;d--){let g=l[d];if(g._outsidePointerEvents.observers.length<1||!g.hasAttached())continue;if(Eb(g.overlayElement,o)||Eb(g.overlayElement,c))break;let v=g._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>v.next(s)):v.next(s)}}}add(t){if(super.add(t),!this._isAttached){let i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(i){return new(i||n)(O(de),O(Ge),O(ce,8))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Eb(n,e){let t=typeof ShadowRoot<"u"&&ShadowRoot,i=e;for(;i;){if(i===n)return!0;i=t&&i instanceof ShadowRoot?i.host:i.parentNode}return!1}var fs=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let t="cdk-overlay-container";if(this._platform.isBrowser||ca()){let r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}let i=this._document.createElement("div");i.classList.add(t),ca()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static{this.\u0275fac=function(i){return new(i||n)(O(de),O(Ge))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Bn=class{constructor(e,t,i,r,s,o,c,l,d,g=!1,v){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=o,this._document=c,this._location=l,this._outsideClickDispatcher=d,this._animationsDisabled=g,this._injector=v,this._backdropElement=null,this._backdropClick=new he,this._attachments=new he,this._detachments=new he,this._locationChanges=yi.EMPTY,this._backdropClickHandler=E=>this._backdropClick.next(E),this._backdropTransitionendHandler=E=>{this._disposeBackdrop(E.target)},this._keydownEvents=new he,this._outsidePointerEvents=new he,this._renders=new he,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy,this._afterRenderRef=un(()=>D_(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=xn(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof t?.onDestroy=="function"&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=L(L({},this._config),e),this._updateElementSize()}setDirection(e){this._config=fe(L({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=qe(this._config.width),e.height=qe(this._config.height),e.minWidth=qe(this._config.minWidth),e.minHeight=qe(this._config.minHeight),e.maxWidth=qe(this._config.maxWidth),e.maxHeight=qe(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let e=this._backdropElement;if(e){if(this._animationsDisabled){this._disposeBackdrop(e);return}e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){let r=ss(t||[]).filter(s=>!!s);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let e=this._renders.pipe(bt($a(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){let e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},Ib="cdk-overlay-connected-position-bounding-box",SR=/([A-Za-z%]+)$/,Op=class{get positions(){return this._preferredPositions}constructor(e,t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new he,this._resizeSubscription=yi.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(Ib),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[],o;for(let c of this._preferredPositions){let l=this._getOriginPoint(e,r,c),d=this._getOverlayPoint(l,t,c),g=this._getOverlayFit(d,t,i,c);if(g.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(c,l);return}if(this._canFitWithFlexibleDimensions(g,d,i)){s.push({position:c,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,c)});continue}(!o||o.overlayFit.visibleArea<g.visibleArea)&&(o={overlayFit:g,overlayPoint:d,originPoint:l,position:c,overlayRect:t})}if(s.length){let c=null,l=-1;for(let d of s){let g=d.boundingBoxRect.width*d.boundingBoxRect.height*(d.position.weight||1);g>l&&(l=g,c=d)}this._isPushed=!1,this._applyPosition(c.position,c.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(o.position,o.originPoint);return}this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Zi(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Ib),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r;if(i.originX=="center")r=e.left+e.width/2;else{let o=this._isRtl()?e.right:e.left,c=this._isRtl()?e.left:e.right;r=i.originX=="start"?o:c}t.left<0&&(r-=t.left);let s;return i.originY=="center"?s=e.top+e.height/2:s=i.originY=="top"?e.top:e.bottom,t.top<0&&(s-=t.top),{x:r,y:s}}_getOverlayPoint(e,t,i){let r;i.overlayX=="center"?r=-t.width/2:i.overlayX==="start"?r=this._isRtl()?-t.width:0:r=this._isRtl()?0:-t.width;let s;return i.overlayY=="center"?s=-t.height/2:s=i.overlayY=="top"?0:-t.height,{x:e.x+r,y:e.y+s}}_getOverlayFit(e,t,i,r){let s=Sb(t),{x:o,y:c}=e,l=this._getOffset(r,"x"),d=this._getOffset(r,"y");l&&(o+=l),d&&(c+=d);let g=0-o,v=o+s.width-i.width,E=0-c,D=c+s.height-i.height,M=this._subtractOverflows(s.width,g,v),j=this._subtractOverflows(s.height,E,D),F=M*j;return{visibleArea:F,isCompletelyWithinViewport:s.width*s.height===F,fitsInViewportVertically:j===s.height,fitsInViewportHorizontally:M==s.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){let r=i.bottom-t.y,s=i.right-t.x,o=Cb(this._overlayRef.getConfig().minHeight),c=Cb(this._overlayRef.getConfig().minWidth),l=e.fitsInViewportVertically||o!=null&&o<=r,d=e.fitsInViewportHorizontally||c!=null&&c<=s;return l&&d}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let r=Sb(t),s=this._viewportRect,o=Math.max(e.x+r.width-s.width,0),c=Math.max(e.y+r.height-s.height,0),l=Math.max(s.top-i.top-e.y,0),d=Math.max(s.left-i.left-e.x,0),g=0,v=0;return r.width<=s.width?g=d||-o:g=e.x<this._viewportMargin?s.left-i.left-e.x:0,r.height<=s.height?v=l||-c:v=e.y<this._viewportMargin?s.top-i.top-e.y:0,this._previousPushAmount={x:g,y:v},{x:e.x+g,y:e.y+v}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let i=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!TR(this._lastScrollVisibility,i)){let r=new Pp(e,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let t=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,r=e.overlayY;e.overlayX==="center"?i="center":this._isRtl()?i=e.overlayX==="start"?"right":"left":i=e.overlayX==="start"?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){let i=this._viewportRect,r=this._isRtl(),s,o,c;if(t.overlayY==="top")o=e.y,s=i.height-o+this._viewportMargin;else if(t.overlayY==="bottom")c=i.height-e.y+this._viewportMargin*2,s=i.height-c+this._viewportMargin;else{let D=Math.min(i.bottom-e.y+i.top,e.y),M=this._lastBoundingBoxSize.height;s=D*2,o=e.y-D,s>M&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-M/2)}let l=t.overlayX==="start"&&!r||t.overlayX==="end"&&r,d=t.overlayX==="end"&&!r||t.overlayX==="start"&&r,g,v,E;if(d)E=i.width-e.x+this._viewportMargin*2,g=e.x-this._viewportMargin;else if(l)v=e.x,g=i.right-e.x;else{let D=Math.min(i.right-e.x+i.left,e.x),M=this._lastBoundingBoxSize.width;g=D*2,v=e.x-D,g>M&&!this._isInitialRender&&!this._growAfterOpen&&(v=e.x-M/2)}return{top:o,left:v,bottom:c,right:E,width:g,height:s}}_setBoundingBoxStyles(e,t){let i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=qe(i.height),r.top=qe(i.top),r.bottom=qe(i.bottom),r.width=qe(i.width),r.left=qe(i.left),r.right=qe(i.right),t.overlayX==="center"?r.alignItems="center":r.alignItems=t.overlayX==="end"?"flex-end":"flex-start",t.overlayY==="center"?r.justifyContent="center":r.justifyContent=t.overlayY==="bottom"?"flex-end":"flex-start",s&&(r.maxHeight=qe(s)),o&&(r.maxWidth=qe(o))}this._lastBoundingBoxSize=i,Zi(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Zi(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Zi(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){let i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){let g=this._viewportRuler.getViewportScrollPosition();Zi(i,this._getExactOverlayY(t,e,g)),Zi(i,this._getExactOverlayX(t,e,g))}else i.position="static";let c="",l=this._getOffset(t,"x"),d=this._getOffset(t,"y");l&&(c+=`translateX(${l}px) `),d&&(c+=`translateY(${d}px)`),i.transform=c.trim(),o.maxHeight&&(r?i.maxHeight=qe(o.maxHeight):s&&(i.maxHeight="")),o.maxWidth&&(r?i.maxWidth=qe(o.maxWidth):s&&(i.maxWidth="")),Zi(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);if(this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),e.overlayY==="bottom"){let o=this._document.documentElement.clientHeight;r.bottom=`${o-(s.y+this._overlayRect.height)}px`}else r.top=qe(s.y);return r}_getExactOverlayX(e,t,i){let r={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i));let o;if(this._isRtl()?o=e.overlayX==="end"?"left":"right":o=e.overlayX==="end"?"right":"left",o==="right"){let c=this._document.documentElement.clientWidth;r.right=`${c-(s.x+this._overlayRect.width)}px`}else r.left=qe(s.x);return r}_getScrollVisibility(){let e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:bb(e,i),isOriginOutsideView:Rp(e,i),isOverlayClipped:bb(t,i),isOverlayOutsideView:Rp(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return t==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&ss(e).forEach(t=>{t!==""&&this._appliedPanelClasses.indexOf(t)===-1&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof ye)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}};function Zi(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function Cb(n){if(typeof n!="number"&&n!=null){let[e,t]=n.split(SR);return!t||t==="px"?parseFloat(e):null}return n||null}function Sb(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}function TR(n,e){return n===e?!0:n.isOriginClipped===e.isOriginClipped&&n.isOriginOutsideView===e.isOriginOutsideView&&n.isOverlayClipped===e.isOverlayClipped&&n.isOverlayOutsideView===e.isOverlayOutsideView}var Tb="cdk-global-overlay-wrapper",Mp=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){let t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(Tb),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:o,maxHeight:c}=i,l=(r==="100%"||r==="100vw")&&(!o||o==="100%"||o==="100vw"),d=(s==="100%"||s==="100vh")&&(!c||c==="100%"||c==="100vh"),g=this._xPosition,v=this._xOffset,E=this._overlayRef.getConfig().direction==="rtl",D="",M="",j="";l?j="flex-start":g==="center"?(j="center",E?M=v:D=v):E?g==="left"||g==="end"?(j="flex-end",D=v):(g==="right"||g==="start")&&(j="flex-start",M=v):g==="left"||g==="start"?(j="flex-start",D=v):(g==="right"||g==="end")&&(j="flex-end",M=v),e.position=this._cssPosition,e.marginLeft=l?"0":D,e.marginTop=d?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":M,t.justifyContent=j,t.alignItems=d?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(Tb),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},AR=(()=>{class n{constructor(t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new Mp}flexibleConnectedTo(t){return new Op(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(i){return new(i||n)(O(da),O(de),O(Ge),O(fs))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),xR=0,rn=(()=>{class n{constructor(t,i,r,s,o,c,l,d,g,v,E,D){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=c,this._ngZone=l,this._document=d,this._directionality=g,this._location=v,this._outsideClickDispatcher=E,this._animationsModuleType=D}create(t){let i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),o=new pa(t);return o.direction=o.direction||this._directionality.value,new Bn(s,i,r,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(lr))}position(){return this._positionBuilder}_createPaneElement(t){let i=this._document.createElement("div");return i.id=`cdk-overlay-${xR++}`,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){let t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Hs)),new eu(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(i){return new(i||n)(O(ER),O(fs),O(Wa),O(AR),O(IR),O(je),O(ce),O(de),O(Un),O(Yn),O(CR),O(Qn,8))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var DR=new Z("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let n=W(rn);return()=>n.scrollStrategies.reposition()}});function RR(n){return()=>n.scrollStrategies.reposition()}var kR={provide:DR,deps:[rn],useFactory:RR},iu=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ie({type:n})}static{this.\u0275inj=Ee({providers:[rn,kR],imports:[mi,Ji,ha,ha]})}}return n})();var PR=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Db=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ie({type:n})}static{this.\u0275inj=Ee({providers:[PR]})}}return n})();var Rb=new Set,er,OR=(()=>{class n{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):NR}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&MR(t,this._nonce),this._matchMedia(t)}static{this.\u0275fac=function(i){return new(i||n)(O(Ge),O(Bs,8))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function MR(n,e){if(!Rb.has(n))try{er||(er=document.createElement("style"),e&&er.setAttribute("nonce",e),er.setAttribute("type","text/css"),document.head.appendChild(er)),er.sheet&&(er.sheet.insertRule(`@media ${n} {body{ }}`,0),Rb.add(n))}catch(t){console.error(t)}}function NR(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var Pb=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new he}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return kb(ss(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let r=kb(ss(t)).map(o=>this._registerQuery(o).observable),s=Ls(r);return s=za(s.pipe(Dt(1)),s.pipe(qa(1),Zu(0))),s.pipe(ge(o=>{let c={matches:!1,breakpoints:{}};return o.forEach(({matches:l,query:d})=>{c.matches=c.matches||l,c.breakpoints[d]=l}),c}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);let i=this._mediaMatcher.matchMedia(t),s={observable:new Gn(o=>{let c=l=>this._zone.run(()=>o.next(l));return i.addListener(c),()=>{i.removeListener(c)}}).pipe(Cn(i),ge(({matches:o})=>({query:t,matches:o})),bt(this._destroySubject)),mql:i};return this._queries.set(t,s),s}static{this.\u0275fac=function(i){return new(i||n)(O(OR),O(ce))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function kb(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}var ga=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return FR(t)&&getComputedStyle(t).visibility==="visible"}isTabbable(t){if(!this._platform.isBrowser)return!1;let i=VR(qR(t));if(i&&(Ob(i)===-1||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),s=Ob(t);return t.hasAttribute("contenteditable")?s!==-1:r==="iframe"||r==="object"||this._platform.WEBKIT&&this._platform.IOS&&!$R(t)?!1:r==="audio"?t.hasAttribute("controls")?s!==-1:!1:r==="video"?s===-1?!1:s!==null?!0:this._platform.FIREFOX||t.hasAttribute("controls"):t.tabIndex>=0}isFocusable(t,i){return HR(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}static{this.\u0275fac=function(i){return new(i||n)(O(Ge))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function VR(n){try{return n.frameElement}catch{return null}}function FR(n){return!!(n.offsetWidth||n.offsetHeight||typeof n.getClientRects=="function"&&n.getClientRects().length)}function LR(n){let e=n.nodeName.toLowerCase();return e==="input"||e==="select"||e==="button"||e==="textarea"}function jR(n){return BR(n)&&n.type=="hidden"}function UR(n){return zR(n)&&n.hasAttribute("href")}function BR(n){return n.nodeName.toLowerCase()=="input"}function zR(n){return n.nodeName.toLowerCase()=="a"}function Vb(n){if(!n.hasAttribute("tabindex")||n.tabIndex===void 0)return!1;let e=n.getAttribute("tabindex");return!!(e&&!isNaN(parseInt(e,10)))}function Ob(n){if(!Vb(n))return null;let e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function $R(n){let e=n.nodeName.toLowerCase(),t=e==="input"&&n.type;return t==="text"||t==="password"||e==="select"||e==="textarea"}function HR(n){return jR(n)?!1:LR(n)||UR(n)||n.hasAttribute("contenteditable")||Vb(n)}function qR(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}var Vp=class{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,i,r,s=!1,o){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._injector=o,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){let e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){let t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return e=="start"?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){let t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){let i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){let t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){let t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children;for(let i=0;i<t.length;i++){let r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children;for(let i=t.length-1;i>=0;i--){let r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){let e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._injector?xn(e,{injector:this._injector}):setTimeout(e)}},ou=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._injector=W(je),this._document=r}create(t,i=!1){return new Vp(t,this._checker,this._ngZone,this._document,i,this._injector)}static{this.\u0275fac=function(i){return new(i||n)(O(ga),O(ce),O(de))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Fp(n){return n.buttons===0||n.detail===0}function Lp(n){let e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var GR=new Z("cdk-input-modality-detector-options"),WR={ignoreKeys:[18,17,224,91,16]},Fb=650,ms=os({passive:!0,capture:!0}),KR=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,s){this._platform=t,this._mostRecentTarget=null,this._modality=new ut(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(c=>c===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=nn(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<Fb||(this._modality.next(Fp(o)?"keyboard":"mouse"),this._mostRecentTarget=nn(o))},this._onTouchstart=o=>{if(Lp(o)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=nn(o)},this._options=L(L({},WR),s),this.modalityDetected=this._modality.pipe(qa(1)),this.modalityChanged=this.modalityDetected.pipe(td()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,ms),r.addEventListener("mousedown",this._onMousedown,ms),r.addEventListener("touchstart",this._onTouchstart,ms)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ms),document.removeEventListener("mousedown",this._onMousedown,ms),document.removeEventListener("touchstart",this._onTouchstart,ms))}static{this.\u0275fac=function(i){return new(i||n)(O(Ge),O(ce),O(de),O(GR,8))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var su=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(su||{}),QR=new Z("cdk-focus-monitor-default-options"),ru=os({passive:!0,capture:!0}),au=(()=>{class n{constructor(t,i,r,s,o){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new he,this._rootNodeFocusAndBlurListener=c=>{let l=nn(c);for(let d=l;d;d=d.parentElement)c.type==="focus"?this._onFocus(c,d):this._onBlur(c,d)},this._document=s,this._detectionMode=o?.detectionMode||su.IMMEDIATE}monitor(t,i=!1){let r=jn(t);if(!this._platform.isBrowser||r.nodeType!==1)return J();let s=gb(r)||this._getDocument(),o=this._elementInfo.get(r);if(o)return i&&(o.checkChildren=!0),o.subject;let c={checkChildren:i,subject:new he,rootNode:s};return this._elementInfo.set(r,c),this._registerGlobalListeners(c),c.subject}stopMonitoring(t){let i=jn(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){let s=jn(t),o=this._getDocument().activeElement;s===o?this._getClosestElementsInfo(s).forEach(([c,l])=>this._originChanged(c,i,l)):(this._setOrigin(i),typeof s.focus=="function"&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===su.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused",i==="touch"),t.classList.toggle("cdk-keyboard-focused",i==="keyboard"),t.classList.toggle("cdk-mouse-focused",i==="mouse"),t.classList.toggle("cdk-program-focused",i==="program")}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=t,this._originFromTouchInteraction=t==="touch"&&i,this._detectionMode===su.IMMEDIATE){clearTimeout(this._originTimeoutId);let r=this._originFromTouchInteraction?Fb:1;this._originTimeoutId=setTimeout(()=>this._origin=null,r)}})}_onFocus(t,i){let r=this._elementInfo.get(i),s=nn(t);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(t,i){let r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;let i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,ru),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,ru)}),this._rootNodeFocusListenerCount.set(i,r+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(bt(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){let i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){let r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ru),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ru),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){let i=[];return this._elementInfo.forEach((r,s)=>{(s===t||r.checkChildren&&s.contains(t))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(t){let{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if(r!=="mouse"||!i||i===t||t.nodeName!=="INPUT"&&t.nodeName!=="TEXTAREA"||t.disabled)return!1;let s=t.labels;if(s){for(let o=0;o<s.length;o++)if(s[o].contains(i))return!0}return!1}static{this.\u0275fac=function(i){return new(i||n)(O(ce),O(Ge),O(KR),O(de,8),O(QR,8))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var tr=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(tr||{}),Mb="cdk-high-contrast-black-on-white",Nb="cdk-high-contrast-white-on-black",Np="cdk-high-contrast-active",jp=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=W(Pb).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return tr.NONE;let t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);let i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return tr.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return tr.BLACK_ON_WHITE}return tr.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let t=this._document.body.classList;t.remove(Np,Mb,Nb),this._hasCheckedHighContrastMode=!0;let i=this.getHighContrastMode();i===tr.BLACK_ON_WHITE?t.add(Np,Mb):i===tr.WHITE_ON_BLACK&&t.add(Np,Nb)}}static{this.\u0275fac=function(i){return new(i||n)(O(Ge),O(de))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Lb=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}static{this.\u0275fac=function(i){return new(i||n)(O(jp))}}static{this.\u0275mod=Ie({type:n})}static{this.\u0275inj=Ee({imports:[Db]})}}return n})();function YR(n,e){}var nr=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}};var $p=(()=>{class n extends hs{constructor(t,i,r,s,o,c,l,d){super(),this._elementRef=t,this._focusTrapFactory=i,this._config=s,this._interactivityChecker=o,this._ngZone=c,this._overlayRef=l,this._focusMonitor=d,this._platform=W(Ge),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=W(ln),this._injector=W(je),this._isDestroyed=!1,this.attachDomPortal=g=>{this._portalOutlet.hasAttached();let v=this._portalOutlet.attachDomPortal(g);return this._contentAttached(),v},this._document=r,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(t){this._ariaLabelledByQueue.push(t),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(t){let i=this._ariaLabelledByQueue.indexOf(t);i>-1&&(this._ariaLabelledByQueue.splice(i,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),i}attachTemplatePortal(t){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_trapFocus(){this._isDestroyed||xn(()=>{let t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}},{injector:this._injector})}_restoreFocus(){let t=this._config.restoreFocus,i=null;if(typeof t=="string"?i=this._document.querySelector(t):typeof t=="boolean"?i=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(i=t),this._config.restoreFocus&&i&&typeof i.focus=="function"){let r=aa(),s=this._elementRef.nativeElement;(!r||r===this._document.body||r===s||s.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let t=this._elementRef.nativeElement,i=aa();return t===i||t.contains(i)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=aa()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static{this.\u0275fac=function(i){return new(i||n)(k(ye),k(ou),k(de,8),k(nr),k(ga),k(ce),k(Bn),k(au))}}static{this.\u0275cmp=Se({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(i,r){if(i&1&&$s(ma,7),i&2){let s;Ct(s=St())&&(r._portalOutlet=s.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,r){i&2&&Dn("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},standalone:!0,features:[le,Ae],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){i&1&&ne(0,YR,0,0,"ng-template",0)},dependencies:[ma],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}}return n})(),_a=class{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new he,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(i=>{i.keyCode===27&&!this.disableClose&&!tu(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{t.closeOnOverlayDetachments!==!1&&this.close()})}close(e,t){if(this.containerInstance){let i=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(e),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}},XR=new Z("DialogScrollStrategy",{providedIn:"root",factory:()=>{let n=W(rn);return()=>n.scrollStrategies.block()}}),JR=new Z("DialogData"),ZR=new Z("DefaultDialogConfig");var ek=0,Hp=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,i,r,s,o,c){this._overlay=t,this._injector=i,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=o,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new he,this._afterOpenedAtThisLevel=new he,this._ariaHiddenElements=new Map,this.afterAllClosed=bi(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Cn(void 0))),this._scrollStrategy=c}open(t,i){let r=this._defaultOptions||new nr;i=L(L({},r),i),i.id=i.id||`cdk-dialog-${ek++}`,i.id&&this.getDialogById(i.id);let s=this._getOverlayConfig(i),o=this._overlay.create(s),c=new _a(o,i),l=this._attachContainer(o,c,i);return c.containerInstance=l,this._attachDialogContent(t,c,l,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(c),c.closed.subscribe(()=>this._removeOpenDialog(c,!0)),this.afterOpened.next(c),c}closeAll(){Bp(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){Bp(this._openDialogsAtThisLevel,t=>{t.config.closeOnDestroy===!1&&this._removeOpenDialog(t,!1)}),Bp(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){let i=new pa({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}_attachContainer(t,i,r){let s=r.injector||r.viewContainerRef?.injector,o=[{provide:nr,useValue:r},{provide:_a,useValue:i},{provide:Bn,useValue:t}],c;r.container?typeof r.container=="function"?c=r.container:(c=r.container.type,o.push(...r.container.providers(r))):c=$p;let l=new us(c,r.viewContainerRef,je.create({parent:s||this._injector,providers:o}),r.componentFactoryResolver);return t.attach(l).instance}_attachDialogContent(t,i,r,s){if(t instanceof Et){let o=this._createInjector(s,i,r,void 0),c={$implicit:s.data,dialogRef:i};s.templateContext&&(c=L(L({},c),typeof s.templateContext=="function"?s.templateContext():s.templateContext)),r.attachTemplatePortal(new ds(t,null,c,o))}else{let o=this._createInjector(s,i,r,this._injector),c=r.attachComponentPortal(new us(t,s.viewContainerRef,o,s.componentFactoryResolver));i.componentRef=c,i.componentInstance=c.instance}}_createInjector(t,i,r,s){let o=t.injector||t.viewContainerRef?.injector,c=[{provide:JR,useValue:t.data},{provide:_a,useValue:i}];return t.providers&&(typeof t.providers=="function"?c.push(...t.providers(i,t,r)):c.push(...t.providers)),t.direction&&(!o||!o.get(Un,null,{optional:!0}))&&c.push({provide:Un,useValue:{value:t.direction,change:J()}}),je.create({parent:o||s,providers:c})}_removeOpenDialog(t,i){let r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,o)=>{s?o.setAttribute("aria-hidden",s):o.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let t=this._overlayContainer.getContainerElement();if(t.parentElement){let i=t.parentElement.children;for(let r=i.length-1;r>-1;r--){let s=i[r];s!==t&&s.nodeName!=="SCRIPT"&&s.nodeName!=="STYLE"&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}static{this.\u0275fac=function(i){return new(i||n)(O(rn),O(je),O(ZR,8),O(n,12),O(fs),O(XR))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Bp(n,e){let t=n.length;for(;t--;)e(n[t])}var jb=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ie({type:n})}static{this.\u0275inj=Ee({providers:[Hp],imports:[iu,Ji,Lb,Ji]})}}return n})();function tk(){return!0}var nk=new Z("mat-sanity-checks",{providedIn:"root",factory:tk}),ps=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return ca()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[t]}static{this.\u0275fac=function(i){return new(i||n)(O(jp),O(nk,8),O(de))}}static{this.\u0275mod=Ie({type:n})}static{this.\u0275inj=Ee({imports:[mi,mi]})}}return n})();var Kt=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(Kt||{}),qp=class{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=Kt.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},Ub=os({passive:!0,capture:!0}),Gp=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let t=nn(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(s=>s.handleEvent(e))})}}addHandler(e,t,i,r){let s=this._events.get(t);if(s){let o=s.get(i);o?o.add(r):s.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,Ub)})}removeHandler(e,t,i){let r=this._events.get(e);if(!r)return;let s=r.get(t);s&&(s.delete(i),s.size===0&&r.delete(t),r.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,Ub)))}},Bb={enterDuration:225,exitDuration:150},ik=800,zb=os({passive:!0,capture:!0}),$b=["mousedown","touchstart"],Hb=["mouseup","mouseleave","touchend","touchcancel"],qb=class n{static{this._eventManager=new Gp}constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=jn(i))}fadeInRipple(e,t,i={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=L(L({},Bb),i.animation);i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);let o=i.radius||rk(e,t,r),c=e-r.left,l=t-r.top,d=s.enterDuration,g=document.createElement("div");g.classList.add("mat-ripple-element"),g.style.left=`${c-o}px`,g.style.top=`${l-o}px`,g.style.height=`${o*2}px`,g.style.width=`${o*2}px`,i.color!=null&&(g.style.backgroundColor=i.color),g.style.transitionDuration=`${d}ms`,this._containerElement.appendChild(g);let v=window.getComputedStyle(g),E=v.transitionProperty,D=v.transitionDuration,M=E==="none"||D==="0s"||D==="0s, 0s"||r.width===0&&r.height===0,j=new qp(this,g,i,M);g.style.transform="scale3d(1, 1, 1)",j.state=Kt.FADING_IN,i.persistent||(this._mostRecentTransientRipple=j);let F=null;return!M&&(d||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let Y=()=>{F&&(F.fallbackTimer=null),clearTimeout(oe),this._finishRippleTransition(j)},re=()=>this._destroyRipple(j),oe=setTimeout(re,d+100);g.addEventListener("transitionend",Y),g.addEventListener("transitioncancel",re),F={onTransitionEnd:Y,onTransitionCancel:re,fallbackTimer:oe}}),this._activeRipples.set(j,F),(M||!d)&&this._finishRippleTransition(j),j}fadeOutRipple(e){if(e.state===Kt.FADING_OUT||e.state===Kt.HIDDEN)return;let t=e.element,i=L(L({},Bb),e.config.animation);t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=Kt.FADING_OUT,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let t=jn(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,$b.forEach(i=>{n._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Hb.forEach(t=>{this._triggerElement.addEventListener(t,this,zb)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===Kt.FADING_IN?this._startFadeOutTransition(e):e.state===Kt.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=Kt.VISIBLE,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=Kt.HIDDEN,t!==null&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel),t.fallbackTimer!==null&&clearTimeout(t.fallbackTimer)),e.element.remove()}_onMousedown(e){let t=Fp(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+ik;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Lp(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let t=e.state===Kt.VISIBLE||e.config.terminateOnPointerUp&&e.state===Kt.FADING_IN;!e.config.persistent&&t&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&($b.forEach(t=>n._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&(Hb.forEach(t=>e.removeEventListener(t,this,zb)),this._pointerUpEventsRegistered=!1))}};function rk(n,e,t){let i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}function sk(n,e){}var va=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}},Wp="mdc-dialog--open",Gb="mdc-dialog--opening",Wb="mdc-dialog--closing",ok=150,ak=75,ck=(()=>{class n extends $p{constructor(t,i,r,s,o,c,l,d,g){super(t,i,r,s,o,c,l,g),this._animationMode=d,this._animationStateChanged=new ze,this._animationsEnabled=this._animationMode!=="NoopAnimations",this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?Qb(this._config.enterAnimationDuration)??ok:0,this._exitAnimationDuration=this._animationsEnabled?Qb(this._config.exitAnimationDuration)??ak:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(Kb,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Gb,Wp)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Wp),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(Wp),this._animationsEnabled?(this._hostElement.style.setProperty(Kb,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Wb)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(t){this._actionSectionCount+=t,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(Gb,Wb)}_waitForAnimationToComplete(t,i){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,t)}_requestAnimationFrame(t){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(t):t()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(t){let i=super.attachComponentPortal(t);return i.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),i}static{this.\u0275fac=function(i){return new(i||n)(k(ye),k(ou),k(de,8),k(va),k(ga),k(ce),k(Bn),k(Qn,8),k(au))}}static{this.\u0275cmp=Se({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(i,r){i&2&&(Qa("id",r._config.id),Dn("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),Ut("_mat-animation-noopable",!r._animationsEnabled)("mat-mdc-dialog-container-with-actions",r._actionSectionCount>0))},standalone:!0,features:[le,Ae],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,r){i&1&&(m(0,"div",0)(1,"div",1),ne(2,sk,0,0,"ng-template",2),f()())},dependencies:[ma],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12));border-radius:var(--mdc-dialog-container-shape, var(--mat-app-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-app-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-app-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-app-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-app-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-app-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-app-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-app-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-app-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-app-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-app-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-app-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-app-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.cdk-high-contrast-active .mat-mdc-dialog-actions{border-top-color:CanvasText}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2})}}return n})(),Kb="--mat-dialog-transition-duration";function Qb(n){return n==null?null:typeof n=="number"?n:n.endsWith("ms")?sa(n.substring(0,n.length-2)):n.endsWith("s")?sa(n.substring(0,n.length-1))*1e3:n==="0"?0:null}var cu=function(n){return n[n.OPEN=0]="OPEN",n[n.CLOSING=1]="CLOSING",n[n.CLOSED=2]="CLOSED",n}(cu||{}),ya=class{constructor(e,t,i){this._ref=e,this._containerInstance=i,this._afterOpened=new he,this._beforeClosed=new he,this._state=cu.OPEN,this.disableClose=t.disableClose,this.id=e.id,e.addPanelClass("mat-mdc-dialog-panel"),i._animationStateChanged.pipe(dt(r=>r.state==="opened"),Dt(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(dt(r=>r.state==="closed"),Dt(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),$a(this.backdropClick(),this.keydownEvents().pipe(dt(r=>r.keyCode===27&&!this.disableClose&&!tu(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),Yb(this,r.type==="keydown"?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(dt(t=>t.state==="closing"),Dt(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=cu.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=cu.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function Yb(n,e,t){return n._closeInteractionType=e,n.close(t)}var Kp=new Z("MatMdcDialogData"),lk=new Z("mat-mdc-dialog-default-options"),uk=new Z("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let n=W(rn);return()=>n.scrollStrategies.block()}});var dk=0,wa=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(t,i,r,s,o,c,l,d){this._overlay=t,this._defaultOptions=s,this._scrollStrategy=o,this._parentDialog=c,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new he,this._afterOpenedAtThisLevel=new he,this.dialogConfigClass=va,this.afterAllClosed=bi(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Cn(void 0))),this._dialog=i.get(Hp),this._dialogRefConstructor=ya,this._dialogContainerType=ck,this._dialogDataToken=Kp}open(t,i){let r;i=L(L({},this._defaultOptions||new va),i),i.id=i.id||`mat-mdc-dialog-${dk++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();let s=this._dialog.open(t,fe(L({},i),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:nr,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(o,c,l)=>(r=new this._dialogRefConstructor(o,i,l),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:c.data},{provide:this._dialogRefConstructor,useValue:r}])}));return r.componentRef=s.componentRef,r.componentInstance=s.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{let o=this.openDialogs.indexOf(r);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let i=t.length;for(;i--;)t[i].close()}static{this.\u0275fac=function(i){return new(i||n)(O(rn),O(je),O(Yn,8),O(lk,8),O(uk),O(n,12),O(fs),O(Qn,8))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),hk=0,Xb=(()=>{class n{constructor(t,i,r){this.dialogRef=t,this._elementRef=i,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=nE(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){let i=t._matDialogClose||t._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(t){Yb(this.dialogRef,t.screenX===0&&t.screenY===0?"keyboard":"mouse",this.dialogResult)}static{this.\u0275fac=function(i){return new(i||n)(k(ya,8),k(ye),k(wa))}}static{this.\u0275dir=Q({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(i,r){i&1&&V("click",function(o){return r._onButtonClick(o)}),i&2&&Dn("aria-label",r.ariaLabel||null)("type",r.type)},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],type:"type",dialogResult:[0,"mat-dialog-close","dialogResult"],_matDialogClose:[0,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],standalone:!0,features:[yt]})}}return n})(),Jb=(()=>{class n{constructor(t,i,r){this._dialogRef=t,this._elementRef=i,this._dialog=r}ngOnInit(){this._dialogRef||(this._dialogRef=nE(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static{this.\u0275fac=function(i){return new(i||n)(k(ya,8),k(ye),k(wa))}}static{this.\u0275dir=Q({type:n,standalone:!0})}}return n})(),Zb=(()=>{class n extends Jb{constructor(){super(...arguments),this.id=`mat-mdc-dialog-title-${hk++}`}_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Ve(n)))(r||n)}})()}static{this.\u0275dir=Q({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(i,r){i&2&&Qa("id",r.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],standalone:!0,features:[le]})}}return n})(),eE=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Q({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],standalone:!0,features:[T_([yb])]})}}return n})(),tE=(()=>{class n extends Jb{_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Ve(n)))(r||n)}})()}static{this.\u0275dir=Q({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(i,r){i&2&&Ut("mat-mdc-dialog-actions-align-start",r.align==="start")("mat-mdc-dialog-actions-align-center",r.align==="center")("mat-mdc-dialog-actions-align-end",r.align==="end")},inputs:{align:"align"},standalone:!0,features:[le]})}}return n})();function nE(n,e){let t=n.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-mdc-dialog-container");)t=t.parentElement;return t?e.find(i=>i.id===t.id):null}var lu=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ie({type:n})}static{this.\u0275inj=Ee({providers:[wa],imports:[jb,iu,Ji,ps,ps]})}}return n})();function fk(n,e){if(n&1&&(m(0,"div",16)(1,"span",17),p(2),f(),m(3,"div",18)(4,"span"),p(5),f(),m(6,"span",19),p(7),f()()()),n&2){let t=e.$implicit,i=H(3);P(2),Ze(t),P(2),R_(`px-2 py-1 rounded text-xs
                      `,i.client.preferences[t]?"bg-green-100 text-green-800":"bg-red-100 text-red-800",""),P(),He(" ",i.client.preferences[t]?"Oui":"Non"," "),P(2),He(" ",i.client.niveauPreferences[t]," ")}}function mk(n,e){if(n&1&&(m(0,"div",6)(1,"h3",7),p(2," Pr\xE9f\xE9rences "),f(),m(3,"div",14),ne(4,fk,8,6,"div",15),f()()),n&2){let t=H(2);P(4),z("ngForOf",t.objectKeys(t.client.preferences))}}function pk(n,e){if(n&1&&(m(0,"div",6)(1,"h3",7),p(2,"Contraintes"),f(),m(3,"p",20),p(4),f()()),n&2){let t=H(2);P(4),Ze(t.client.contraintes)}}function gk(n,e){if(n&1&&(m(0,"p",34)(1,"span",35),p(2,"visibility"),f(),m(3,"span"),p(4),f()()),n&2){let t=H(3).$implicit;P(4),He("Vue : ",t.details.vue,"")}}function _k(n,e){if(n&1&&(m(0,"p",34)(1,"span",35),p(2,"king_bed"),f(),m(3,"span"),p(4),f()()),n&2){let t=H(3).$implicit;P(4),He("Lit : ",t.details.lit,"")}}function vk(n,e){if(n&1&&(m(0,"p",34)(1,"span",35),p(2,"stairs"),f(),m(3,"span"),p(4),f()()),n&2){let t=H(3).$implicit;P(4),He("\xC9tage : ",t.details.etage,"")}}function yk(n,e){if(n&1&&(m(0,"div",31)(1,"h5",33),p(2,"Configuration"),f(),ne(3,gk,5,1,"p",32)(4,_k,5,1,"p",32)(5,vk,5,1,"p",32),f()),n&2){let t=H(2).$implicit;P(3),z("ngIf",t.details.vue),P(),z("ngIf",t.details.lit),P(),z("ngIf",t.details.etage!==void 0)}}function wk(n,e){if(n&1&&(m(0,"p",34)(1,"span",35),p(2,"free_breakfast"),f(),m(3,"span"),p(4),f()()),n&2){let t=H(3).$implicit;P(4),He("Petit D\xE9jeuner : ",t.details.petitDejeuner,"")}}function bk(n,e){if(n&1&&(m(0,"p",34)(1,"span",35),p(2,"room_service"),f(),m(3,"span"),p(4),f()()),n&2){let t=H(3).$implicit;P(4),He("Service Chambre : ",t.details.serviceChambre,"")}}function Ek(n,e){if(n&1&&(m(0,"div",31)(1,"h5",33),p(2,"Services"),f(),ne(3,wk,5,1,"p",32)(4,bk,5,1,"p",32),f()),n&2){let t=H(2).$implicit;P(3),z("ngIf",t.details.petitDejeuner),P(),z("ngIf",t.details.serviceChambre)}}function Ik(n,e){n&1&&(m(0,"li",34)(1,"span",35),p(2,"spa"),f(),m(3,"span"),p(4,"Massage"),f()())}function Ck(n,e){n&1&&(m(0,"li",34)(1,"span",35),p(2,"hot_tub"),f(),m(3,"span"),p(4,"Jacuzzi"),f()())}function Sk(n,e){n&1&&(m(0,"li",34)(1,"span",35),p(2,"thermostat"),f(),m(3,"span"),p(4,"Sauna"),f()())}function Tk(n,e){n&1&&(m(0,"li",34)(1,"span",35),p(2,"waves"),f(),m(3,"span"),p(4,"Hammam"),f()())}function Ak(n,e){if(n&1&&(m(0,"div",31)(1,"h5",33),p(2,"Options Spa"),f(),m(3,"ul",36),ne(4,Ik,5,0,"li",32)(5,Ck,5,0,"li",32)(6,Sk,5,0,"li",32)(7,Tk,5,0,"li",32),f()()),n&2){let t=H(2).$implicit;P(4),z("ngIf",t.details.optionsSpa.massage),P(),z("ngIf",t.details.optionsSpa.jacuzzi),P(),z("ngIf",t.details.optionsSpa.sauna),P(),z("ngIf",t.details.optionsSpa.hammam)}}function xk(n,e){if(n&1&&(m(0,"div",34)(1,"span",35),p(2,"fitness_center"),f(),m(3,"span"),p(4),f()()),n&2){let t=H(2).$implicit;P(4),He("Coach disponible : ",t.details.coachDisponible?"Oui":"Non","")}}function Dk(n,e){if(n&1&&(m(0,"div",34)(1,"span",35),p(2,"wifi"),f(),m(3,"span"),p(4),f()()),n&2){let t=H(2).$implicit;P(4),He("D\xE9bit Wifi : ",t.details.debit,"")}}function Rk(n,e){if(n&1&&(m(0,"span",38),p(1),f()),n&2){let t=H(3).$implicit;P(),He(" (",t.details.temperature,"\xB0C) ")}}function kk(n,e){if(n&1&&(m(0,"div",34)(1,"span",35),p(2,"pool"),f(),m(3,"span"),p(4),f(),ne(5,Rk,2,1,"span",37),f()),n&2){let t=H(2).$implicit;P(4),He("Piscine : ",t.details.piscineType,""),P(),z("ngIf",t.details.temperature)}}function Pk(n,e){if(n&1&&(m(0,"p",34)(1,"span",35),p(2,"directions_car"),f(),m(3,"span"),p(4),f()()),n&2){let t=H(3).$implicit;P(4),He("V\xE9hicule : ",t.details.vehicule,"")}}function Ok(n,e){if(n&1&&(m(0,"p",34)(1,"span",35),p(2,"place"),f(),m(3,"span"),p(4),f()()),n&2){let t=H(3).$implicit;P(4),He("Destination : ",t.details.destination,"")}}function Mk(n,e){if(n&1&&(m(0,"div",31)(1,"h5",33),p(2,"Transport"),f(),ne(3,Pk,5,1,"p",32)(4,Ok,5,1,"p",32),f()),n&2){let t=H(2).$implicit;P(3),z("ngIf",t.details.vehicule),P(),z("ngIf",t.details.destination)}}function Nk(n,e){if(n&1&&(m(0,"p",34)(1,"span",35),p(2,"restaurant"),f(),m(3,"span"),p(4),f()()),n&2){let t=H(3).$implicit;P(4),He("Type : ",t.details.typeRestauration,"")}}function Vk(n,e){if(n&1&&(m(0,"p",34)(1,"span",35),p(2,"schedule"),f(),m(3,"span"),p(4),f()()),n&2){let t=H(3).$implicit;P(4),He("Horaires : ",t.details.horaires,"")}}function Fk(n,e){if(n&1&&(m(0,"div",31)(1,"h5",33),p(2,"Restauration"),f(),ne(3,Nk,5,1,"p",32)(4,Vk,5,1,"p",32),f()),n&2){let t=H(2).$implicit;P(3),z("ngIf",t.details.typeRestauration),P(),z("ngIf",t.details.horaires)}}function Lk(n,e){if(n&1&&(m(0,"div",29),ne(1,yk,6,3,"div",30)(2,Ek,5,2,"div",30)(3,Ak,8,4,"div",30),m(4,"div",31),ne(5,xk,5,1,"div",32)(6,Dk,5,1,"div",32)(7,kk,6,2,"div",32),f(),ne(8,Mk,5,2,"div",30)(9,Fk,5,2,"div",30),f()),n&2){let t=H().$implicit;P(),z("ngIf",t.details.vue||t.details.lit||t.details.etage!==void 0),P(),z("ngIf",t.details.petitDejeuner||t.details.serviceChambre),P(),z("ngIf",t.details.optionsSpa),P(2),z("ngIf",t.details.coachDisponible!==void 0),P(),z("ngIf",t.details.debit),P(),z("ngIf",t.details.piscineType),P(),z("ngIf",t.details.vehicule||t.details.destination),P(),z("ngIf",t.details.typeRestauration||t.details.horaires)}}function jk(n,e){if(n&1&&(m(0,"div",25)(1,"div",26)(2,"h4",27),p(3),ld(4,"titlecase"),f()(),ne(5,Lk,10,8,"div",28),f()),n&2){let t=e.$implicit;P(3),Ze(ud(4,2,t.type)),P(2),z("ngIf",t.details)}}function Uk(n,e){if(n&1&&(m(0,"div",21)(1,"h3",22),p(2,"Services Utilis\xE9s"),f(),m(3,"div",23),ne(4,jk,6,4,"div",24),f()()),n&2){let t=H(2);P(4),z("ngForOf",t.client.services)}}function Bk(n,e){if(n&1&&(m(0,"div",41)(1,"p",42),p(2),f()()),n&2){let t=e.$implicit;P(2),Ze(t.description)}}function zk(n,e){if(n&1&&(m(0,"div",6)(1,"h3",22),p(2,"Recommandations"),f(),m(3,"div",39),ne(4,Bk,3,1,"div",40),f()()),n&2){let t=H(2);P(4),z("ngForOf",t.client.recommendations)}}function $k(n,e){if(n&1&&(m(0,"mat-dialog-content",5)(1,"div",6)(2,"h3",7),p(3," Informations Personnelles "),f(),m(4,"div",8)(5,"div",9)(6,"span",10),p(7,"Nom"),f(),m(8,"span",11),p(9),f()(),m(10,"div",9)(11,"span",10),p(12,"Pr\xE9nom"),f(),m(13,"span",11),p(14),f()(),m(15,"div",9)(16,"span",10),p(17,"Statut"),f(),m(18,"span",11),p(19),ld(20,"titlecase"),f()()()(),ne(21,mk,5,1,"div",12)(22,pk,5,1,"div",12)(23,Uk,5,1,"div",13)(24,zk,5,1,"div",12),f()),n&2){let t=H();P(9),Ze(t.client.nom),P(5),Ze(t.client.prenom),P(5),Ze(ud(20,7,t.client.statut)),P(2),z("ngIf",t.client.preferences&&t.client.niveauPreferences),P(),z("ngIf",t.client.contraintes),P(),z("ngIf",t.client.services==null?null:t.client.services.length),P(),z("ngIf",t.client.recommendations==null?null:t.client.recommendations.length)}}var uu=class n{constructor(e){this.client=e;window.scrollTo({top:0,behavior:"smooth"})}objectKeys=Object.keys;static \u0275fac=function(t){return new(t||n)(k(Kp))};static \u0275cmp=Se({type:n,selectors:[["app-client-details"]],standalone:!0,features:[Ae],decls:7,vars:1,consts:[[1,"w-full","max-w-7xl"],["mat-dialog-title","",1,"text-2xl","font-bold","text-[#d6bfa9]","bg-gray-100","px-8","py-5","rounded-t-lg"],["class","px-8 py-6 max-h-[80vh] overflow-y-auto",4,"ngIf"],["align","end",1,"px-8","py-5","bg-gray-50","rounded-b-lg"],["mat-button","","mat-dialog-close","",1,"text-gray-600","hover:bg-gray-200","px-6","py-3","rounded","text-lg"],[1,"px-8","py-6","max-h-[80vh]","overflow-y-auto"],[1,"bg-gray-50","p-6","rounded-lg","shadow-sm","mb-8"],[1,"text-xl","font-semibold","text-gray-800","mb-4","pb-3","border-b","border-gray-200"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4"],[1,"flex","flex-col"],[1,"text-gray-500","text-sm"],[1,"text-gray-900","text-lg","font-medium"],["class","bg-gray-50 p-6 rounded-lg shadow-sm mb-8",4,"ngIf"],["class","bg-gray-50 p-6 rounded-lg shadow-sm",4,"ngIf"],[1,"grid","grid-cols-1","md:grid-cols-1","lg:grid-cols-2","gap-4"],["class","flex items-center justify-between p-3 bg-white rounded",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between","p-3","bg-white","rounded"],[1,"font-medium","text-gray-700","capitalize"],[1,"flex","items-center","space-x-2"],[1,"px-2","py-1","bg-[#d6bfa9]","bg-opacity-20","text-[#d6bfa9]","text-xs","rounded-full"],[1,"text-gray-700","text-lg","leading-relaxed"],[1,"bg-gray-50","p-6","rounded-lg","shadow-sm"],[1,"text-2xl","font-semibold","text-gray-800","mb-6"],[1,"space-y-6"],["class","border border-gray-200 rounded-lg overflow-hidden",4,"ngFor","ngForOf"],[1,"border","border-gray-200","rounded-lg","overflow-hidden"],[1,"bg-[#d6bfa9]","bg-opacity-10","px-6","py-4","border-b","border-gray-200"],[1,"font-bold","text-[#d6bfa9]","text-xl"],["class","p-6 grid grid-cols-1 lg:grid-cols-1 gap-6",4,"ngIf"],[1,"p-6","grid","grid-cols-1","lg:grid-cols-1","gap-6"],["class","space-y-3",4,"ngIf"],[1,"space-y-3"],["class","flex items-center text-lg",4,"ngIf"],[1,"font-medium","text-gray-700","text-lg","mb-3"],[1,"flex","items-center","text-lg"],[1,"material-icons","text-gray-500","mr-3"],[1,"space-y-2"],["class","ml-3 text-gray-500",4,"ngIf"],[1,"ml-3","text-gray-500"],[1,"space-y-4"],["class","border border-gray-200 rounded-lg p-4",4,"ngFor","ngForOf"],[1,"border","border-gray-200","rounded-lg","p-4"],[1,"text-gray-700","text-lg"]],template:function(t,i){t&1&&(m(0,"div",0)(1,"h2",1),p(2," D\xE9tails du Client "),f(),ne(3,$k,25,9,"mat-dialog-content",2),m(4,"mat-dialog-actions",3)(5,"button",4),p(6," Fermer "),f()()()),t&2&&(P(3),z("ngIf",i.client))},dependencies:[kt,Xn,Bt,q_,lu,Xb,Zb,tE,eE],encapsulation:2})};var qk=[[["caption"]],[["colgroup"],["col"]],"*"],Gk=["caption","colgroup, col","*"];function Wk(n,e){n&1&&an(0,2)}function Kk(n,e){n&1&&(m(0,"thead",0),It(1,1),f(),m(2,"tbody",0),It(3,2)(4,3),f(),m(5,"tfoot",0),It(6,4),f())}function Qk(n,e){n&1&&It(0,1)(1,2)(2,3)(3,4)}var sn=new Z("CDK_TABLE");var gu=(()=>{class n{constructor(t){this.template=t}static{this.\u0275fac=function(i){return new(i||n)(k(Et))}}static{this.\u0275dir=Q({type:n,selectors:[["","cdkCellDef",""]],standalone:!0})}}return n})(),_u=(()=>{class n{constructor(t){this.template=t}static{this.\u0275fac=function(i){return new(i||n)(k(Et))}}static{this.\u0275dir=Q({type:n,selectors:[["","cdkHeaderCellDef",""]],standalone:!0})}}return n})(),oE=(()=>{class n{constructor(t){this.template=t}static{this.\u0275fac=function(i){return new(i||n)(k(Et))}}static{this.\u0275dir=Q({type:n,selectors:[["","cdkFooterCellDef",""]],standalone:!0})}}return n})(),gs=(()=>{class n{get name(){return this._name}set name(t){this._setNameInput(t)}get sticky(){return this._sticky}set sticky(t){t!==this._sticky&&(this._sticky=t,this._hasStickyChanged=!0)}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){t!==this._stickyEnd&&(this._stickyEnd=t,this._hasStickyChanged=!0)}constructor(t){this._table=t,this._hasStickyChanged=!1,this._sticky=!1,this._stickyEnd=!1}hasStickyChanged(){let t=this._hasStickyChanged;return this.resetStickyChanged(),t}resetStickyChanged(){this._hasStickyChanged=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static{this.\u0275fac=function(i){return new(i||n)(k(sn,8))}}static{this.\u0275dir=Q({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(i,r,s){if(i&1&&(cn(s,gu,5),cn(s,_u,5),cn(s,oE,5)),i&2){let o;Ct(o=St())&&(r.cell=o.first),Ct(o=St())&&(r.headerCell=o.first),Ct(o=St())&&(r.footerCell=o.first)}},inputs:{name:[0,"cdkColumnDef","name"],sticky:[2,"sticky","sticky",Tt],stickyEnd:[2,"stickyEnd","stickyEnd",Tt]},standalone:!0,features:[Pe([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),Rt]})}}return n})(),hu=class{constructor(e,t){t.nativeElement.classList.add(...e._columnCssClassName)}},aE=(()=>{class n extends hu{constructor(t,i){super(t,i)}static{this.\u0275fac=function(i){return new(i||n)(k(gs),k(ye))}}static{this.\u0275dir=Q({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],standalone:!0,features:[le]})}}return n})();var cE=(()=>{class n extends hu{constructor(t,i){super(t,i);let r=t._table?._getCellRole();r&&i.nativeElement.setAttribute("role",r)}static{this.\u0275fac=function(i){return new(i||n)(k(gs),k(ye))}}static{this.\u0275dir=Q({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],standalone:!0,features:[le]})}}return n})(),fu=class{constructor(){this.tasks=[],this.endTasks=[]}},mu=new Z("_COALESCED_STYLE_SCHEDULER"),Yp=(()=>{class n{constructor(t){this._currentSchedule=null,this._ngZone=W(ce)}schedule(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}scheduleEnd(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new fu,this._ngZone.runOutsideAngular(()=>queueMicrotask(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){let t=this._currentSchedule;this._currentSchedule=new fu;for(let i of t.tasks)i();for(let i of t.endTasks)i()}this._currentSchedule=null})))}static{this.\u0275fac=function(i){return new(i||n)(O(ce))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac})}}return n})();var Xp=(()=>{class n{constructor(t,i){this.template=t,this._differs=i}ngOnChanges(t){if(!this._columnsDiffer){let i=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof ba?t.headerCell.template:this instanceof Jp?t.footerCell.template:t.cell.template}static{this.\u0275fac=function(i){return new(i||n)(k(Et),k(Ii))}}static{this.\u0275dir=Q({type:n,features:[yt]})}}return n})(),ba=(()=>{class n extends Xp{get sticky(){return this._sticky}set sticky(t){t!==this._sticky&&(this._sticky=t,this._hasStickyChanged=!0)}constructor(t,i,r){super(t,i),this._table=r,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(t){super.ngOnChanges(t)}hasStickyChanged(){let t=this._hasStickyChanged;return this.resetStickyChanged(),t}resetStickyChanged(){this._hasStickyChanged=!1}static{this.\u0275fac=function(i){return new(i||n)(k(Et),k(Ii),k(sn,8))}}static{this.\u0275dir=Q({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:[0,"cdkHeaderRowDef","columns"],sticky:[2,"cdkHeaderRowDefSticky","sticky",Tt]},standalone:!0,features:[Rt,le,yt]})}}return n})(),Jp=(()=>{class n extends Xp{get sticky(){return this._sticky}set sticky(t){t!==this._sticky&&(this._sticky=t,this._hasStickyChanged=!0)}constructor(t,i,r){super(t,i),this._table=r,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(t){super.ngOnChanges(t)}hasStickyChanged(){let t=this._hasStickyChanged;return this.resetStickyChanged(),t}resetStickyChanged(){this._hasStickyChanged=!1}static{this.\u0275fac=function(i){return new(i||n)(k(Et),k(Ii),k(sn,8))}}static{this.\u0275dir=Q({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:[0,"cdkFooterRowDef","columns"],sticky:[2,"cdkFooterRowDefSticky","sticky",Tt]},standalone:!0,features:[Rt,le,yt]})}}return n})(),vu=(()=>{class n extends Xp{constructor(t,i,r){super(t,i),this._table=r}static{this.\u0275fac=function(i){return new(i||n)(k(Et),k(Ii),k(sn,8))}}static{this.\u0275dir=Q({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:[0,"cdkRowDefColumns","columns"],when:[0,"cdkRowDefWhen","when"]},standalone:!0,features:[le]})}}return n})(),ir=(()=>{class n{static{this.mostRecentCellOutlet=null}constructor(t){this._viewContainer=t,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}static{this.\u0275fac=function(i){return new(i||n)(k(jt))}}static{this.\u0275dir=Q({type:n,selectors:[["","cdkCellOutlet",""]],standalone:!0})}}return n})(),Zp=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Se({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],standalone:!0,features:[Ae],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,r){i&1&&It(0,0)},dependencies:[ir],encapsulation:2})}}return n})();var eg=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Se({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],standalone:!0,features:[Ae],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,r){i&1&&It(0,0)},dependencies:[ir],encapsulation:2})}}return n})(),lE=(()=>{class n{constructor(t){this.templateRef=t,this._contentClassName="cdk-no-data-row"}static{this.\u0275fac=function(i){return new(i||n)(k(Et))}}static{this.\u0275dir=Q({type:n,selectors:[["ng-template","cdkNoDataRow",""]],standalone:!0})}}return n})(),rE=["top","bottom","left","right"],Qp=class{constructor(e,t,i,r,s=!0,o=!0,c){this._isNativeHtmlTable=e,this._stickCellCss=t,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=s,this._needsPositionStickyOnElement=o,this._positionListener=c,this._elemSizeCache=new WeakMap,this._resizeObserver=globalThis?.ResizeObserver?new globalThis.ResizeObserver(l=>this._updateCachedSizes(l)):null,this._updatedStickyColumnsParamsToReplay=[],this._stickyColumnsReplayTimeout=null,this._cachedCellWidths=[],this._borderCellCss={top:`${t}-border-elem-top`,bottom:`${t}-border-elem-bottom`,left:`${t}-border-elem-left`,right:`${t}-border-elem-right`}}clearStickyPositioning(e,t){(t.includes("left")||t.includes("right"))&&this._removeFromStickyColumnReplayQueue(e);let i=[];for(let r of e)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let s=0;s<r.children.length;s++)i.push(r.children[s])}this._coalescedStyleScheduler.schedule(()=>{for(let r of i)this._removeStickyStyle(r,t)})}updateStickyColumns(e,t,i,r=!0,s=!0){if(s&&this._updateStickyColumnReplayQueue({rows:[...e],stickyStartStates:[...t],stickyEndStates:[...i]}),!e.length||!this._isBrowser||!(t.some(o=>o)||i.some(o=>o))){this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]}));return}this._coalescedStyleScheduler.schedule(()=>{let o=e[0],c=o.children.length,l=this._getCellWidths(o,r),d=this._getStickyStartColumnPositions(l,t),g=this._getStickyEndColumnPositions(l,i),v=t.lastIndexOf(!0),E=i.indexOf(!0),D=this.direction==="rtl",M=D?"right":"left",j=D?"left":"right";for(let F of e)for(let Y=0;Y<c;Y++){let re=F.children[Y];t[Y]&&this._addStickyStyle(re,M,d[Y],Y===v),i[Y]&&this._addStickyStyle(re,j,g[Y],Y===E)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:v===-1?[]:l.slice(0,v+1).map((F,Y)=>t[Y]?F:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:E===-1?[]:l.slice(E).map((F,Y)=>i[Y+E]?F:null).reverse()}))})}stickRows(e,t,i){this._isBrowser&&this._coalescedStyleScheduler.schedule(()=>{let r=i==="bottom"?e.slice().reverse():e,s=i==="bottom"?t.slice().reverse():t,o=[],c=[],l=[];for(let g=0,v=0;g<r.length;g++){if(!s[g])continue;o[g]=v;let E=r[g];l[g]=this._isNativeHtmlTable?Array.from(E.children):[E];let D=this._retrieveElementSize(E).height;v+=D,c[g]=D}let d=s.lastIndexOf(!0);for(let g=0;g<r.length;g++){if(!s[g])continue;let v=o[g],E=g===d;for(let D of l[g])this._addStickyStyle(D,i,v,E)}i==="top"?this._positionListener?.stickyHeaderRowsUpdated({sizes:c,offsets:o,elements:l}):this._positionListener?.stickyFooterRowsUpdated({sizes:c,offsets:o,elements:l})})}updateStickyFooterContainer(e,t){this._isNativeHtmlTable&&this._coalescedStyleScheduler.schedule(()=>{let i=e.querySelector("tfoot");i&&(t.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1))})}_removeStickyStyle(e,t){for(let r of t)e.style[r]="",e.classList.remove(this._borderCellCss[r]);rE.some(r=>t.indexOf(r)===-1&&e.style[r])?e.style.zIndex=this._getCalculatedZIndex(e):(e.style.zIndex="",this._needsPositionStickyOnElement&&(e.style.position=""),e.classList.remove(this._stickCellCss))}_addStickyStyle(e,t,i,r){e.classList.add(this._stickCellCss),r&&e.classList.add(this._borderCellCss[t]),e.style[t]=`${i}px`,e.style.zIndex=this._getCalculatedZIndex(e),this._needsPositionStickyOnElement&&(e.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(e){let t={top:100,bottom:10,left:1,right:1},i=0;for(let r of rE)e.style[r]&&(i+=t[r]);return i?`${i}`:""}_getCellWidths(e,t=!0){if(!t&&this._cachedCellWidths.length)return this._cachedCellWidths;let i=[],r=e.children;for(let s=0;s<r.length;s++){let o=r[s];i.push(this._retrieveElementSize(o).width)}return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(e,t){let i=[],r=0;for(let s=0;s<e.length;s++)t[s]&&(i[s]=r,r+=e[s]);return i}_getStickyEndColumnPositions(e,t){let i=[],r=0;for(let s=e.length;s>0;s--)t[s]&&(i[s]=r,r+=e[s]);return i}_retrieveElementSize(e){let t=this._elemSizeCache.get(e);if(t)return t;let i=e.getBoundingClientRect(),r={width:i.width,height:i.height};return this._resizeObserver&&(this._elemSizeCache.set(e,r),this._resizeObserver.observe(e,{box:"border-box"})),r}_updateStickyColumnReplayQueue(e){this._removeFromStickyColumnReplayQueue(e.rows),!this._stickyColumnsReplayTimeout&&this._updatedStickyColumnsParamsToReplay.push(e)}_removeFromStickyColumnReplayQueue(e){let t=new Set(e);for(let i of this._updatedStickyColumnsParamsToReplay)i.rows=i.rows.filter(r=>!t.has(r));this._updatedStickyColumnsParamsToReplay=this._updatedStickyColumnsParamsToReplay.filter(i=>!!i.rows.length)}_updateCachedSizes(e){let t=!1;for(let i of e){let r=i.borderBoxSize?.length?{width:i.borderBoxSize[0].inlineSize,height:i.borderBoxSize[0].blockSize}:{width:i.contentRect.width,height:i.contentRect.height};r.width!==this._elemSizeCache.get(i.target)?.width&&Yk(i.target)&&(t=!0),this._elemSizeCache.set(i.target,r)}t&&this._updatedStickyColumnsParamsToReplay.length&&(this._stickyColumnsReplayTimeout&&clearTimeout(this._stickyColumnsReplayTimeout),this._stickyColumnsReplayTimeout=setTimeout(()=>{for(let i of this._updatedStickyColumnsParamsToReplay)this.updateStickyColumns(i.rows,i.stickyStartStates,i.stickyEndStates,!0,!1);this._updatedStickyColumnsParamsToReplay=[],this._stickyColumnsReplayTimeout=null},0))}};function Yk(n){return["cdk-cell","cdk-header-cell","cdk-footer-cell"].some(e=>n.classList.contains(e))}var pu=new Z("CDK_SPL");var tg=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i;let r=W(sn);r._rowOutlet=this,r._outletAssigned()}static{this.\u0275fac=function(i){return new(i||n)(k(jt),k(ye))}}static{this.\u0275dir=Q({type:n,selectors:[["","rowOutlet",""]],standalone:!0})}}return n})(),ng=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i;let r=W(sn);r._headerRowOutlet=this,r._outletAssigned()}static{this.\u0275fac=function(i){return new(i||n)(k(jt),k(ye))}}static{this.\u0275dir=Q({type:n,selectors:[["","headerRowOutlet",""]],standalone:!0})}}return n})(),ig=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i;let r=W(sn);r._footerRowOutlet=this,r._outletAssigned()}static{this.\u0275fac=function(i){return new(i||n)(k(jt),k(ye))}}static{this.\u0275dir=Q({type:n,selectors:[["","footerRowOutlet",""]],standalone:!0})}}return n})(),rg=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i;let r=W(sn);r._noDataRowOutlet=this,r._outletAssigned()}static{this.\u0275fac=function(i){return new(i||n)(k(jt),k(ye))}}static{this.\u0275dir=Q({type:n,selectors:[["","noDataRowOutlet",""]],standalone:!0})}}return n})();var sg=(()=>{class n{_getCellRole(){if(this._cellRoleInternal===void 0){let t=this._elementRef.nativeElement.getAttribute("role");return t==="grid"||t==="treegrid"?"gridcell":"cell"}return this._cellRoleInternal}get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=t,this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(t){this._fixedLayout=t,this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(t,i,r,s,o,c,l,d,g,v,E,D){this._differs=t,this._changeDetectorRef=i,this._elementRef=r,this._dir=o,this._platform=l,this._viewRepeater=d,this._coalescedStyleScheduler=g,this._viewportRuler=v,this._stickyPositioningListener=E,this._onDestroy=new he,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._hasAllOutlets=!1,this._hasInitialized=!1,this._cellRoleInternal=void 0,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new ze,this.viewChange=new ut({start:0,end:Number.MAX_VALUE}),this._injector=W(je),s||r.nativeElement.setAttribute("role","table"),this._document=c,this._isServer=!l.isBrowser,this._isNativeHtmlTable=r.nativeElement.nodeName==="TABLE"}ngOnInit(){this._setupStickyStyler(),this._dataDiffer=this._differs.find([]).create((t,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(bt(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentInit(){this._hasInitialized=!0}ngAfterContentChecked(){this._canRender()&&this._render()}ngOnDestroy(){[this._rowOutlet?.viewContainer,this._headerRowOutlet?.viewContainer,this._footerRowOutlet?.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(t=>{t?.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),Zl(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();let t=this._dataDiffer.diff(this._renderRows);if(!t){this._updateNoDataRow(),this.contentChanged.next();return}let i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(t,i,(r,s,o)=>this._getEmbeddedViewArgs(r.item,o),r=>r.item.data,r=>{r.operation===cs.INSERTED&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),t.forEachIdentityChange(r=>{let s=i.get(r.currentIndex);s.context.$implicit=r.item.data}),this._updateNoDataRow(),xn(()=>{this.updateStickyColumnStyles()},{injector:this._injector}),this.contentChanged.next()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}setNoDataRow(t){this._customNoDataRow=t}updateStickyHeaderRowStyles(){let t=this._getRenderedRows(this._headerRowOutlet);if(this._isNativeHtmlTable){let r=sE(this._headerRowOutlet,"thead");r&&(r.style.display=t.length?"":"none")}let i=this._headerRowDefs.map(r=>r.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,i,"top"),this._headerRowDefs.forEach(r=>r.resetStickyChanged())}updateStickyFooterRowStyles(){let t=this._getRenderedRows(this._footerRowOutlet);if(this._isNativeHtmlTable){let r=sE(this._footerRowOutlet,"tfoot");r&&(r.style.display=t.length?"":"none")}let i=this._footerRowDefs.map(r=>r.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,i,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,i),this._footerRowDefs.forEach(r=>r.resetStickyChanged())}updateStickyColumnStyles(){let t=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...t,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),t.forEach((s,o)=>{this._addStickyColumnStyles([s],this._headerRowDefs[o])}),this._rowDefs.forEach(s=>{let o=[];for(let c=0;c<i.length;c++)this._renderRows[c].rowDef===s&&o.push(i[c]);this._addStickyColumnStyles(o,s)}),r.forEach((s,o)=>{this._addStickyColumnStyles([s],this._footerRowDefs[o])}),Array.from(this._columnDefsByName.values()).forEach(s=>s.resetStickyChanged())}_outletAssigned(){!this._hasAllOutlets&&this._rowOutlet&&this._headerRowOutlet&&this._footerRowOutlet&&this._noDataRowOutlet&&(this._hasAllOutlets=!0,this._canRender()&&this._render())}_canRender(){return this._hasAllOutlets&&this._hasInitialized}_render(){this._cacheRowDefs(),this._cacheColumnDefs(),!this._headerRowDefs.length&&!this._footerRowDefs.length&&this._rowDefs.length;let i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}_getAllRenderRows(){let t=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let s=this._data[r],o=this._getRenderRowsForData(s,r,i.get(s));this._cachedRenderRowsMap.has(s)||this._cachedRenderRowsMap.set(s,new WeakMap);for(let c=0;c<o.length;c++){let l=o[c],d=this._cachedRenderRowsMap.get(l.data);d.has(l.rowDef)?d.get(l.rowDef).push(l):d.set(l.rowDef,[l]),t.push(l)}}return t}_getRenderRowsForData(t,i,r){return this._getRowDefs(t,i).map(o=>{let c=r&&r.has(o)?r.get(o):[];if(c.length){let l=c.shift();return l.dataIndex=i,l}else return{data:t,rowDef:o,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),du(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=du(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=du(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=du(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);let t=this._rowDefs.filter(i=>!i.when);!this.multiTemplateDataRows&&t.length>1,this._defaultRowDef=t[0]}_renderUpdatedColumns(){let t=(o,c)=>{let l=!!c.getColumnsDiff();return o||l},i=this._rowDefs.reduce(t,!1);i&&this._forceRenderDataRows();let r=this._headerRowDefs.reduce(t,!1);r&&this._forceRenderHeaderRows();let s=this._footerRowDefs.reduce(t,!1);return s&&this._forceRenderFooterRows(),i||r||s}_switchDataSource(t){this._data=[],Zl(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet&&this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;Zl(this.dataSource)?t=this.dataSource.connect(this):wi(this.dataSource)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=J(this.dataSource)),this._renderChangeSubscription=t.pipe(bt(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,i)=>this._renderRow(this._headerRowOutlet,t,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,i)=>this._renderRow(this._footerRowOutlet,t,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,i){let r=Array.from(i.columns||[]).map(c=>{let l=this._columnDefsByName.get(c);return l}),s=r.map(c=>c.sticky),o=r.map(c=>c.stickyEnd);this._stickyStyler.updateStickyColumns(t,s,o,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(t){let i=[];for(let r=0;r<t.viewContainer.length;r++){let s=t.viewContainer.get(r);i.push(s.rootNodes[0])}return i}_getRowDefs(t,i){if(this._rowDefs.length==1)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(s=>!s.when||s.when(i,t));else{let s=this._rowDefs.find(o=>o.when&&o.when(i,t))||this._defaultRowDef;s&&r.push(s)}return r.length,r}_getEmbeddedViewArgs(t,i){let r=t.rowDef,s={$implicit:t.data};return{templateRef:r.template,context:s,index:i}}_renderRow(t,i,r,s={}){let o=t.viewContainer.createEmbeddedView(i.template,s,r);return this._renderCellTemplateForItem(i,s),o}_renderCellTemplateForItem(t,i){for(let r of this._getCellTemplates(t))ir.mostRecentCellOutlet&&ir.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){let t=this._rowOutlet.viewContainer;for(let i=0,r=t.length;i<r;i++){let o=t.get(i).context;o.count=r,o.first=i===0,o.last=i===r-1,o.even=i%2===0,o.odd=!o.even,this.multiTemplateDataRows?(o.dataIndex=this._renderRows[i].dataIndex,o.renderIndex=i):o.index=this._renderRows[i].dataIndex}}_getCellTemplates(t){return!t||!t.columns?[]:Array.from(t.columns,i=>{let r=this._columnDefsByName.get(i);return t.extractCellTemplate(r)})}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){let t=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){let t=this._dir?this._dir.value:"ltr";this._stickyStyler=new Qp(this._isNativeHtmlTable,this.stickyCssClass,t,this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:J()).pipe(bt(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){let t=this._customNoDataRow||this._noDataRow;if(!t)return;let i=this._rowOutlet.viewContainer.length===0;if(i===this._isShowingNoDataRow)return;let r=this._noDataRowOutlet.viewContainer;if(i){let s=r.createEmbeddedView(t.templateRef),o=s.rootNodes[0];s.rootNodes.length===1&&o?.nodeType===this._document.ELEMENT_NODE&&(o.setAttribute("role","row"),o.classList.add(t._contentClassName))}else r.clear();this._isShowingNoDataRow=i,this._changeDetectorRef.markForCheck()}static{this.\u0275fac=function(i){return new(i||n)(k(Ii),k(ln),k(ye),rd("role"),k(Un,8),k(de),k(Ge),k(ua),k(mu),k(da),k(pu,12),k(ce,8))}}static{this.\u0275cmp=Se({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(i,r,s){if(i&1&&(cn(s,lE,5),cn(s,gs,5),cn(s,vu,5),cn(s,ba,5),cn(s,Jp,5)),i&2){let o;Ct(o=St())&&(r._noDataRow=o.first),Ct(o=St())&&(r._contentColumnDefs=o),Ct(o=St())&&(r._contentRowDefs=o),Ct(o=St())&&(r._contentHeaderRowDefs=o),Ct(o=St())&&(r._contentFooterRowDefs=o)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(i,r){i&2&&Ut("cdk-table-fixed-layout",r.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:[2,"multiTemplateDataRows","multiTemplateDataRows",Tt],fixedLayout:[2,"fixedLayout","fixedLayout",Tt]},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],standalone:!0,features:[Pe([{provide:sn,useExisting:n},{provide:ua,useClass:ls},{provide:mu,useClass:Yp},{provide:pu,useValue:null}]),Rt,Ae],ngContentSelectors:Gk,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(i,r){i&1&&(hr(qk),an(0),an(1,1),ne(2,Wk,1,0)(3,Kk,7,0)(4,Qk,4,0)),i&2&&(P(2),Ei(r._isServer?2:-1),P(),Ei(r._isNativeHtmlTable?3:4))},dependencies:[ng,tg,rg,ig],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2})}}return n})();function du(n,e){return n.concat(Array.from(e))}function sE(n,e){let t=e.toUpperCase(),i=n.viewContainer.element.nativeElement;for(;i;){let r=i.nodeType===1?i.nodeName:null;if(r===t)return i;if(r==="TABLE")break;i=i.parentNode}return null}var uE=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ie({type:n})}static{this.\u0275inj=Ee({imports:[ha]})}}return n})();var Xk=[[["caption"]],[["colgroup"],["col"]],"*"],Jk=["caption","colgroup, col","*"];function Zk(n,e){n&1&&an(0,2)}function e2(n,e){n&1&&(m(0,"thead",0),It(1,1),f(),m(2,"tbody",2),It(3,3)(4,4),f(),m(5,"tfoot",0),It(6,5),f())}function t2(n,e){n&1&&It(0,1)(1,3)(2,4)(3,5)}var dE=(()=>{class n extends sg{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Ve(n)))(r||n)}})()}static{this.\u0275cmp=Se({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(i,r){i&2&&Ut("mdc-table-fixed-layout",r.fixedLayout)},exportAs:["matTable"],standalone:!0,features:[Pe([{provide:sg,useExisting:n},{provide:sn,useExisting:n},{provide:mu,useClass:Yp},{provide:ua,useClass:ls},{provide:pu,useValue:null}]),le,Ae],ngContentSelectors:Jk,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["role","rowgroup",1,"mdc-data-table__content"],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(i,r){i&1&&(hr(Xk),an(0),an(1,1),ne(2,Zk,1,0)(3,e2,7,0)(4,t2,4,0)),i&2&&(P(2),Ei(r._isServer?2:-1),P(),Ei(r._isNativeHtmlTable?3:4))},dependencies:[ng,tg,rg,ig],styles:[".mat-mdc-table-sticky{position:sticky !important}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{min-width:100%;border:0;border-spacing:0;table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color, var(--mat-app-surface))}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell{text-align:right}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-header-headline-font, var(--mat-app-title-small-font, Roboto, sans-serif));line-height:var(--mat-table-header-headline-line-height, var(--mat-app-title-small-line-height));font-size:var(--mat-table-header-headline-size, var(--mat-app-title-small-size, 14px));font-weight:var(--mat-table-header-headline-weight, var(--mat-app-title-small-weight, 500))}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, var(--mat-app-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-row-item-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-table-row-item-label-text-size, var(--mat-app-body-medium-size, 14px));font-weight:var(--mat-table-row-item-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-footer-supporting-text-font, var(--mat-app-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-footer-supporting-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-table-footer-supporting-text-size, var(--mat-app-body-medium-size, 14px));font-weight:var(--mat-table-footer-supporting-text-weight, var(--mat-app-body-medium-weight));letter-spacing:var(--mat-table-footer-supporting-text-tracking, var(--mat-app-body-medium-tracking))}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-app-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking, var(--mat-app-title-small-tracking));font-weight:inherit;line-height:inherit;box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mat-mdc-header-cell{text-align:right}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-app-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-app-body-medium-tracking));line-height:inherit}.mdc-data-table__row:last-child .mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-app-body-medium-tracking))}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2})}}return n})(),hE=(()=>{class n extends gu{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Ve(n)))(r||n)}})()}static{this.\u0275dir=Q({type:n,selectors:[["","matCellDef",""]],standalone:!0,features:[Pe([{provide:gu,useExisting:n}]),le]})}}return n})(),fE=(()=>{class n extends _u{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Ve(n)))(r||n)}})()}static{this.\u0275dir=Q({type:n,selectors:[["","matHeaderCellDef",""]],standalone:!0,features:[Pe([{provide:_u,useExisting:n}]),le]})}}return n})();var mE=(()=>{class n extends gs{get name(){return this._name}set name(t){this._setNameInput(t)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Ve(n)))(r||n)}})()}static{this.\u0275dir=Q({type:n,selectors:[["","matColumnDef",""]],inputs:{name:[0,"matColumnDef","name"]},standalone:!0,features:[Pe([{provide:gs,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),le]})}}return n})(),pE=(()=>{class n extends aE{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Ve(n)))(r||n)}})()}static{this.\u0275dir=Q({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],standalone:!0,features:[le]})}}return n})();var gE=(()=>{class n extends cE{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Ve(n)))(r||n)}})()}static{this.\u0275dir=Q({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],standalone:!0,features:[le]})}}return n})();var _E=(()=>{class n extends ba{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Ve(n)))(r||n)}})()}static{this.\u0275dir=Q({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:[0,"matHeaderRowDef","columns"],sticky:[2,"matHeaderRowDefSticky","sticky",Tt]},standalone:!0,features:[Pe([{provide:ba,useExisting:n}]),Rt,le]})}}return n})();var vE=(()=>{class n extends vu{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Ve(n)))(r||n)}})()}static{this.\u0275dir=Q({type:n,selectors:[["","matRowDef",""]],inputs:{columns:[0,"matRowDefColumns","columns"],when:[0,"matRowDefWhen","when"]},standalone:!0,features:[Pe([{provide:vu,useExisting:n}]),le]})}}return n})(),yE=(()=>{class n extends Zp{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Ve(n)))(r||n)}})()}static{this.\u0275cmp=Se({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],standalone:!0,features:[Pe([{provide:Zp,useExisting:n}]),le,Ae],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,r){i&1&&It(0,0)},dependencies:[ir],encapsulation:2})}}return n})();var wE=(()=>{class n extends eg{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Ve(n)))(r||n)}})()}static{this.\u0275cmp=Se({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],standalone:!0,features:[Pe([{provide:eg,useExisting:n}]),le,Ae],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,r){i&1&&It(0,0)},dependencies:[ir],encapsulation:2})}}return n})();var bE=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ie({type:n})}static{this.\u0275inj=Ee({imports:[ps,uE,ps]})}}return n})();var EE=()=>["nom","prenom","actions"];function i2(n,e){if(n&1){let t=ht();m(0,"div",45)(1,"div",46)(2,"a",8),V("click",function(){ee(t);let r=H();return te(r.handleMobileClick("home"))}),p(3,"Home"),f(),m(4,"a",8),V("click",function(r){ee(t);let s=H();return te(s.handleMobileClick("about",r))}),p(5,"About"),f(),m(6,"a",8),V("click",function(){ee(t);let r=H();return te(r.handleMobileClick("services"))}),p(7,"Rooms"),f(),m(8,"a",8),V("click",function(){ee(t);let r=H();return te(r.handleMobileClick("clients"))}),p(9,"Clients"),f(),m(10,"a",8),V("click",function(){ee(t);let r=H();return te(r.handleMobileClick("services"))}),p(11,"Services"),f(),m(12,"a",8),V("click",function(r){ee(t);let s=H();return te(s.handleMobileClick("contact",r))}),p(13,"Contact"),f()()()}}function r2(n,e){n&1&&(m(0,"th",55),p(1,"Nom"),f())}function s2(n,e){if(n&1&&(m(0,"td",56),p(1),f()),n&2){let t=e.$implicit;P(),Ze(t.nom)}}function o2(n,e){n&1&&(m(0,"th",55),p(1,"Pr\xE9nom"),f())}function a2(n,e){if(n&1&&(m(0,"td",56),p(1),f()),n&2){let t=e.$implicit;P(),Ze(t.prenom)}}function c2(n,e){n&1&&(m(0,"th",55),p(1,"Actions"),f())}function l2(n,e){if(n&1){let t=ht();m(0,"td",56)(1,"button",57),V("click",function(){let r=ee(t).$implicit,s=H(2);return te(s.openClientDetails(r.id))}),p(2," Historique "),f()()}}function u2(n,e){n&1&&$(0,"tr",58)}function d2(n,e){n&1&&$(0,"tr",59)}function h2(n,e){if(n&1&&(m(0,"table",47),Xe(1,48),ne(2,r2,2,0,"th",49)(3,s2,2,1,"td",50),Je(),Xe(4,51),ne(5,o2,2,0,"th",49)(6,a2,2,1,"td",50),Je(),Xe(7,52),ne(8,c2,2,0,"th",49)(9,l2,3,0,"td",50),Je(),ne(10,u2,1,0,"tr",53)(11,d2,1,0,"tr",54),f()),n&2){let t=H();z("dataSource",t.clients),P(10),z("matHeaderRowDef",ad(3,EE)),P(),z("matRowDefColumns",ad(4,EE))}}function f2(n,e){n&1&&(m(0,"div",60)(1,"div",61),p(2,"Aucun client trouv\xE9."),f(),m(3,"button",62)(4,"span",63),p(5,"refresh"),f(),p(6," Actualiser "),f()())}var yu=class n{constructor(e,t,i){this.router=e;this.clientService=t;this.dialog=i;window.scrollTo({top:0,behavior:"smooth"})}isMenuOpen=!1;isScrolled=!1;clients=[];ngOnInit(){this.loadClients()}toggleMenu(){this.isMenuOpen=!this.isMenuOpen}handleMobileClick(e,t){t&&t.preventDefault(),e==="about"||e==="contact"?this.scrollTo(e,t):this.navigateTo(e)}navigateTo(e){this.router.navigate([`/${e}`]),this.isMenuOpen=!1}scrollTo(e,t){if(t&&t.preventDefault(),this.isMenuOpen=!1,e==="home"){window.scrollTo({top:0,behavior:"smooth"});return}if(e==="about"||e==="contact"){let i=document.getElementById("footer-section");i&&i.scrollIntoView({behavior:"smooth",block:"start"});return}}loadClients(){this.clientService.getClients().then(e=>{e.forEach(t=>{this.clients.push(L({id:t.id},t))}),console.log("Clients r\xE9cup\xE9r\xE9s:",this.clients)})}openClientDetails(e){if(console.log("Client ID re\xE7u :",e),!e){console.warn("ID client manquant !");return}this.clientService.getClientById(e).then(t=>{t?this.dialog.open(uu,{data:t}).afterClosed().subscribe(()=>{console.log("Dialog ferm\xE9")}):console.warn("Client non trouv\xE9")}).catch(t=>{console.error("Erreur lors de la r\xE9cup\xE9ration du client :",t)})}static \u0275fac=function(t){return new(t||n)(k($t),k(fi),k(wa))};static \u0275cmp=Se({type:n,selectors:[["app-clients"]],standalone:!0,features:[Ae],decls:78,vars:3,consts:[[1,"fixed","top-0","left-0","right-0","flex","items-center","justify-between","px-8","py-6","text-white","z-50","transition-all","duration-300","bg-black","shadow-md"],[1,"flex","items-center","space-x-2"],[1,"text-sm","font-light","uppercase"],[3,"click"],[1,"md:hidden","flex","items-center","space-x-4","pr-0"],[1,"text-white",3,"click"],[1,"material-icons","text-3xl"],[1,"space-x-6","hidden","md:flex"],[1,"hover:underline",3,"click"],["class","md:hidden absolute top-20 left-0 right-0 bg-black text-white px-6 py-4 z-50",4,"ngIf"],[1,"mt-24","px-4","md:px-8","pb-12","max-w-7xl","mx-auto"],[1,"bg-white","rounded-lg","shadow-xl","overflow-hidden"],[1,"bg-[#d6bfa9]","px-6","py-4"],[1,"text-2xl","font-semibold","text-gray-800","text-white"],[1,"p-6"],["mat-table","","class","w-full",3,"dataSource",4,"ngIf"],["class","text-center py-8",4,"ngIf"],["id","footer-section"],[1,"relative","h-96","w-full"],[1,"absolute","inset-0","bg-black","bg-opacity-80","flex","flex-col","items-center","justify-center"],[1,"text-center","px-4","mb-8"],[1,"text-lg","text-white","max-w-4xl","mx-auto","font-light"],[1,"text-center","px-4"],[1,"text-4xl","font-serif","text-white","font-bold"],["src","assets/images/footer-picture.jpg","alt","Royella Luxury Hotel",1,"w-full","h-full","object-cover"],[1,"bg-black","text-white","py-12","px-4"],[1,"max-w-6xl","mx-auto"],[1,"text-xl","md:text-2xl","font-serif","text-center","mb-12"],[1,"flex","flex-col","md:flex-row","justify-center","items-center","gap-8","md:gap-16"],[1,"flex","items-center","gap-3"],[1,"w-10","h-10","rounded-full","bg-gray-800","flex","items-center","justify-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"],[1,"text-gray-300","text-lg"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 11a3 3 0 11-6 0 3 3 0 016 0z"],[1,"border-t","border-gray-800","mt-12","pt-6","flex","flex-col","md:flex-row","justify-between","items-center"],[1,"text-gray-400","text-lg","mb-4","md:mb-0"],[1,"flex","gap-4"],["href","#",1,"w-10","h-10","rounded-full","bg-gray-800","flex","items-center","justify-center","hover:bg-gray-700","transition"],["xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 24 24",1,"h-5","w-5"],["d","M22.675 0h-21.35c-.732 0-1.325.593-1.325 1.325v21.351c0 .731.593 1.324 1.325 1.324h11.495v-9.294h-3.128v-3.622h3.128v-2.671c0-3.1 1.893-4.788 4.659-4.788 1.325 0 2.463.099 2.795.143v3.24l-1.918.001c-1.504 0-1.795.715-1.795 1.763v2.313h3.587l-.467 3.622h-3.12v9.293h6.116c.73 0 1.323-.593 1.323-1.325v-21.35c0-.732-.593-1.325-1.325-1.325z"],["d","M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"],["d","M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"],[1,"md:hidden","absolute","top-20","left-0","right-0","bg-black","text-white","px-6","py-4","z-50"],[1,"flex","flex-col","items-center","space-y-4"],["mat-table","",1,"w-full",3,"dataSource"],["matColumnDef","nom"],["mat-header-cell","","class","text-left font-medium text-gray-700 py-3 px-4 bg-gray-100",4,"matHeaderCellDef"],["mat-cell","","class","py-3 px-4 border-b border-gray-200",4,"matCellDef"],["matColumnDef","prenom"],["matColumnDef","actions"],["mat-header-row","","class","h-12",4,"matHeaderRowDef"],["mat-row","","class","hover:bg-gray-50 transition duration-150",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"text-left","font-medium","text-gray-700","py-3","px-4","bg-gray-100"],["mat-cell","",1,"py-3","px-4","border-b","border-gray-200"],["mat-raised-button","","color","primary",1,"bg-[#d6bfa9]","hover:bg-[#c5ab94]","text-white","font-medium","py-1","px-4","rounded","transition","duration-200",3,"click"],["mat-header-row","",1,"h-12"],["mat-row","",1,"hover:bg-gray-50","transition","duration-150"],[1,"text-center","py-8"],[1,"text-gray-500","text-lg","mb-4"],["mat-raised-button","","color","primary",1,"bg-[#d6bfa9]","text-white"],[1,"material-icons","mr-2"]],template:function(t,i){t&1&&(m(0,"header",0)(1,"div",1)(2,"div",2)(3,"a",3),V("click",function(){return i.navigateTo("home")}),p(4,"Luxury Hotel"),f()()(),m(5,"div",4)(6,"button",5),V("click",function(){return i.toggleMenu()}),m(7,"span",6),p(8,"menu"),f()()(),m(9,"nav",7)(10,"a",8),V("click",function(){return i.navigateTo("home")}),p(11,"Home"),f(),m(12,"a",8),V("click",function(s){return i.scrollTo("about",s)}),p(13,"About"),f(),m(14,"a",8),V("click",function(){return i.navigateTo("services")}),p(15,"Rooms"),f(),m(16,"a",8),V("click",function(){return i.navigateTo("clients")}),p(17,"Clients"),f(),m(18,"a",8),V("click",function(){return i.navigateTo("services")}),p(19,"Services"),f(),m(20,"a",8),V("click",function(s){return i.scrollTo("contact",s)}),p(21,"Contact"),f()()(),ne(22,i2,14,0,"div",9),m(23,"main",10)(24,"div",11)(25,"div",12)(26,"h2",13),p(27,"Liste des Clients"),f()(),m(28,"div",14),ne(29,h2,12,5,"table",15)(30,f2,7,0,"div",16),f()()(),m(31,"footer",17)(32,"div",18)(33,"div",19)(34,"div",20)(35,"p",21),p(36," D\xE9couvrez un havre de paix o\xF9 luxe et \xE9l\xE9gance se rencontrent pour cr\xE9er des souvenirs inoubliables "),f()(),m(37,"div",22)(38,"h2",23),p(39,"Votre \xC9chapp\xE9e Belle Commence Ici"),f()()(),$(40,"img",24),f(),m(41,"div",25)(42,"div",26)(43,"h3",27),p(44,"LUXURY HOTEL"),f(),m(45,"div",28)(46,"div",29)(47,"div",30),_e(),m(48,"svg",31),$(49,"path",32),f()(),Te(),m(50,"p",33),p(51,"(+088) 210 - 123 - 4567"),f()(),m(52,"div",29)(53,"div",30),_e(),m(54,"svg",31),$(55,"path",34),f()(),Te(),m(56,"p",33),p(57,"info@luxury-hotel.com"),f()(),m(58,"div",29)(59,"div",30),_e(),m(60,"svg",31),$(61,"path",35)(62,"path",36),f()(),Te(),m(63,"p",33),p(64,"79 alger, Algeria"),f()()(),m(65,"div",37)(66,"p",38),p(67,"Copyright \xA9 2025 lexury hotel. Tous droits r\xE9serv\xE9s."),f(),m(68,"div",39)(69,"a",40),_e(),m(70,"svg",41),$(71,"path",42),f()(),Te(),m(72,"a",40),_e(),m(73,"svg",41),$(74,"path",43),f()(),Te(),m(75,"a",40),_e(),m(76,"svg",41),$(77,"path",44),f()()()()()()()),t&2&&(P(22),z("ngIf",i.isMenuOpen),P(7),z("ngIf",i.clients.length>0),P(),z("ngIf",i.clients.length===0))},dependencies:[kt,Bt,lu,bE,dE,fE,_E,mE,hE,vE,pE,gE,yE,wE]})};var m2=(n,e)=>({"bg-black shadow-md":n,"bg-transparent":e}),p2=(n,e)=>({"border-white hover:bg-white hover:text-black":n,"border-[#d6bfa9] text-[#d6bfa9] hover:bg-[#d6bfa9] hover:text-white":e});function g2(n,e){if(n&1){let t=ht();m(0,"div",91)(1,"div",92)(2,"a",8),V("click",function(){ee(t);let r=H();return te(r.handleMobileClick("home"))}),p(3,"Home"),f(),m(4,"a",8),V("click",function(r){ee(t);let s=H();return te(s.handleMobileClick("about",r))}),p(5,"About"),f(),m(6,"a",8),V("click",function(){ee(t);let r=H();return te(r.handleMobileClick("services"))}),p(7,"Rooms"),f(),m(8,"a",8),V("click",function(){ee(t);let r=H();return te(r.handleMobileClick("clients"))}),p(9,"Clients"),f(),m(10,"a",8),V("click",function(){ee(t);let r=H();return te(r.handleMobileClick("services"))}),p(11,"Services"),f(),m(12,"a",8),V("click",function(r){ee(t);let s=H();return te(s.handleMobileClick("contact",r))}),p(13,"Contact"),f()()()}}function _2(n,e){if(n&1){let t=ht();m(0,"div",93)(1,"div",94),$(2,"img",95)(3,"div",96),m(4,"div",97)(5,"h3",98),p(6),f(),m(7,"p",99),p(8),f(),m(9,"div",100)(10,"button",101),p(11,"R\xE9server"),f(),m(12,"button",102),V("click",function(){ee(t);let r=H();return te(r.navigateTo("services"))}),p(13,"En savoir plus"),f()()()()()}if(n&2){let t=e.$implicit;P(2),k_("alt",t.title),z("src",t.image,E_),P(4),Ze(t.title),P(2),Ze(t.description)}}var Ea=class n{constructor(e){this.router=e;window.scrollTo({top:0,behavior:"smooth"})}isMenuOpen=!1;isScrolled=!1;redirigerVersAjouterClient(){this.router.navigate(["/add-client"])}onWindowScroll(){this.isScrolled=window.scrollY>50}toggleMenu(){this.isMenuOpen=!this.isMenuOpen}navigateTo(e){this.router.navigate([`/${e}`]),this.isMenuOpen=!1}scrollTo(e,t){if(t&&t.preventDefault(),this.isMenuOpen=!1,e==="home"){window.scrollTo({top:0,behavior:"smooth"});return}if(e==="about"||e==="contact"){let i=document.getElementById("footer-section");i&&i.scrollIntoView({behavior:"smooth",block:"start"});return}}cards=[{title:"Aventure en Famille",description:"Chambres spacieuses avec lits superpos\xE9s, club enfants et activit\xE9s ludiques pour toute la famille.",image:"assets/images/famille.png"},{title:"Escapade Gastronomique",description:"D\xE9couvrez nos restaurants \xE9toil\xE9s, menus d\xE9gustation et exp\xE9riences culinaires raffin\xE9es.",image:"assets/images/restaurant.png"},{title:"Bien-\xEAtre & Spa",description:"Profitez d\u2019un s\xE9jour relaxant avec soins spa, massages et acc\xE8s \xE0 la piscine int\xE9rieure chauff\xE9e.",image:"assets/images/spa.jpg"},{title:"S\xE9jour d\u2019Affaires",description:"Espace de travail moderne, Wi-Fi haut d\xE9bit et acc\xE8s lounge ex\xE9cutif pour vos voyages professionnels.",image:"assets/images/sejour.png"},{title:"\xC9vasion Romantique",description:"Offrez-vous une suite luxueuse avec jacuzzi priv\xE9 et champagne pour des souvenirs inoubliables \xE0 deux.",image:"assets/images/romantique.png"},{title:"Suite Pr\xE9sidentielle",description:"Un h\xE9bergement prestigieux avec vue panoramique, service majordome et \xE9quipements exclusifs.",image:"assets/images/presedent.png"}];handleMobileClick(e,t){t&&t.preventDefault(),e==="about"||e==="contact"?this.scrollTo(e,t):this.navigateTo(e)}currentIndex=0;prev(){this.currentIndex>0&&(this.currentIndex-=3)}next(){this.currentIndex+3<this.cards.length&&(this.currentIndex+=3)}static \u0275fac=function(t){return new(t||n)(k($t))};static \u0275cmp=Se({type:n,selectors:[["app-home"]],hostBindings:function(t,i){t&1&&V("scroll",function(){return i.onWindowScroll()},!1,I_)},standalone:!0,features:[Ae],decls:186,vars:10,consts:[[1,"fixed","top-0","left-0","right-0","flex","items-center","justify-between","px-8","py-4","text-white","z-50","transition-all","duration-300",3,"ngClass"],[1,"flex","items-center","space-x-2"],[1,"text-sm","font-light","uppercase"],[3,"click"],[1,"md:hidden","flex","items-center","space-x-4","pr-[20px]"],[1,"text-white",3,"click"],[1,"material-icons","text-3xl"],[1,"space-x-6","hidden","md:flex"],[1,"hover:underline",3,"click"],[1,"border","px-4","py-2","uppercase","transition","md:block","hidden",3,"ngClass"],["class","md:hidden absolute top-20 left-0 right-0 bg-black text-white px-6 py-4 z-50",4,"ngIf"],[1,"relative","h-[70vh]","bg-cover","bg-center","flex","items-center","justify-center"],["src","assets/images/bg-hotel.jpg","alt","Luxury Hotel Background","loading","eager","fetchpriority","high",1,"absolute","inset-0","w-full","h-full","object-cover"],[1,"absolute","inset-0","bg-black","bg-opacity-50"],[1,"relative","z-10","text-center","text-white","px-4"],[1,"uppercase","tracking-widest","mb-4","text-sm","md:text-lg","opacity-0","animate-fadeInUp"],[1,"text-4xl","md:text-6xl","font-serif","font-semibold","mb-6","opacity-0","animate-fadeInUp","animate-delay-200"],[1,"px-8","py-3","border-2","border-[#d6bfa9]","text-[#d6bfa9]","hover:bg-[#d6bfa9]","hover:text-white","transition-all","duration-300","text-sm","uppercase","font-medium","tracking-wider","w-full","sm:w-auto","opacity-0","animate-fadeInUp","animate-delay-400",3,"click"],[1,"relative","z-30","-mt-16","px-4"],[1,"flex","flex-col","sm:flex-row","justify-center","items-center","gap-4","max-w-6xl","mx-auto","bg-white/30","backdrop-blur-md","py-6","px-4","rounded-xl","shadow-lg","space-y-4","sm:space-y-0"],[1,"opacity-0","animate-fadeInUp","animate-delay-100","bg-[#d6bfa9]","text-white","text-xl","font-semibold","px-10","py-6","rounded-md","shadow-md","hover:bg-[#c9ac93]","transition","transform","hover:scale-105","w-full","sm:w-48","md:w-auto",3,"click"],[1,"opacity-0","animate-fadeInUp","animate-delay-200","bg-[#d6bfa9]","text-white","text-xl","font-semibold","px-10","py-6","rounded-md","shadow-md","hover:bg-[#c9ac93]","transition","transform","hover:scale-105","w-full","sm:w-48","md:w-auto",3,"click"],[1,"opacity-0","animate-fadeInUp","animate-delay-300","bg-[#d6bfa9]","text-white","text-xl","font-semibold","px-10","py-6","rounded-md","shadow-md","hover:bg-[#c9ac93]","transition","transform","hover:scale-105","w-full","sm:w-48","md:w-auto",3,"click"],[1,"opacity-0","animate-fadeInUp","animate-delay-400","bg-[#d6bfa9]","text-white","text-xl","font-semibold","px-10","py-6","rounded-md","shadow-md","hover:bg-[#c9ac93]","transition","transform","hover:scale-105","w-full","sm:w-48","md:w-auto",3,"click"],[1,"bg-white","text-white","py-12","w-full"],[1,"text-4xl","font-bold","text-center","mb-12","text-black","opacity-0","animate-fadeInUp"],[1,"relative","flex","items-center","justify-center","w-full","px-4","sm:px-8"],[1,"hidden","sm:block","absolute","left-4","z-10","p-6","text-black","text-5xl",3,"click"],[1,"material-icons","icon"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","gap-8","max-w-7xl","w-full"],["class","relative rounded-2xl w-full h-96 overflow-hidden opacity-0 animate-fadeInUp animate-delay-100",4,"ngFor","ngForOf"],[1,"hidden","sm:block","absolute","right-4","z-10","p-6","text-black","text-5xl",3,"click"],[1,"relative","flex","w-full","min-h-[650px]","bg-[#f9f7f4]"],[1,"w-full","sm:w-9/12","h-full"],["src","assets/images/partner.png","alt","\xC9v\xE9nement",1,"w-full","h-full","object-cover",2,"height","650px"],[1,"absolute","top-1/2","left-1/2","sm:left-[80%]","transform","-translate-x-1/2","-translate-y-1/2","bg-white","p-6","sm:p-16","w-[80%]","sm:w-[55%]","max-w-[700px]","shadow-xl","z-10"],[1,"uppercase","text-sm","text-gray-500","mb-4","tracking-wide"],[1,"text-4xl","sm:text-5xl","font-bold","mb-6","text-gray-800","leading-tight"],[1,"text-gray-600","mb-8","text-base","sm:text-lg","leading-relaxed"],[1,"px-8","py-3","border-2","border-[#d6bfa9]","text-[#d6bfa9]","hover:bg-[#d6bfa9]","hover:text-white","transition-all","duration-300","text-sm","uppercase","font-medium","tracking-wider",3,"click"],[1,"hidden","sm:block","w-3/12","bg-[#f9f7f4]"],[1,"flex","w-full"],["src","assets/images/room.png","alt","\xC9v\xE9nement",1,"w-full","h-full","object-cover",2,"height","650px"],[1,"absolute","top-1/2","left-1/2","sm:left-[20%]","transform","-translate-x-1/2","-translate-y-1/2","bg-white","p-6","sm:p-16","w-[80%]","sm:w-[55%]","max-w-[700px]","shadow-xl","z-10"],["id","more-section",1,"py-20","px-4"],[1,"max-w-7xl","mx-auto"],[1,"text-4xl","font-bold","text-center","text-gray-800","uppercase","tracking-wider","mb-6","opacity-0","animate-slideInLeft"],[1,"max-w-3xl","mx-auto","text-center","text-gray-600","text-lg","mb-16","leading-relaxed","opacity-0","animate-slideInRight"],[1,"space-y-28"],["appScrollAnimation","",1,"flex","flex-col","md:flex-row","items-center","gap-16"],[1,"w-40","h-40","animation-hover","hover:scale-110","hover:rotate-3"],["src","assets/images/room-service.png","alt","Room Service",1,"w-full","h-full","object-contain"],[1,"md:w-1/2","transform","transition-all","duration-500","ease-out","translate-x-10","hover:translate-x-0","text-center","md:text-left","pr-[55px]","md:pr-0"],[1,"text-3xl","font-bold","text-gray-800","mb-4"],[1,"text-gray-600","leading-relaxed","text-lg"],[1,"flex","flex-col","md:flex-row-reverse","items-center","gap-16"],[1,"w-40","h-40","animation-hover","hover:scale-110","hover:-rotate-3"],["src","assets/images/router.png","alt","WiFi Haut D\xE9bit",1,"w-full","h-full","object-contain"],[1,"md:w-1/2","transform","transition-all","duration-500","ease-out","-translate-x-10","hover:translate-x-0","text-center","md:text-right","pl-[80px]","md:pl-0"],[1,"flex","flex-col","md:flex-row","items-center","gap-16"],["src","assets/images/swimming.png","alt","Piscine Panoramique",1,"w-full","h-full","object-contain"],["src","assets/images/dumbbell-ray.png","alt","Salle de sport",1,"w-full","h-full","object-contain"],["src","assets/images/shuttle.png","alt","Navette Priv\xE9e",1,"w-full","h-full","object-contain"],["id","footer-section"],[1,"relative","h-96","w-full"],[1,"absolute","inset-0","bg-black","bg-opacity-80","flex","flex-col","items-center","justify-center"],[1,"text-center","px-4","mb-8"],[1,"text-lg","text-white","max-w-4xl","mx-auto","font-light"],[1,"text-center","px-4"],[1,"text-4xl","font-serif","text-white","font-bold"],["src","assets/images/footer-picture.jpg","alt","Royella Luxury Hotel",1,"w-full","h-full","object-cover"],[1,"bg-black","text-white","py-12","px-4"],[1,"max-w-6xl","mx-auto"],[1,"text-xl","md:text-2xl","font-serif","text-center","mb-12"],[1,"flex","flex-col","md:flex-row","justify-center","items-center","gap-8","md:gap-16"],[1,"flex","items-center","gap-3"],[1,"w-10","h-10","rounded-full","bg-gray-800","flex","items-center","justify-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"],[1,"text-gray-300","text-lg"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 11a3 3 0 11-6 0 3 3 0 016 0z"],[1,"border-t","border-gray-800","mt-12","pt-6","flex","flex-col","md:flex-row","justify-between","items-center"],[1,"text-gray-400","text-lg","mb-4","md:mb-0"],[1,"flex","gap-4"],["href","#",1,"w-10","h-10","rounded-full","bg-gray-800","flex","items-center","justify-center","hover:bg-gray-700","transition"],["xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 24 24",1,"h-5","w-5"],["d","M22.675 0h-21.35c-.732 0-1.325.593-1.325 1.325v21.351c0 .731.593 1.324 1.325 1.324h11.495v-9.294h-3.128v-3.622h3.128v-2.671c0-3.1 1.893-4.788 4.659-4.788 1.325 0 2.463.099 2.795.143v3.24l-1.918.001c-1.504 0-1.795.715-1.795 1.763v2.313h3.587l-.467 3.622h-3.12v9.293h6.116c.73 0 1.323-.593 1.323-1.325v-21.35c0-.732-.593-1.325-1.325-1.325z"],["d","M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"],["d","M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"],[1,"md:hidden","absolute","top-20","left-0","right-0","bg-black","text-white","px-6","py-4","z-50"],[1,"flex","flex-col","items-center","space-y-4"],[1,"relative","rounded-2xl","w-full","h-96","overflow-hidden","opacity-0","animate-fadeInUp","animate-delay-100"],[1,"h-full","w-full","relative"],[1,"h-full","w-full","object-cover",3,"src","alt"],[1,"absolute","inset-0","bg-black","bg-opacity-60"],[1,"absolute","bottom-0","left-0","right-0","p-6","text-center","sm:text-left"],[1,"text-2xl","font-semibold","mb-2"],[1,"text-sm","mb-4"],[1,"flex","flex-col","sm:flex-row","gap-2","sm:justify-between","justify-center"],[1,"px-4","py-2","bg-[#d6bfa9]","shadow-md","rounded","hover:bg-[#c9ac93]"],[1,"px-4","py-2","border","border-white","rounded","hover:bg-white","hover:text-black","transition",3,"click"]],template:function(t,i){t&1&&(m(0,"header",0)(1,"div",1)(2,"div",2)(3,"a",3),V("click",function(){return i.scrollTo("home")}),p(4,"Luxury Hotel"),f()()(),m(5,"div",4)(6,"button",5),V("click",function(){return i.toggleMenu()}),m(7,"span",6),p(8,"menu"),f()()(),m(9,"nav",7)(10,"a",8),V("click",function(){return i.scrollTo("home")}),p(11,"Home"),f(),m(12,"a",8),V("click",function(s){return i.scrollTo("about",s)}),p(13,"About"),f(),m(14,"a",8),V("click",function(){return i.navigateTo("services")}),p(15,"Rooms"),f(),m(16,"a",8),V("click",function(){return i.navigateTo("clients")}),p(17,"Clients"),f(),m(18,"a",8),V("click",function(){return i.navigateTo("services")}),p(19,"Services"),f(),m(20,"a",8),V("click",function(s){return i.scrollTo("contact",s)}),p(21,"Contact"),f()(),m(22,"button",9),p(23," Booking Online "),f()(),ne(24,g2,14,0,"div",10),m(25,"div",11),$(26,"img",12)(27,"div",13),m(28,"div",14)(29,"span",15),p(30,"Welcome to LUXURY HOTEL"),f(),m(31,"h1",16),p(32,"A New Vision of Comfort"),f(),m(33,"button",17),V("click",function(){return i.navigateTo("services")}),p(34," Discover More "),f()()(),m(35,"div",18)(36,"div",19)(37,"button",20),V("click",function(){return i.redirigerVersAjouterClient()}),p(38," Ajouter"),$(39,"br"),p(40,"un nouveau Client "),f(),m(41,"button",21),V("click",function(){return i.navigateTo("services")}),p(42," Voir "),$(43,"br"),p(44,"les Services "),f(),m(45,"button",22),V("click",function(){return i.navigateTo("recommendations")}),p(46," Visualiser "),$(47,"br"),p(48,"les Recommandations "),f(),m(49,"button",23),V("click",function(){return i.handleMobileClick("clients")}),p(50," Historique "),$(51,"br"),p(52,"des Clients "),f()()(),m(53,"div",24)(54,"h2",25),p(55,"LEXURY HOTEL RECOMMANDATIONS"),f(),m(56,"div",26)(57,"button",27),V("click",function(){return i.prev()}),m(58,"span",28),p(59,"chevron_left"),f()(),m(60,"div",29),ne(61,_2,14,4,"div",30),f(),m(62,"button",31),V("click",function(){return i.next()}),m(63,"span",28),p(64,"chevron_right"),f()()()(),m(65,"div",32)(66,"div",33),$(67,"img",34),f(),m(68,"div",35)(69,"p",36),p(70,"We are reliable"),f(),m(71,"h1",37),p(72,"Partner in the event"),f(),m(73,"p",38),p(74," The Hotel LEXURY is the perfect choice for business or social meetings and events, a conference hotel satisfying your professional requirements. The hotel's halls cover a wide range of events, such as conferences and corporate events, product presentations. "),f(),m(75,"button",39),V("click",function(){return i.navigateTo("services")}),p(76," Our Services \u2192 "),f()(),$(77,"div",40),f(),m(78,"div",32)(79,"div",41),$(80,"div",40),m(81,"div",33),$(82,"img",42),f()(),m(83,"div",43)(84,"p",36),p(85,"We are reliable"),f(),m(86,"h1",37),p(87,"Special Offers"),f(),m(88,"p",38),p(89," We provide seasonal special discounts for selected rooms. Let us know the room you are interested and let\u2019s make it happen. Let us know the room you. "),f(),m(90,"button",39),V("click",function(){return i.navigateTo("services")}),p(91," Discover more \u2192 "),f()()(),m(92,"section",44)(93,"div",45)(94,"h2",46),p(95,"HOTEL FACILITIES"),f(),m(96,"p",47),p(97," Proactively morph optimal infomediaries rather than accurate expertise. Intrinsicly progressive resources rather than resource-leveling. "),f(),m(98,"div",48)(99,"div",49)(100,"div",50),$(101,"img",51),f(),m(102,"div",52)(103,"h3",53),p(104,"Room Service"),f(),m(105,"p",54),p(106," Service de chambre 24h/24 avec menu gastronomique pr\xE9par\xE9 par nos chefs \xE9toil\xE9s. "),f()()(),m(107,"div",55)(108,"div",56),$(109,"img",57),f(),m(110,"div",58)(111,"h3",53),p(112,"WiFi Haut D\xE9bit"),f(),m(113,"p",54),p(114," Connexion fibre optique ultra-rapide dans tout l'h\xF4tel avec d\xE9bit garanti de 1Gbps. "),f()()(),m(115,"div",59)(116,"div",50),$(117,"img",60),f(),m(118,"div",52)(119,"h3",53),p(120,"Piscine Panoramique"),f(),m(121,"p",54),p(122," Piscine \xE0 d\xE9bordement chauff\xE9e avec vue imprenable sur la ville, disponible en version couverte ou en plein air. "),f()()(),m(123,"div",55)(124,"div",56),$(125,"img",61),f(),m(126,"div",58)(127,"h3",53),p(128,"Salle de Sport Premium"),f(),m(129,"p",54),p(130," \xC9quipements Technogym derni\xE8re g\xE9n\xE9ration avec coach personnel disponible sur r\xE9servation. "),f()()(),m(131,"div",59)(132,"div",50),$(133,"img",62),f(),m(134,"div",52)(135,"h3",53),p(136,"Navette Priv\xE9e"),f(),m(137,"p",54),p(138," Service de transport gratuit vers l'a\xE9roport et le centre-ville avec v\xE9hicules haut de gamme. "),f()()()()()(),m(139,"footer",63)(140,"div",64)(141,"div",65)(142,"div",66)(143,"p",67),p(144," D\xE9couvrez un havre de paix o\xF9 luxe et \xE9l\xE9gance se rencontrent pour cr\xE9er des souvenirs inoubliables "),f()(),m(145,"div",68)(146,"h2",69),p(147,"Votre \xC9chapp\xE9e Belle Commence Ici"),f()()(),$(148,"img",70),f(),m(149,"div",71)(150,"div",72)(151,"h3",73),p(152,"LUXURY HOTEL"),f(),m(153,"div",74)(154,"div",75)(155,"div",76),_e(),m(156,"svg",77),$(157,"path",78),f()(),Te(),m(158,"p",79),p(159,"(+088) 210 - 123 - 4567"),f()(),m(160,"div",75)(161,"div",76),_e(),m(162,"svg",77),$(163,"path",80),f()(),Te(),m(164,"p",79),p(165,"info@luxury-hotel.com"),f()(),m(166,"div",75)(167,"div",76),_e(),m(168,"svg",77),$(169,"path",81)(170,"path",82),f()(),Te(),m(171,"p",79),p(172,"79 alger, Algeria"),f()()(),m(173,"div",83)(174,"p",84),p(175,"Copyright \xA9 2025 lexury hotel. Tous droits r\xE9serv\xE9s."),f(),m(176,"div",85)(177,"a",86),_e(),m(178,"svg",87),$(179,"path",88),f()(),Te(),m(180,"a",86),_e(),m(181,"svg",87),$(182,"path",89),f()(),Te(),m(183,"a",86),_e(),m(184,"svg",87),$(185,"path",90),f()()()()()()()),t&2&&(z("ngClass",cd(4,m2,i.isScrolled,!i.isScrolled)),P(22),z("ngClass",cd(7,p2,!i.isScrolled,i.isScrolled)),P(2),z("ngIf",i.isMenuOpen),P(37),z("ngForOf",i.cards.slice(i.currentIndex,i.currentIndex+3)))},dependencies:[kt,z_,Xn,Bt],styles:['@charset "UTF-8";.icon[_ngcontent-%COMP%]{font-size:100px!important}.animation-hover[_ngcontent-%COMP%]{transition:all .3s ease-in-out}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}50%{opacity:.5}to{opacity:1;transform:translateY(0)}}.animate-fadeInUp[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp 1.5s ease-out forwards}.animate-delay-200[_ngcontent-%COMP%]{animation-delay:.2s}.animate-delay-400[_ngcontent-%COMP%]{animation-delay:.4s}@keyframes _ngcontent-%COMP%_slideInLeft{0%{opacity:0;transform:translate(100px)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_slideInRight{0%{opacity:0;transform:translate(-100px)}to{opacity:1;transform:translate(0)}}.animate-slideInLeft[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInLeft 1s ease-out forwards}.animate-slideInRight[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInRight 1s ease-out forwards}']})};var wu=class n{constructor(e){this.firestore=e}collectionName="recommendations";getRecommendations(){return x(this,null,function*(){let e=Xo(qi(this.firestore,this.collectionName));return(yield ts(e)).docs.map(i=>L({id:i.id},i.data()))})}static \u0275fac=function(t){return new(t||n)(O(Ln))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})};function y2(n,e){if(n&1){let t=ht();m(0,"div",46)(1,"div",47)(2,"a",9),V("click",function(){ee(t);let r=H();return te(r.handleMobileClick("home"))}),p(3,"Home"),f(),m(4,"a",9),V("click",function(r){ee(t);let s=H();return te(s.handleMobileClick("about",r))}),p(5,"About"),f(),m(6,"a",9),V("click",function(){ee(t);let r=H();return te(r.handleMobileClick("services"))}),p(7,"Rooms"),f(),m(8,"a",9),V("click",function(){ee(t);let r=H();return te(r.handleMobileClick("clients"))}),p(9,"Clients"),f(),m(10,"a",9),V("click",function(){ee(t);let r=H();return te(r.handleMobileClick("services"))}),p(11,"Services"),f(),m(12,"a",9),V("click",function(r){ee(t);let s=H();return te(s.handleMobileClick("contact",r))}),p(13,"Contact"),f()()()}}function w2(n,e){if(n&1&&(m(0,"span"),p(1),f()),n&2){let t=H();P(),O_("Recommandations pour : ",t.client.nom," ",t.client.prenom,"")}}function b2(n,e){n&1&&(m(0,"span"),p(1,"Recommandations personnalis\xE9es"),f())}function E2(n,e){if(n&1){let t=ht();m(0,"div",51)(1,"div",52)(2,"div",53)(3,"h3",54),p(4),f(),m(5,"p",55),p(6),f()(),m(7,"button",56),V("click",function(){let r=ee(t).$implicit,s=H(3);return te(s.saveRecommendation(r))}),m(8,"span",57),p(9," bookmark "),f(),p(10," Enregistrer "),f()()()}if(n&2){let t=e.$implicit;P(4),He("Recommandation #",t.id,""),P(2),Ze(t.description)}}function I2(n,e){if(n&1&&(m(0,"div",49),ne(1,E2,11,2,"div",50),f()),n&2){let t=H(2);P(),z("ngForOf",t.recommendations)}}function C2(n,e){if(n&1&&(Xe(0),ne(1,I2,2,1,"div",48),Je()),n&2){let t=H();P(),z("ngIf",t.recommendations==null?null:t.recommendations.length)}}function S2(n,e){if(n&1){let t=ht();m(0,"div",58)(1,"div",59)(2,"span",60),p(3,"person_search"),f()(),m(4,"h3",61),p(5,"Aucun client s\xE9lectionn\xE9"),f(),m(6,"p",62),p(7," Pour g\xE9n\xE9rer des recommandations personnalis\xE9es, veuillez s\xE9lectionner ou ajouter un client. "),f(),m(8,"div",63)(9,"button",64),V("click",function(){ee(t);let r=H();return te(r.navigateTo("clients"))}),m(10,"span",65),p(11,"group"),f(),p(12," Voir la liste des clients "),f(),m(13,"button",66),V("click",function(){ee(t);let r=H();return te(r.redirigerVersAjouterClient())}),m(14,"span",65),p(15,"person_add"),f(),p(16," Ajouter un nouveau client "),f()()()}}var Ia=class n{constructor(e,t,i,r){this.route=e;this.router=t;this.recommendationService=i;this.clientService=r;window.scrollTo({top:0,behavior:"smooth"})}searchTerm="";filteredClients=[];isMenuOpen=!1;isScrolled=!1;client;recommendations=[];ngOnInit(){let e=this.route.snapshot.paramMap.get("clientId");e&&this.clientService.getClientById(e).then(t=>{this.client=t}),this.recommendationService.getRecommendations().then(t=>{this.recommendations=t})}saveRecommendation(e){this.client?.id&&this.clientService.addRecommendationToClient(this.client.id,e).subscribe(()=>{console.log("Recommandation enregistr\xE9e")})}toggleMenu(){this.isMenuOpen=!this.isMenuOpen}filteredRecommendations(){return this.searchTerm?this.recommendations.filter(e=>e.nomService.toLowerCase().includes(this.searchTerm.toLowerCase())):this.recommendations}searchClients(e){this.clientService.searchClients(e).subscribe(t=>{this.filteredClients=t})}handleMobileClick(e,t){t&&t.preventDefault(),e==="about"||e==="contact"?this.scrollTo(e,t):this.navigateTo(e)}navigateTo(e){this.router.navigate([`/${e}`]),this.isMenuOpen=!1}scrollTo(e,t){if(t&&t.preventDefault(),this.isMenuOpen=!1,e==="home"){window.scrollTo({top:0,behavior:"smooth"});return}if(e==="about"||e==="contact"){let i=document.getElementById("footer-section");i&&i.scrollIntoView({behavior:"smooth",block:"start"});return}}redirigerVersAjouterClient(){this.router.navigate(["/add-client"])}static \u0275fac=function(t){return new(t||n)(k(hn),k($t),k(wu),k(fi))};static \u0275cmp=Se({type:n,selectors:[["app-recommendations"]],standalone:!0,features:[Ae],decls:80,vars:5,consts:[["noClientTemplate",""],[1,"fixed","top-0","left-0","right-0","flex","items-center","justify-between","px-8","py-6","text-white","z-50","transition-all","duration-300","bg-black","shadow-md"],[1,"flex","items-center","space-x-2"],[1,"text-sm","font-light","uppercase"],[3,"click"],[1,"md:hidden","flex","items-center","space-x-4","pr-0"],[1,"text-white",3,"click"],[1,"material-icons","text-3xl"],[1,"space-x-6","hidden","md:flex"],[1,"hover:underline",3,"click"],["class","md:hidden absolute top-20 left-0 right-0 bg-black text-white px-6 py-4 z-50",4,"ngIf"],[1,"mt-24","px-4","md:px-8","pb-12","max-w-7xl","mx-auto"],[1,"bg-white","rounded-lg","shadow-xl","overflow-hidden"],[1,"bg-[#d6bfa9]","px-6","py-4"],[1,"text-2xl","font-semibold","text-white"],[4,"ngIf"],[1,"p-6"],[4,"ngIf","ngIfElse"],["id","footer-section"],[1,"relative","h-96","w-full"],[1,"absolute","inset-0","bg-black","bg-opacity-80","flex","flex-col","items-center","justify-center"],[1,"text-center","px-4","mb-8"],[1,"text-lg","text-white","max-w-4xl","mx-auto","font-light"],[1,"text-center","px-4"],[1,"text-4xl","font-serif","text-white","font-bold"],["src","assets/images/footer-picture.jpg","alt","Royella Luxury Hotel",1,"w-full","h-full","object-cover"],[1,"bg-black","text-white","py-12","px-4"],[1,"max-w-6xl","mx-auto"],[1,"text-xl","md:text-2xl","font-serif","text-center","mb-12"],[1,"flex","flex-col","md:flex-row","justify-center","items-center","gap-8","md:gap-16"],[1,"flex","items-center","gap-3"],[1,"w-10","h-10","rounded-full","bg-gray-800","flex","items-center","justify-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"],[1,"text-gray-300","text-lg"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 11a3 3 0 11-6 0 3 3 0 016 0z"],[1,"border-t","border-gray-800","mt-12","pt-6","flex","flex-col","md:flex-row","justify-between","items-center"],[1,"text-gray-400","text-lg","mb-4","md:mb-0"],[1,"flex","gap-4"],["href","#",1,"w-10","h-10","rounded-full","bg-gray-800","flex","items-center","justify-center","hover:bg-gray-700","transition"],["xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 24 24",1,"h-5","w-5"],["d","M22.675 0h-21.35c-.732 0-1.325.593-1.325 1.325v21.351c0 .731.593 1.324 1.325 1.324h11.495v-9.294h-3.128v-3.622h3.128v-2.671c0-3.1 1.893-4.788 4.659-4.788 1.325 0 2.463.099 2.795.143v3.24l-1.918.001c-1.504 0-1.795.715-1.795 1.763v2.313h3.587l-.467 3.622h-3.12v9.293h6.116c.73 0 1.323-.593 1.323-1.325v-21.35c0-.732-.593-1.325-1.325-1.325z"],["d","M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"],["d","M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"],[1,"md:hidden","absolute","top-20","left-0","right-0","bg-black","text-white","px-6","py-4","z-50"],[1,"flex","flex-col","items-center","space-y-4"],["class","space-y-4",4,"ngIf"],[1,"space-y-4"],["class","border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",4,"ngFor","ngForOf"],[1,"border","border-gray-200","rounded-lg","p-4","hover:shadow-md","transition-shadow"],[1,"flex","justify-between","items-start"],[1,"flex-1"],[1,"text-lg","font-medium","text-[#d6bfa9]","mb-2"],[1,"text-gray-700"],[1,"ml-4","px-4","py-2","bg-[#d6bfa9]","hover:bg-[#c5ab94]","text-white","rounded","transition-colors","flex","items-center",3,"click"],[1,"material-icons","mr-2","text-white"],[1,"text-center","py-12"],[1,"flex","justify-center","mb-6"],[1,"material-icons","text-6xl","text-[#d6bfa9]"],[1,"text-xl","font-medium","text-gray-700","mb-4"],[1,"text-gray-600","mb-6","max-w-2xl","mx-auto"],[1,"flex","flex-col","sm:flex-row","justify-center","gap-4"],[1,"px-6","py-3","bg-[#d6bfa9]","text-white","rounded","hover:bg-[#c5ab94]","transition-colors",3,"click"],[1,"material-icons","align-middle","mr-2"],[1,"px-6","py-3","border","border-[#d6bfa9]","text-[#d6bfa9]","rounded","hover:bg-[#f5f0eb]","transition-colors",3,"click"]],template:function(t,i){if(t&1){let r=ht();m(0,"header",1)(1,"div",2)(2,"div",3)(3,"a",4),V("click",function(){return ee(r),te(i.navigateTo("home"))}),p(4,"Luxury Hotel"),f()()(),m(5,"div",5)(6,"button",6),V("click",function(){return ee(r),te(i.toggleMenu())}),m(7,"span",7),p(8,"menu"),f()()(),m(9,"nav",8)(10,"a",9),V("click",function(){return ee(r),te(i.navigateTo("home"))}),p(11,"Home"),f(),m(12,"a",9),V("click",function(o){return ee(r),te(i.scrollTo("about",o))}),p(13,"About"),f(),m(14,"a",9),V("click",function(){return ee(r),te(i.navigateTo("services"))}),p(15,"Rooms"),f(),m(16,"a",9),V("click",function(){return ee(r),te(i.navigateTo("clients"))}),p(17,"Clients"),f(),m(18,"a",9),V("click",function(){return ee(r),te(i.navigateTo("services"))}),p(19,"Services"),f(),m(20,"a",9),V("click",function(o){return ee(r),te(i.scrollTo("contact",o))}),p(21,"Contact"),f()()(),ne(22,y2,14,0,"div",10),m(23,"div",11)(24,"div",12)(25,"div",13)(26,"h2",14),ne(27,w2,2,2,"span",15)(28,b2,2,0,"span",15),f()(),m(29,"div",16),ne(30,C2,2,1,"ng-container",17)(31,S2,17,0,"ng-template",null,0,M_),f()()(),m(33,"footer",18)(34,"div",19)(35,"div",20)(36,"div",21)(37,"p",22),p(38," D\xE9couvrez un havre de paix o\xF9 luxe et \xE9l\xE9gance se rencontrent pour cr\xE9er des souvenirs inoubliables "),f()(),m(39,"div",23)(40,"h2",24),p(41,"Votre \xC9chapp\xE9e Belle Commence Ici"),f()()(),$(42,"img",25),f(),m(43,"div",26)(44,"div",27)(45,"h3",28),p(46,"LUXURY HOTEL"),f(),m(47,"div",29)(48,"div",30)(49,"div",31),_e(),m(50,"svg",32),$(51,"path",33),f()(),Te(),m(52,"p",34),p(53,"(+088) 210 - 123 - 4567"),f()(),m(54,"div",30)(55,"div",31),_e(),m(56,"svg",32),$(57,"path",35),f()(),Te(),m(58,"p",34),p(59,"info@luxury-hotel.com"),f()(),m(60,"div",30)(61,"div",31),_e(),m(62,"svg",32),$(63,"path",36)(64,"path",37),f()(),Te(),m(65,"p",34),p(66,"79 alger, Algeria"),f()()(),m(67,"div",38)(68,"p",39),p(69,"Copyright \xA9 2025 lexury hotel. Tous droits r\xE9serv\xE9s."),f(),m(70,"div",40)(71,"a",41),_e(),m(72,"svg",42),$(73,"path",43),f()(),Te(),m(74,"a",41),_e(),m(75,"svg",42),$(76,"path",44),f()(),Te(),m(77,"a",41),_e(),m(78,"svg",42),$(79,"path",45),f()()()()()()()}if(t&2){let r=P_(32);P(22),z("ngIf",i.isMenuOpen),P(5),z("ngIf",i.client),P(),z("ngIf",!i.client),P(2),z("ngIf",i.client)("ngIfElse",r)}},dependencies:[kt,Xn,Bt,Ql]})};function T2(n,e){if(n&1){let t=ht();m(0,"div",54)(1,"div",55)(2,"a",8),V("click",function(){ee(t);let r=H();return te(r.handleMobileClick("home"))}),p(3,"Home"),f(),m(4,"a",8),V("click",function(r){ee(t);let s=H();return te(s.handleMobileClick("about",r))}),p(5,"About"),f(),m(6,"a",8),V("click",function(){ee(t);let r=H();return te(r.handleMobileClick("services"))}),p(7,"Rooms"),f(),m(8,"a",8),V("click",function(){ee(t);let r=H();return te(r.handleMobileClick("clients"))}),p(9,"Clients"),f(),m(10,"a",8),V("click",function(){ee(t);let r=H();return te(r.handleMobileClick("services"))}),p(11,"Services"),f(),m(12,"a",8),V("click",function(r){ee(t);let s=H();return te(s.handleMobileClick("contact",r))}),p(13,"Contact"),f()()()}}var Ca=class n{constructor(e){this.router=e;window.scrollTo({top:0,behavior:"smooth"})}isMenuOpen=!1;isScrolled=!1;toggleMenu(){this.isMenuOpen=!this.isMenuOpen}handleMobileClick(e,t){t&&t.preventDefault(),e==="about"||e==="contact"?this.scrollTo(e,t):this.navigateTo(e)}navigateTo(e){this.router.navigate([`/${e}`]),this.isMenuOpen=!1}scrollTo(e,t){if(t&&t.preventDefault(),this.isMenuOpen=!1,e==="home"){window.scrollTo({top:0,behavior:"smooth"});return}if(e==="about"||e==="contact"){let i=document.getElementById("footer-section");i&&i.scrollIntoView({behavior:"smooth",block:"start"});return}}static \u0275fac=function(t){return new(t||n)(k($t))};static \u0275cmp=Se({type:n,selectors:[["app-services"]],standalone:!0,features:[Ae],decls:240,vars:1,consts:[[1,"fixed","top-0","left-0","right-0","flex","items-center","justify-between","px-8","py-6","text-white","z-50","transition-all","duration-300","bg-black","shadow-md"],[1,"flex","items-center","space-x-2"],[1,"text-sm","font-light","uppercase"],[3,"click"],[1,"md:hidden","flex","items-center","space-x-4","pr-0"],[1,"text-white",3,"click"],[1,"material-icons","text-3xl"],[1,"space-x-6","hidden","md:flex"],[1,"hover:underline",3,"click"],["class","md:hidden absolute top-20 left-0 right-0 bg-black text-white px-6 py-4 z-50",4,"ngIf"],[1,"bg-[#f9f7f4]","py-16","px-4","sm:px-6","lg:px-8"],[1,"max-w-7xl","mx-auto"],[1,"text-center","mb-16","mt-20"],[1,"text-3xl","md:text-4xl","font-serif","font-bold","text-gray-800","mb-4"],[1,"text-lg","text-gray-600","max-w-3xl","mx-auto"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","gap-8"],[1,"bg-white","rounded-xl","shadow-lg","overflow-hidden","transition-transform","duration-300","hover:scale-105"],[1,"p-6"],[1,"flex","items-center","mb-4"],[1,"bg-[#d6bfa9]","p-3","rounded-full","mr-4"],[1,"material-icons","text-white"],[1,"text-xl","font-bold","text-gray-800"],[1,"text-gray-600","mb-4"],[1,"space-y-2","mb-6"],[1,"flex","items-center","text-gray-600"],[1,"material-icons","text-[#d6bfa9]","mr-2"],["id","footer-section"],[1,"relative","h-96","w-full"],[1,"absolute","inset-0","bg-black","bg-opacity-80","flex","flex-col","items-center","justify-center"],[1,"text-center","px-4","mb-8"],[1,"text-lg","text-white","max-w-4xl","mx-auto","font-light"],[1,"text-center","px-4"],[1,"text-4xl","font-serif","text-white","font-bold"],["src","assets/images/footer-picture.jpg","alt","Royella Luxury Hotel",1,"w-full","h-full","object-cover"],[1,"bg-black","text-white","py-12","px-4"],[1,"max-w-6xl","mx-auto"],[1,"text-xl","md:text-2xl","font-serif","text-center","mb-12"],[1,"flex","flex-col","md:flex-row","justify-center","items-center","gap-8","md:gap-16"],[1,"flex","items-center","gap-3"],[1,"w-10","h-10","rounded-full","bg-gray-800","flex","items-center","justify-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"],[1,"text-gray-300","text-lg"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 11a3 3 0 11-6 0 3 3 0 016 0z"],[1,"border-t","border-gray-800","mt-12","pt-6","flex","flex-col","md:flex-row","justify-between","items-center"],[1,"text-gray-400","text-lg","mb-4","md:mb-0"],[1,"flex","gap-4"],["href","#",1,"w-10","h-10","rounded-full","bg-gray-800","flex","items-center","justify-center","hover:bg-gray-700","transition"],["xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 24 24",1,"h-5","w-5"],["d","M22.675 0h-21.35c-.732 0-1.325.593-1.325 1.325v21.351c0 .731.593 1.324 1.325 1.324h11.495v-9.294h-3.128v-3.622h3.128v-2.671c0-3.1 1.893-4.788 4.659-4.788 1.325 0 2.463.099 2.795.143v3.24l-1.918.001c-1.504 0-1.795.715-1.795 1.763v2.313h3.587l-.467 3.622h-3.12v9.293h6.116c.73 0 1.323-.593 1.323-1.325v-21.35c0-.732-.593-1.325-1.325-1.325z"],["d","M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"],["d","M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"],[1,"md:hidden","absolute","top-20","left-0","right-0","bg-black","text-white","px-6","py-4","z-50"],[1,"flex","flex-col","items-center","space-y-4"]],template:function(t,i){t&1&&(m(0,"header",0)(1,"div",1)(2,"div",2)(3,"a",3),V("click",function(){return i.navigateTo("home")}),p(4,"Luxury Hotel"),f()()(),m(5,"div",4)(6,"button",5),V("click",function(){return i.toggleMenu()}),m(7,"span",6),p(8,"menu"),f()()(),m(9,"nav",7)(10,"a",8),V("click",function(){return i.navigateTo("home")}),p(11,"Home"),f(),m(12,"a",8),V("click",function(s){return i.scrollTo("about",s)}),p(13,"About"),f(),m(14,"a",8),V("click",function(){return i.navigateTo("services")}),p(15,"Rooms"),f(),m(16,"a",8),V("click",function(){return i.navigateTo("clients")}),p(17,"Clients"),f(),m(18,"a",8),V("click",function(){return i.navigateTo("services")}),p(19,"Services"),f(),m(20,"a",8),V("click",function(s){return i.scrollTo("contact",s)}),p(21,"Contact"),f()()(),ne(22,T2,14,0,"div",9),m(23,"div",10)(24,"div",11)(25,"div",12)(26,"h2",13),p(27,"Nos Services Exclusifs"),f(),m(28,"p",14),p(29," D\xE9couvrez l'excellence \xE0 travers nos services haut de gamme con\xE7us pour votre confort et bien-\xEAtre. "),f()(),m(30,"div",15)(31,"div",16)(32,"div",17)(33,"div",18)(34,"div",19)(35,"span",20),p(36,"king_bed"),f()(),m(37,"h3",21),p(38,"Nos Chambres"),f()(),m(39,"p",22),p(40," Des chambres luxueuses con\xE7ues pour votre confort absolu avec des options personnalisables. "),f(),m(41,"ul",23)(42,"li",24)(43,"span",25),p(44,"check_circle"),f(),p(45," Types: Classique, Deluxe, Suite, Pr\xE9sidentielle "),f(),m(46,"li",24)(47,"span",25),p(48,"check_circle"),f(),p(49," Vues: Jardin, Ville, Mer, Piscine "),f(),m(50,"li",24)(51,"span",25),p(52,"check_circle"),f(),p(53," Lits: Simple, Queen, King, Super King "),f(),m(54,"li",24)(55,"span",25),p(56,"check_circle"),f(),p(57," \xC9tages disponibles selon pr\xE9f\xE9rence "),f()()()(),m(58,"div",16)(59,"div",17)(60,"div",18)(61,"div",19)(62,"span",20),p(63,"restaurant"),f()(),m(64,"h3",21),p(65,"Restauration"),f()(),m(66,"p",22),p(67," Une exp\xE9rience culinaire exceptionnelle adapt\xE9e \xE0 tous vos d\xE9sirs. "),f(),m(68,"ul",23)(69,"li",24)(70,"span",25),p(71,"check_circle"),f(),p(72," Petit-d\xE9jeuner: Tardif, En chambre, Au restaurant "),f(),m(73,"li",24)(74,"span",25),p(75,"check_circle"),f(),p(76," Boissons: Soft, Alcools premium, S\xE9lection de vins "),f(),m(77,"li",24)(78,"span",25),p(79,"check_circle"),f(),p(80," Options: \xC0 la carte, Buffet, Menu d\xE9gustation "),f(),m(81,"li",24)(82,"span",25),p(83,"check_circle"),f(),p(84," Service 24h/24 disponible "),f()()()(),m(85,"div",16)(86,"div",17)(87,"div",18)(88,"div",19)(89,"span",20),p(90,"spa"),f()(),m(91,"h3",21),p(92,"Spa & Bien-\xEAtre"),f()(),m(93,"p",22),p(94," Un sanctuaire de relaxation avec des soins sur mesure pour votre r\xE9g\xE9n\xE9ration. "),f(),m(95,"ul",23)(96,"li",24)(97,"span",25),p(98,"check_circle"),f(),p(99," Massages: Su\xE9dois, Ayurv\xE9dique, Aux pierres chaudes "),f(),m(100,"li",24)(101,"span",25),p(102,"check_circle"),f(),p(103," Jacuzzi privatif avec vue panoramique "),f(),m(104,"li",24)(105,"span",25),p(106,"check_circle"),f(),p(107," Sauna finlandais et Hammam marocain "),f(),m(108,"li",24)(109,"span",25),p(110,"check_circle"),f(),p(111," Soins visage et corps haut de gamme "),f()()()(),m(112,"div",16)(113,"div",17)(114,"div",18)(115,"div",19)(116,"span",20),p(117,"fitness_center"),f()(),m(118,"h3",21),p(119,"Salle de Sport"),f()(),m(120,"p",22),p(121," Des installations modernes pour maintenir votre routine fitness en voyage. "),f(),m(122,"ul",23)(123,"li",24)(124,"span",25),p(125,"check_circle"),f(),p(126," Option avec coach personnel certifi\xE9 "),f(),m(127,"li",24)(128,"span",25),p(129,"check_circle"),f(),p(130," Acc\xE8s libre sans coach disponible "),f(),m(131,"li",24)(132,"span",25),p(133,"check_circle"),f(),p(134," \xC9quipements Technogym derni\xE8re g\xE9n\xE9ration "),f(),m(135,"li",24)(136,"span",25),p(137,"check_circle"),f(),p(138," Ouvert 24h/24 avec acc\xE8s s\xE9curis\xE9 "),f()()()(),m(139,"div",16)(140,"div",17)(141,"div",18)(142,"div",19)(143,"span",20),p(144,"star"),f()(),m(145,"h3",21),p(146,"Services Premium"),f()(),m(147,"p",22),p(148," Des services exclusifs pour rendre votre s\xE9jour parfait. "),f(),m(149,"ul",23)(150,"li",24)(151,"span",25),p(152,"check_circle"),f(),p(153," Conciergerie 24h/24 "),f(),m(154,"li",24)(155,"span",25),p(156,"check_circle"),f(),p(157," Service de transport (navette, limousine) "),f(),m(158,"li",24)(159,"span",25),p(160,"check_circle"),f(),p(161," Blanchisserie et pressing express "),f(),m(162,"li",24)(163,"span",25),p(164,"check_circle"),f(),p(165," Service de chambre (matin & soir) "),f()()()(),m(166,"div",16)(167,"div",17)(168,"div",18)(169,"div",19)(170,"span",20),p(171,"pool"),f()(),m(172,"h3",21),p(173,"Piscine & Confort"),f()(),m(174,"p",22),p(175," Des installations aquatiques pour votre d\xE9tente et votre plaisir. "),f(),m(176,"ul",23)(177,"li",24)(178,"span",25),p(179,"check_circle"),f(),p(180," Piscine ext\xE9rieure avec vue panoramique "),f(),m(181,"li",24)(182,"span",25),p(183,"check_circle"),f(),p(184," Piscine int\xE9rieure chauff\xE9e "),f(),m(185,"li",24)(186,"span",25),p(187,"check_circle"),f(),p(188," Wi-Fi haut d\xE9bit dans tout l'h\xF4tel "),f(),m(189,"li",24)(190,"span",25),p(191,"check_circle"),f(),p(192," Wi-Fi normal disponible "),f()()()()()()(),m(193,"footer",26)(194,"div",27)(195,"div",28)(196,"div",29)(197,"p",30),p(198," D\xE9couvrez un havre de paix o\xF9 luxe et \xE9l\xE9gance se rencontrent pour cr\xE9er des souvenirs inoubliables "),f()(),m(199,"div",31)(200,"h2",32),p(201,"Votre \xC9chapp\xE9e Belle Commence Ici"),f()()(),$(202,"img",33),f(),m(203,"div",34)(204,"div",35)(205,"h3",36),p(206,"LUXURY HOTEL"),f(),m(207,"div",37)(208,"div",38)(209,"div",39),_e(),m(210,"svg",40),$(211,"path",41),f()(),Te(),m(212,"p",42),p(213,"(+088) 210 - 123 - 4567"),f()(),m(214,"div",38)(215,"div",39),_e(),m(216,"svg",40),$(217,"path",43),f()(),Te(),m(218,"p",42),p(219,"info@luxury-hotel.com"),f()(),m(220,"div",38)(221,"div",39),_e(),m(222,"svg",40),$(223,"path",44)(224,"path",45),f()(),Te(),m(225,"p",42),p(226,"79 alger, Algeria"),f()()(),m(227,"div",46)(228,"p",47),p(229,"Copyright \xA9 2025 lexury hotel. Tous droits r\xE9serv\xE9s."),f(),m(230,"div",48)(231,"a",49),_e(),m(232,"svg",50),$(233,"path",51),f()(),Te(),m(234,"a",49),_e(),m(235,"svg",50),$(236,"path",52),f()(),Te(),m(237,"a",49),_e(),m(238,"svg",50),$(239,"path",53),f()()()()()()()),t&2&&(P(22),z("ngIf",i.isMenuOpen))},dependencies:[kt,Bt],encapsulation:2})};var IE=[{path:"",component:Ea},{path:"add-client",component:Yl},{path:"clients",component:yu},{path:"recommendations/:clientId",component:Ia},{path:"recommendations",component:Ia},{path:"rooms",component:Ca},{path:"services",component:Ca},{path:"home",component:Ea}];var bu={production:!1,firebase:{apiKey:"AIzaSyC1zLKYqBJo4jyHHl2xFe8DtZ9yJlRUzno",authDomain:"testproject-eb82f.firebaseapp.com",databaseURL:"https://testproject-eb82f-default-rtdb.firebaseio.com",projectId:"testproject-eb82f",storageBucket:"testproject-eb82f.firebasestorage.app",messagingSenderId:"909146866640",appId:"1:909146866640:web:b2819d5ec393a074c72fd5",measurementId:"G-XZEEYE8339"}};var og={providers:[F_({eventCoalescing:!0}),Lv(IE),Sc(()=>Tc(bu.firebase)),Rl(()=>kl())]};var A2="@",x2=(()=>{class n{constructor(t,i,r,s,o){this.doc=t,this.delegate=i,this.zone=r,this.animationType=s,this.moduleImpl=o,this._rendererFactoryPromise=null,this.scheduler=W(C_,{optional:!0}),this.loadingSchedulerFn=W(D2,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){let t=()=>this.moduleImpl??import("./chunk-CD4QBS22.js").then(r=>r),i;return this.loadingSchedulerFn?i=this.loadingSchedulerFn(t):i=t(),i.catch(r=>{throw new Fe(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:s})=>{this._engine=r(this.animationType,this.doc);let o=new s(this.delegate,this._engine,this.zone);return this.delegate=o,o})}createRenderer(t,i){let r=this.delegate.createRenderer(t,i);if(r.\u0275type===0)return r;typeof r.throwOnSyntheticProps=="boolean"&&(r.throwOnSyntheticProps=!1);let s=new ag(r);return i?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(o=>{let c=o.createRenderer(t,i);s.use(c),this.scheduler?.notify(10)}).catch(o=>{s.use(r)}),s}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(i){od()}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac})}}return n})(),ag=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let t of this.replay)t(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,t){this.delegate.appendChild(e,t)}insertBefore(e,t,i,r){this.delegate.insertBefore(e,t,i,r)}removeChild(e,t,i){this.delegate.removeChild(e,t,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){this.shouldReplay(t)&&this.replay.push(r=>r.setProperty(e,t,i)),this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.shouldReplay(t)&&this.replay.push(r=>r.listen(e,t,i)),this.delegate.listen(e,t,i)}shouldReplay(e){return this.replay!==null&&e.startsWith(A2)}},D2=new Z("");function CE(n="animations"){return S_("NgAsyncAnimations"),Sn([{provide:Ka,useFactory:(e,t,i)=>new x2(e,t,i,n),deps:[de,Za,ce]},{provide:Qn,useValue:n==="noop"?"NoopAnimations":"BrowserAnimations"}])}tv(_c,fe(L({},og),{providers:[...og.providers||[],Sc(()=>Tc(bu.firebase)),Rl(()=>kl()),CE()]})).catch(n=>console.error(n));
